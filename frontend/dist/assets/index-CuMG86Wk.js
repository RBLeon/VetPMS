var Aa=Object.defineProperty;var Ba=(t,s,a)=>s in t?Aa(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;var qt=(t,s,a)=>Ba(t,typeof s!="symbol"?s+"":s,a);import{c as x,m as e,C as we,U as K,T as Ft,x as Ze,F as re,H as Dt,S as mt,y as ce,z as bt,A as Ia,D as Zt,B as z,E as he,G as Ea,I as U,J as cs,R as me,K as He,L as Ta,V as os,M as ms,N as xs,O as us,X as Ke,P as hs,W as ps,Y as Sa,Z as ne,_ as Pe,a0 as oe,a1 as gs,a2 as js,a3 as Fa,a4 as Da,a5 as Ra,a6 as Pa,a7 as La,a8 as Ma,a9 as Rt,aa as ct,ab as Et,ac as fs,ad as vs,ae as Oa,af as Va,ag as Ns,ah as $t,ai as bs,aj as za,ak as _a,al as Ga,am as Ua,an as qa,ao as Za,ap as $a,aq as Ha,ar as Ka,as as Wa,at as Ja,au as Ya,av as Pt,aw as Qa,ax as Xa,ay as en,az as tn,aA as sn,aB as an,aC as ys,aD as nn,aE as rn,aF as ws,aG as ln,aH as xt,aI as Lt,aJ as ge,aK as dn,aL as cn,aM as on,aN as mn,aO as xn,aP as ks,aQ as Cs,aR as un,aS as As,aT as Bs,aU as Is,aV as Es,aW as Ts,aX as hn,aY as Ss,aZ as Fs,a_ as pn,a$ as gn,b0 as jn,b1 as Je,b2 as fn,b3 as vn,b4 as Nn,b5 as bn,b6 as yn,b7 as wn,b8 as Ds,b9 as Rs,ba as kn,bb as Cn,bc as An,bd as ut,be as Bn,bf as In,bg as En,bh as Tn,bi as Sn,bj as Fn,bk as Dn,bl as Mt,bm as Rn,bn as Ht,bo as Pn,bp as ht,bq as Ot,br as Ps,bs as Ln,bt as Mn,bu as Kt,bv as On,bw as Vn,bx as zn,by as O,bz as ue,bA as _n,bB as Gn,bC as Un}from"./vendor-react-CoEZyN0g.js";import{ah as qn,ai as Zn,aj as pt,a1 as $,ak as Ee,al as We,am as pe,an as Ls,ao as M,ap as de,aq as Tt,ar as gt,as as Wt,at as Le,au as $n,av as Hn,aw as Kn,ax as ze,ay as ve,V as Jt,az as Wn,aA as et,aB as Jn,aC as Yt,aD as Yn,aE as Qt,aF as Qn,aG as Xn,aH as er}from"./vendor-Cy_X-qLP.js";import{h as Ms,j as tr,k as sr,l as ar}from"./vendor-query-tJjXJmJZ.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}})();const Os=x.createContext(void 0),nr=({children:t})=>{const[s,a]=x.useState(null),[n,r]=x.useState([]),[i,d]=x.useState(!0),[l,N]=x.useState(null);x.useEffect(()=>{(async()=>{try{const y=[{id:"1",name:"VetPMS Main Franchise",code:"VC-MAIN",type:"FRANCHISE",isActive:!0},{id:"2",name:"Amsterdam Central Clinic",code:"VC-AMS-1",type:"PRACTICE",parentId:"1",isActive:!0},{id:"3",name:"Rotterdam South Clinic",code:"VC-ROT-1",type:"PRACTICE",parentId:"1",isActive:!0}];r(y);const u=y.find(o=>o.type==="PRACTICE")||y[0];a(u),d(!1)}catch{N("Failed to load tenant information"),d(!1)}})()},[]);const p={currentTenant:s,accessibleTenants:n,setCurrentTenant:a,isLoading:i,error:l,hasAccess:C=>n.some(y=>y.id===C)};return e.jsx(Os.Provider,{value:p,children:t})},Vs=()=>{const t=x.useContext(Os);if(t===void 0)throw new Error("useTenant must be used within a TenantProvider");return t},zs=x.createContext(void 0),rr=({children:t})=>{const[s,a]=x.useState(()=>{const y=localStorage.getItem("vc_user");return y?JSON.parse(y):null}),[n,r]=x.useState(!1),[i,d]=x.useState(null);x.useEffect(()=>{s?localStorage.setItem("vc_user",JSON.stringify(s)):localStorage.removeItem("vc_user")},[s]);const l=async(y,u)=>{try{if(r(!0),d(null),y==="demo@vetpms.nl"&&u==="demo123"){a({id:"1",email:y,firstName:"Demo",lastName:"User",role:"VETERINARIAN",permissions:[],tenantId:"1",username:"demo"});return}throw new Error("Invalid credentials")}catch(o){throw d(o instanceof Error?o.message:"An error occurred"),o}finally{r(!1)}},N=async y=>{try{r(!0),d(null);const u={id:"1",email:y.email,role:"VETERINARIAN",permissions:[],tenantId:"1",username:y.email};a(u)}catch(u){d(u instanceof Error?u.message:"An error occurred")}finally{r(!1)}},m=async y=>{try{r(!0),d(null),console.log(`Password reset requested for: ${y}`)}catch(u){d(u instanceof Error?u.message:"An error occurred")}finally{r(!1)}},p=async(y,u)=>{try{r(!0),d(null),a({id:"1",email:"demo@vetpms.nl",firstName:"Demo",lastName:"User",role:"VETERINARIAN",permissions:[],tenantId:"1",username:"demo"}),console.log(`Password reset with token: ${y} and new password: ${u}`)}catch(o){throw d(o instanceof Error?o.message:"An error occurred"),o}finally{r(!1)}},C=async()=>{try{r(!0),d(null),a(null),localStorage.removeItem("vc_user"),localStorage.removeItem("vc_role"),localStorage.removeItem("vc_theme")}catch(y){d(y instanceof Error?y.message:"An error occurred")}finally{r(!1)}};return e.jsx(zs.Provider,{value:{user:s,isLoading:n,isAuthenticated:!!s,error:i,login:l,register:N,forgotPassword:m,resetPassword:p,logout:C},children:t})},Ye=()=>{const t=x.useContext(zs);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Ne=[{title:"Dashboard",href:"/",icon:Dt,color:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300"},{title:"Instellingen",href:"/settings",icon:mt,color:"bg-slate-100 text-slate-700 dark:bg-slate-900/20 dark:text-slate-300"},{title:"Profiel",href:"/settings/profile",icon:ce,color:"bg-purple-100 text-purple-700 dark:bg-purple-900/20 dark:text-purple-300"}],be=[],tt={ADMIN:{displayName:"Systeembeheerder",description:"Technisch personeel met volledige systeemtoegang",permissions:["*"],navItems:[...Ne,{title:"Gebruikers & Rechten",href:"/admin/users",icon:K,color:"bg-purple-100 text-purple-700 dark:bg-purple-900/20 dark:text-purple-300"},{title:"Systeemconfiguratie",href:"/admin/config",icon:mt,color:"bg-slate-100 text-slate-700 dark:bg-slate-900/20 dark:text-slate-300"},{title:"Praktijkinstellingen",href:"/admin/practice",icon:bt,color:"bg-teal-100 text-teal-700 dark:bg-teal-900/20 dark:text-teal-300"},{title:"Logs & Monitoring",href:"/admin/logs",icon:re,color:"bg-amber-100 text-amber-700 dark:bg-amber-900/20 dark:text-amber-300"},{title:"Analytics",href:"/analytics",icon:we,color:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300"}],quickActions:[...be,{title:"Gebruikersbeheer",href:"/admin/users",icon:K,color:"bg-purple-100 text-purple-700 dark:bg-purple-900/20 dark:text-purple-300"},{title:"Systeemstatus",href:"/admin/config",icon:bt,color:"bg-teal-100 text-teal-700 dark:bg-teal-900/20 dark:text-teal-300"}],contextualFeatures:{showPatientBanner:!0,showMedicalRecordTabs:!0,showPrescriptionTools:!0,showBillingDetails:!0,showAdvancedClinical:!0,useRoleBasedDashboard:!0}},VETERINARIAN:{displayName:"Dierenarts",description:"Volledige toegang tot klinische functies en patiëntgegevens",permissions:["patients.view","patients.edit","appointments.view","appointments.edit","medical_records.view","medical_records.edit","prescriptions.view","prescriptions.edit"],navItems:[...Ne,{title:"Afspraken",href:"/appointments",icon:z,color:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300"},{title:"Patiënten",href:"/patients",icon:he,color:"bg-teal-100 text-teal-700 dark:bg-teal-900/20 dark:text-teal-300"},{title:"Medische Dossiers",href:"/medical-records",icon:re,color:"bg-purple-100 text-purple-700 dark:bg-purple-900/20 dark:text-purple-300"}],quickActions:[...be,{title:"Nieuwe Afspraak",href:"/appointments",icon:z,color:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300"},{title:"Nieuwe Patiënt",href:"/patients/new",icon:he,color:"bg-teal-100 text-teal-700 dark:bg-teal-900/20 dark:text-teal-300"},{title:"Medisch Dossier",href:"/medical-records/new",icon:re,color:"bg-purple-100 text-purple-700 dark:bg-purple-900/20 dark:text-purple-300"}],contextualFeatures:{showPatientBanner:!0,showMedicalRecordTabs:!0,showPrescriptionTools:!0,showBillingDetails:!0,showAdvancedClinical:!0,useRoleBasedDashboard:!0}},NURSE:{displayName:"Dierenartsassistent",description:"Klinisch ondersteunend personeel dat dierenartsen assisteert",permissions:["medical_records:read","medical_records:write:basic","appointments:read","patients:read","patients:write:vitals","clients:read","treatments:execute"],navItems:[...Ne,{title:"Afspraken",href:"/appointments",icon:z,color:"bg-purple-100 text-purple-700 dark:bg-purple-900/20 dark:text-purple-300"},{title:"Patiënten",href:"/patients",icon:K,color:"bg-teal-100 text-teal-700 dark:bg-teal-900/20 dark:text-teal-300"},{title:"Medische Dossiers",href:"/medical-records",icon:he,color:"bg-amber-100 text-amber-700 dark:bg-amber-900/20 dark:text-amber-300"},{title:"Taken",href:"/tasks",icon:re,color:"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-300"}],quickActions:[...be,{title:"Vitalen Registreren",href:"/patients/vitals",icon:Ea,color:"bg-amber-100 text-amber-700 dark:bg-amber-900/20 dark:text-amber-300"},{title:"Nieuwe Afspraak",href:"/appointments",icon:z,color:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300"}],contextualFeatures:{showPatientBanner:!0,showMedicalRecordTabs:!0,showPrescriptionTools:!1,showBillingDetails:!1,showAdvancedClinical:!1,useRoleBasedDashboard:!0}},RECEPTIONIST:{displayName:"Baliemedewerker",description:"Baliepersoneel voor het beheren van afspraken en klantcontact",permissions:["appointments:read","appointments:write","clients:read","clients:write","patients:read","invoices:read","invoices:create","medical_records:read"],navItems:[...Ne,{title:"Afspraken",href:"/appointments",icon:z,color:"bg-purple-100 text-purple-700 dark:bg-purple-900/20 dark:text-purple-300"},{title:"Klanten",href:"/clients",icon:K,color:"bg-teal-100 text-teal-700 dark:bg-teal-900/20 dark:text-teal-300"},{title:"Patiënten",href:"/patients",icon:ce,color:"bg-amber-100 text-amber-700 dark:bg-amber-900/20 dark:text-amber-300"},{title:"Medische Dossiers",href:"/medical-records",icon:he,color:"bg-amber-100 text-amber-700 dark:bg-amber-900/20 dark:text-amber-300"}],quickActions:[...be,{title:"Nieuwe Afspraak",href:"/appointments",icon:z,color:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300"},{title:"Nieuwe Klant",href:"/clients/new",icon:K,color:"bg-teal-100 text-teal-700 dark:bg-teal-900/20 dark:text-teal-300"},{title:"Patiënt Inchecken",href:"/appointments/check-in",icon:ce,color:"bg-purple-100 text-purple-700 dark:bg-purple-900/20 dark:text-purple-300"}],contextualFeatures:{showPatientBanner:!0,showMedicalRecordTabs:!1,showPrescriptionTools:!1,showBillingDetails:!0,showAdvancedClinical:!1,useRoleBasedDashboard:!0}},MANAGER:{displayName:"Praktijkmanager",description:"Administratief personeel dat toezicht houdt op de praktijk",permissions:["rapporten:lezen","personeel:lezen","personeel:schrijven","facturering:lezen","facturering:schrijven","voorraad:lezen","voorraad:schrijven","instellingen:lezen","instellingen:schrijven","afspraken:lezen","klanten:lezen","patiënten:lezen","financieel:lezen","financieel:schrijven"],navItems:[...Ne,{title:"Analytics",href:"/analytics",icon:we,color:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300"},{title:"Personeelsbeheer",href:"/personeel",icon:K,color:"bg-teal-100 text-teal-700 dark:bg-teal-900/20 dark:text-teal-300"},{title:"Financieel Beheer",href:"/finance",icon:Ze,color:"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-300"},{title:"Voorraad",href:"/voorraad",icon:Zt,color:"bg-amber-100 text-amber-700 dark:bg-amber-900/20 dark:text-amber-300"}],quickActions:[...be,{title:"Dagelijks Rapport",href:"/analytics/daily",icon:we,color:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300"},{title:"Personeelsrooster",href:"/staff/schedule",icon:Ia,color:"bg-teal-100 text-teal-700 dark:bg-teal-900/20 dark:text-teal-300"},{title:"Voorraadcontrole",href:"/inventory/check",icon:Zt,color:"bg-amber-100 text-amber-700 dark:bg-amber-900/20 dark:text-amber-300"},{title:"Financieel Overzicht",href:"/finance/overview",icon:Ze,color:"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-300"},{title:"Facturen",href:"/finance/invoices",icon:re,color:"bg-purple-100 text-purple-700 dark:bg-purple-900/20 dark:text-purple-300"}],contextualFeatures:{showPatientBanner:!0,showMedicalRecordTabs:!0,showPrescriptionTools:!1,showBillingDetails:!0,showAdvancedClinical:!1,useRoleBasedDashboard:!0}},CEO:{displayName:"Directeur",description:"Directie met volledige systeemtoegang en strategisch toezicht",permissions:["*"],navItems:[...Ne,{title:"Praktijk Analytics",href:"/analytics",icon:we,color:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300"},{title:"Personeelsbeheer",href:"/staff",icon:K,color:"bg-teal-100 text-teal-700 dark:bg-teal-900/20 dark:text-teal-300"},{title:"Financieel Beheer",href:"/finance",icon:Ze,color:"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-300"},{title:"Multi-Tenant Beheer",href:"/tenants",icon:bt,color:"bg-purple-100 text-purple-700 dark:bg-purple-900/20 dark:text-purple-300"}],quickActions:[...be,{title:"Financieel Rapport",href:"/finance/report",icon:we,color:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300"},{title:"Personeels Overzicht",href:"/staff/overview",icon:K,color:"bg-teal-100 text-teal-700 dark:bg-teal-900/20 dark:text-teal-300"},{title:"Praktijk Groei",href:"/analytics/growth",icon:Ft,color:"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-300"},{title:"Financieel Dashboard",href:"/finance/overview",icon:Ze,color:"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-300"},{title:"Financiële Rapportages",href:"/finance/reports",icon:re,color:"bg-purple-100 text-purple-700 dark:bg-purple-900/20 dark:text-purple-300"}],contextualFeatures:{showPatientBanner:!0,showMedicalRecordTabs:!0,showPrescriptionTools:!0,showBillingDetails:!0,showAdvancedClinical:!0,useRoleBasedDashboard:!0}}},_s=x.createContext(void 0),ir=({children:t})=>{const{user:s}=Ye(),a=U(),[n,r]=x.useState(()=>{const y=localStorage.getItem("vc_role");return y&&Object.keys(tt).includes(y)?y:null}),[i,d]=x.useState(n?tt[n]:tt.VETERINARIAN);x.useEffect(()=>{d(n?tt[n]:{displayName:"No Role",description:"Please select a role",permissions:[],navItems:[],quickActions:[],contextualFeatures:{}})},[n]),x.useEffect(()=>{s?s&&!n&&a("/role-selection"):(r(null),localStorage.removeItem("vc_role"))},[s,n,a]);const l=y=>{y===null?(r(null),localStorage.removeItem("vc_role")):(r(y),localStorage.setItem("vc_role",y))},N=y=>i.permissions.includes(y),m=y=>y.filter(u=>!u.requiredPermission||N(u.requiredPermission)),p=m(i.navItems),C=m(i.quickActions);return e.jsx(_s.Provider,{value:{role:n,setRole:l,roleConfig:i,permissions:i.permissions,hasPermission:N,userNavItems:p,quickActions:C,contextualFeatures:i.contextualFeatures},children:t})},je=()=>{const t=x.useContext(_s);if(t===void 0)throw new Error("useRole must be used within a RoleProvider");return t},Gs=x.createContext(void 0),lr=({children:t})=>{const[s,a]=x.useState(null),[n,r]=x.useState([]),[i,d]=x.useState([]),[l,N]=x.useState(null),[m,p]=x.useState(null),[C,y]=x.useState(!0),[u,o]=x.useState(()=>{const G=localStorage.getItem("vc_theme");return G?G==="dark":!1}),[V,B]=x.useState(!1),[v,A]=x.useState(null);x.useEffect(()=>{u?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.getItem("vc_theme")||localStorage.setItem("vc_theme","light")},[u]);const E=x.useCallback(()=>{y(G=>!G)},[]),L=x.useCallback(()=>{o(G=>{const T=!G;return T?(document.documentElement.classList.add("dark"),localStorage.setItem("vc_theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("vc_theme","light")),T})},[]),P=x.useCallback((G,T)=>{N(G),p(T)},[]),q=x.useCallback(G=>{B(!0),G.length>2?A([{id:"1",type:"patient",name:"Max",species:"Dog",breed:"Labrador"},{id:"2",type:"client",name:"John Smith",email:"john@example.com"},{id:"3",type:"appointment",date:"2025-04-15",time:"14:30"}]):A([])},[]),te=x.useCallback(()=>{B(!1),A(null)},[]),S={currentWorkspace:s,breadcrumb:n,contextualActions:i,activeEntityType:l,activeEntityId:m,sidebarOpen:C,isDarkMode:u,setCurrentWorkspace:a,setBreadcrumb:r,setContextualActions:d,setActiveEntity:P,toggleSidebar:E,toggleDarkMode:L,globalSearch:q,isSearchActive:V,searchResults:v,clearSearch:te};return e.jsx(Gs.Provider,{value:S,children:t})},Vt=()=>{const t=x.useContext(Gs);if(t===void 0)throw new Error("useUi must be used within a UiProvider");return t};function f(...t){return qn(Zn(t))}const St=pt("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),h=x.forwardRef(({className:t,variant:s,size:a,asChild:n=!1,...r},i)=>{const d=n?cs:"button";return e.jsx(d,{ref:i,"data-slot":"button",className:f(St({variant:s,size:a,className:t})),...r})});h.displayName="Button";const dr=pt("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-background text-foreground",destructive:"text-destructive-foreground [&>svg]:text-current *:data-[slot=alert-description]:text-destructive-foreground/80"}},defaultVariants:{variant:"default"}});function zt({className:t,variant:s,...a}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:f(dr({variant:s}),t),...a})}function cr({className:t,...s}){return e.jsx("div",{"data-slot":"alert-title",className:f("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),...s})}function _t({className:t,...s}){return e.jsx("div",{"data-slot":"alert-description",className:f("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...s})}const or=5,mr=1e6;let yt=0;function xr(){return yt=(yt+1)%Number.MAX_VALUE,yt.toString()}const Xt=new Map,ur=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,or)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(a=>{var n;return a.id===((n=s.toast)==null?void 0:n.id)?{...a,...s.toast}:a})};case"DISMISS_TOAST":{const{toastId:a}=s;return a&&Xt.set(a,setTimeout(()=>{Xt.delete(a),$e({type:"REMOVE_TOAST",toastId:a})},mr)),{...t,toasts:t.toasts.map(n=>n.id===a||a===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==s.toastId)}}},it=[];let lt={toasts:[]};function $e(t){lt=ur(lt,t),it.forEach(s=>{s(lt)})}function Gt({...t}){const s=xr(),a=r=>$e({type:"UPDATE_TOAST",toast:r}),n=()=>$e({type:"DISMISS_TOAST",toastId:s});return $e({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:r=>{r||n()}}}),{id:s,dismiss:n,update:a}}function Us(){const[t,s]=x.useState(lt);return x.useEffect(()=>(it.push(s),()=>{const a=it.indexOf(s);a>-1&&it.splice(a,1)}),[t]),{...t,toast:Gt,dismiss:a=>$e({type:"DISMISS_TOAST",toastId:a})}}class hr extends me.Component{constructor(a){super(a);qt(this,"resetErrorBoundary",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,n){console.error("Error caught by ErrorBoundary:",a,n)}render(){return this.state.hasError?e.jsx(pr,{error:this.state.error,resetErrorBoundary:this.resetErrorBoundary}):this.props.children}}const pr=({error:t,resetErrorBoundary:s})=>{const a=U();return me.useEffect(()=>{Gt({title:"An error occurred",description:(t==null?void 0:t.message)||"An unexpected error occurred",variant:"destructive"})},[t]),e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"w-full max-w-md p-6",children:[e.jsxs(zt,{variant:"destructive",children:[e.jsx(He,{className:"h-4 w-4"}),e.jsx(cr,{children:"Something went wrong"}),e.jsx(_t,{className:"mt-2",children:(t==null?void 0:t.message)||"An unexpected error occurred"})]}),e.jsxs("div",{className:"mt-6 flex gap-4",children:[e.jsxs(h,{variant:"outline",className:"flex items-center gap-2",onClick:s,children:[e.jsx(Ta,{className:"h-4 w-4"}),"Try again"]}),e.jsxs(h,{variant:"default",className:"flex items-center gap-2",onClick:()=>{s(),a("/")},children:[e.jsx(Dt,{className:"h-4 w-4"}),"Go to dashboard"]})]})]})})},gr=({children:t})=>e.jsx(hr,{children:t}),jr=Sa,qs=x.forwardRef(({className:t,...s},a)=>e.jsx(os,{ref:a,className:f("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));qs.displayName=os.displayName;const fr=pt("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Zs=x.forwardRef(({className:t,variant:s,...a},n)=>e.jsx(ms,{ref:n,className:f(fr({variant:s}),t),...a}));Zs.displayName=ms.displayName;const vr=x.forwardRef(({className:t,...s},a)=>e.jsx(xs,{ref:a,className:f("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));vr.displayName=xs.displayName;const $s=x.forwardRef(({className:t,...s},a)=>e.jsx(us,{ref:a,className:f("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(Ke,{className:"h-4 w-4"})}));$s.displayName=us.displayName;const Hs=x.forwardRef(({className:t,...s},a)=>e.jsx(hs,{ref:a,className:f("text-sm font-semibold",t),...s}));Hs.displayName=hs.displayName;const Ks=x.forwardRef(({className:t,...s},a)=>e.jsx(ps,{ref:a,className:f("text-sm opacity-90",t),...s}));Ks.displayName=ps.displayName;function Nr(){const{toasts:t}=Us();return e.jsxs(jr,{children:[t.map(function({id:s,title:a,description:n,action:r,...i}){return e.jsxs(Zs,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(Hs,{children:a}),n&&e.jsx(Ks,{children:n})]}),r,e.jsx($s,{})]},s)}),e.jsx(qs,{})]})}const Ws=()=>{const t=Ye();return{user:t.user,isLoading:t.isLoading,isAuthenticated:t.isAuthenticated,login:t.login,logout:t.logout}},D=x.forwardRef(({className:t,type:s,error:a,...n},r)=>e.jsx("input",{type:s,"data-slot":"input",className:f("border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a&&"border-red-500 focus-visible:ring-red-500",t),ref:r,...n}));D.displayName="Input";function j({className:t,...s}){return e.jsx("div",{"data-slot":"card",className:f("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function w({className:t,...s}){return e.jsx("div",{"data-slot":"card-header",className:f("flex flex-col gap-1.5 px-6",t),...s})}function k({className:t,...s}){return e.jsx("div",{"data-slot":"card-title",className:f("leading-none font-semibold",t),...s})}function ae({className:t,...s}){return e.jsx("div",{"data-slot":"card-description",className:f("text-muted-foreground text-sm",t),...s})}function b({className:t,...s}){return e.jsx("div",{"data-slot":"card-content",className:f("px-6",t),...s})}const br=()=>{const[t,s]=x.useState(""),[a,n]=x.useState(""),[r,i]=x.useState(null),d=U(),{login:l}=Ws(),N=async m=>{m.preventDefault();try{await l(t,a),d("/role-selection")}catch(p){i(p instanceof Error?p.message:"An error occurred")}};return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background",children:[e.jsx("h1",{className:"text-6xl font-bold mb-8 text-primary",children:"VetPMS"}),e.jsxs(j,{className:"w-[400px]",children:[e.jsxs(w,{children:[e.jsx(k,{children:"Inloggen"}),e.jsx(ae,{children:"Voer uw gegevens in om in te loggen"})]}),e.jsx(b,{children:e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{type:"email",placeholder:"E-mailadres",value:t,onChange:m=>s(m.target.value),required:!0}),e.jsx(D,{type:"password",placeholder:"Wachtwoord",value:a,onChange:m=>n(m.target.value),required:!0})]}),r&&e.jsx("div",{className:"text-sm text-red-500",children:r}),e.jsx(h,{type:"submit",className:"w-full",children:"Inloggen"}),e.jsx(h,{type:"button",variant:"ghost",className:"w-full",onClick:()=>d("/forgot-password"),children:"Wachtwoord vergeten?"})]})})]}),e.jsxs("div",{className:"mt-8 text-center text-sm text-muted-foreground",children:["Demo Credentials:",e.jsx("br",{}),"Email: demo@vetpms.nl",e.jsx("br",{}),"Password: demo123"]})]})},yr=()=>{const[t,s]=x.useState(""),[a,n]=x.useState(!1),r=U(),i=async d=>{d.preventDefault(),n(!0)};return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs(j,{className:"w-[400px]",children:[e.jsxs(w,{children:[e.jsx(k,{children:"Wachtwoord Reset"}),e.jsx(ae,{children:"Als er een account bestaat met dit e-mailadres, ontvangt u een e-mail met instructies om uw wachtwoord te resetten."})]}),e.jsx(b,{children:e.jsx(h,{onClick:()=>r("/login"),className:"w-full",children:"Terug naar Login"})})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs(j,{className:"w-[400px]",children:[e.jsxs(w,{children:[e.jsx(k,{children:"Wachtwoord Vergeten"}),e.jsx(ae,{children:"Voer uw e-mailadres in om een wachtwoord reset link te ontvangen."})]}),e.jsx(b,{children:e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(D,{type:"email",placeholder:"E-mailadres",value:t,onChange:d=>s(d.target.value),required:!0})}),e.jsx(h,{type:"submit",className:"w-full",children:"Reset Link Versturen"}),e.jsx(h,{type:"button",variant:"ghost",className:"w-full",onClick:()=>r("/login"),children:"Terug naar Login"})]})})]})})},wr=()=>{const[t,s]=x.useState(""),[a,n]=x.useState(""),[r,i]=x.useState(!1),d=U(),l=async N=>{if(N.preventDefault(),t!==a){alert("Wachtwoorden komen niet overeen");return}i(!0)};return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs(j,{className:"w-[400px]",children:[e.jsxs(w,{children:[e.jsx(k,{children:"Wachtwoord Reset"}),e.jsx(ae,{children:"Uw wachtwoord is succesvol gewijzigd."})]}),e.jsx(b,{children:e.jsx(h,{onClick:()=>d("/login"),className:"w-full",children:"Terug naar Login"})})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs(j,{className:"w-[400px]",children:[e.jsxs(w,{children:[e.jsx(k,{children:"Nieuw Wachtwoord"}),e.jsx(ae,{children:"Voer uw nieuwe wachtwoord in."})]}),e.jsx(b,{children:e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{type:"password",placeholder:"Nieuw wachtwoord",value:t,onChange:N=>s(N.target.value),required:!0}),e.jsx(D,{type:"password",placeholder:"Bevestig wachtwoord",value:a,onChange:N=>n(N.target.value),required:!0})]}),e.jsx(h,{type:"submit",className:"w-full",children:"Wachtwoord Wijzigen"}),e.jsx(h,{type:"button",variant:"ghost",className:"w-full",onClick:()=>d("/login"),children:"Terug naar Login"})]})})]})})},st=[{id:"1",firstName:"Jan",lastName:"de Vries",email:"jan@example.com",phone:"06-12345678",address:{street:"Hoofdstraat 123",city:"Amsterdam",state:"Noord-Holland",country:"Nederland",postalCode:"1012 AB"},preferredCommunication:"email",lastVisit:"2024-03-15",createdAt:"2024-01-01",updatedAt:"2024-01-01"},{id:"2",firstName:"Maria",lastName:"Jansen",email:"maria@example.com",phone:"06-87654321",address:{street:"Kerkstraat 45",city:"Rotterdam",state:"Zuid-Holland",country:"Nederland",postalCode:"3011 AA"},preferredCommunication:"phone",lastVisit:"2024-03-10",createdAt:"2024-01-02",updatedAt:"2024-01-02"}],_e=[{id:"1",name:"Max",species:"HOND",breed:"Labrador",age:3,weight:25,dateOfBirth:"2021-03-15",lastVisit:"2024-03-15",clientId:"1",gender:"mannelijk",microchipNumber:"123456789",color:"Zwart",allergies:["Penicilline"],medicalConditions:[],vaccinations:[{name:"Jaarlijkse vaccinatie",date:"2024-01-15",nextDueDate:"2025-01-15"}],notes:"Geen bekende aandoeningen",alerts:[],status:"ACTIVE",needsVitalsCheck:!1,registrationDate:"2021-03-15",createdAt:"2024-03-19T10:00:00Z",updatedAt:"2024-03-19T10:00:00Z"},{id:"2",name:"Luna",species:"KAT",breed:"Siamees",age:2,weight:4,dateOfBirth:"2022-05-20",lastVisit:"2024-03-14",clientId:"2",gender:"vrouwelijk",microchipNumber:"987654321",color:"Crème",allergies:[],medicalConditions:[],vaccinations:[{name:"Jaarlijkse vaccinatie",date:"2024-02-20",nextDueDate:"2025-02-20"}],notes:"Sterilisatie operatie in 2022",alerts:[],status:"ACTIVE",needsVitalsCheck:!0,registrationDate:"2022-05-20",createdAt:"2024-03-19T10:00:00Z",updatedAt:"2024-03-19T10:00:00Z"},{id:"3",name:"Buddy",species:"HOND",breed:"Golden Retriever",age:5,weight:30,dateOfBirth:"2019-08-10",lastVisit:"2024-03-13",clientId:"3",gender:"mannelijk",microchipNumber:"456789123",color:"Goud",allergies:[],medicalConditions:[],vaccinations:[{name:"Jaarlijkse vaccinatie",date:"2024-03-10",nextDueDate:"2025-03-10"}],notes:"Jaarlijkse vaccinaties up-to-date",alerts:[],status:"ACTIVE",needsVitalsCheck:!1,registrationDate:"2019-08-10",createdAt:"2024-03-19T10:00:00Z",updatedAt:"2024-03-19T10:00:00Z"}],Ge=[{id:"1",patientId:"1",patientName:"Max",clientId:"1",clientName:"Jan Jansen",providerId:"1",date:"2024-03-20",time:"09:00",type:"CONTROLE",status:"VOLTOOID",notes:"Reguliere controle - Gezond",createdAt:"2024-03-20T09:00:00Z",updatedAt:"2024-03-20T09:30:00Z"},{id:"2",patientId:"2",patientName:"Bella",clientId:"2",clientName:"Piet Pietersen",providerId:"1",date:"2024-03-20",time:"10:00",type:"VACCINATIE",status:"AANGEMELD",notes:"Jaarlijkse vaccinatie",createdAt:"2024-03-19T11:00:00Z",updatedAt:"2024-03-19T11:00:00Z"},{id:"3",patientId:"3",patientName:"Charlie",clientId:"3",clientName:"Maria de Vries",providerId:"2",date:"2024-03-20",time:"11:00",type:"OPERATIE",status:"IN_BEHANDELING",notes:"Sterilisatie operatie",createdAt:"2024-03-19T14:00:00Z",updatedAt:"2024-03-20T11:00:00Z"},{id:"4",patientId:"4",patientName:"Luna",clientId:"4",clientName:"Emma Bakker",providerId:"2",date:"2024-03-20",time:"13:00",type:"CONTROLE",status:"INGEPLAND",notes:"Follow-up na operatie",createdAt:"2024-03-18T10:00:00Z",updatedAt:"2024-03-18T10:00:00Z"},{id:"5",patientId:"5",patientName:"Milo",clientId:"5",clientName:"David Visser",providerId:"1",date:"2024-03-20",time:"14:00",type:"SPOEDGEVAL",status:"AANGEMELD",notes:"Acute buikpijn",createdAt:"2024-03-20T13:30:00Z",updatedAt:"2024-03-20T13:30:00Z"},{id:"6",patientId:"6",patientName:"Nala",clientId:"6",clientName:"Sophie Jansen",providerId:"2",date:"2024-03-20",time:"15:00",type:"GEBITSVERZORGING",status:"INGEPLAND",notes:"Tandsteen verwijdering",createdAt:"2024-03-17T09:00:00Z",updatedAt:"2024-03-17T09:00:00Z"},{id:"7",patientId:"7",patientName:"Sam",clientId:"7",clientName:"Thomas de Boer",providerId:"1",date:"2024-03-20",time:"16:00",type:"CONTROLE",status:"GEANNULEERD",notes:"Geannuleerd door klant",createdAt:"2024-03-16T11:00:00Z",updatedAt:"2024-03-19T15:00:00Z"},{id:"8",patientId:"8",patientName:"Tess",clientId:"8",clientName:"Lisa Meijer",providerId:"2",date:"2024-03-20",time:"17:00",type:"VACCINATIE",status:"INGEPLAND",notes:"Puppy vaccinatie",createdAt:"2024-03-15T10:00:00Z",updatedAt:"2024-03-15T10:00:00Z"}],at=[{id:"1",patientId:"1",patientName:"Max",veterinarianId:"1",veterinarianName:"Dhr. Smit",type:"CONSULTATIE",date:"2024-03-20",status:"ACTIEF",diagnosis:"Reguliere controle",treatment:"Geen behandeling nodig",notes:"Patiënt is gezond",chiefComplaint:"Reguliere controle",createdAt:"2024-03-20T10:00:00Z",updatedAt:"2024-03-20T10:00:00Z"},{id:"2",patientId:"2",patientName:"Bella",veterinarianId:"2",veterinarianName:"Dhr. Jansen",type:"OPERATIE",date:"2024-03-21",status:"ACTIEF",diagnosis:"Sterilisatie operatie",treatment:"Operatie succesvol voltooid",notes:"Herstelperiode: 2 weken",chiefComplaint:"Sterilisatie operatie",createdAt:"2024-03-21T11:00:00Z",updatedAt:"2024-03-21T11:00:00Z"},{id:"3",patientId:"3",patientName:"Charlie",veterinarianId:"1",veterinarianName:"Dhr. Smit",type:"VACCINATIE",date:"2024-03-22",status:"ACTIEF",diagnosis:"Jaarlijkse vaccinatie",treatment:"Vaccinatie toegediend",notes:"Volgende vaccinatie over 1 jaar",chiefComplaint:"Jaarlijkse vaccinatie",createdAt:"2024-03-22T09:00:00Z",updatedAt:"2024-03-22T09:00:00Z"}],Ue=[{id:"1",firstName:"Sanne",lastName:"Jansen",email:"sanne@dierenkliniek.nl",phone:"06-12345678",role:"VETERINARIAN",specialization:"Algemene Praktijk",hoursWorked:40,schedule:{monday:["09:00","17:00"],tuesday:["09:00","17:00"],wednesday:["09:00","17:00"],thursday:["09:00","17:00"],friday:["09:00","17:00"],saturday:[],sunday:[]},createdAt:"2024-03-19T10:00:00Z",updatedAt:"2024-03-19T10:00:00Z"},{id:"2",firstName:"Emma",lastName:"de Vries",email:"emma@dierenkliniek.nl",phone:"06-87654321",role:"NURSE",specialization:"Patiëntenzorg",hoursWorked:40,schedule:{monday:["08:00","16:00"],tuesday:["08:00","16:00"],wednesday:["08:00","16:00"],thursday:["08:00","16:00"],friday:["08:00","16:00"],saturday:[],sunday:[]},createdAt:"2024-03-19T10:00:00Z",updatedAt:"2024-03-19T10:00:00Z"},{id:"3",firstName:"Mark",lastName:"Bakker",email:"mark@dierenkliniek.nl",phone:"06-23456789",role:"VETERINARIAN",specialization:"Chirurgie",hoursWorked:32,schedule:{monday:["10:00","18:00"],tuesday:["10:00","18:00"],wednesday:["10:00","18:00"],thursday:["10:00","18:00"],friday:[],saturday:[],sunday:[]},createdAt:"2024-03-19T10:00:00Z",updatedAt:"2024-03-19T10:00:00Z"},{id:"4",firstName:"Lisa",lastName:"Visser",email:"lisa@dierenkliniek.nl",phone:"06-34567890",role:"RECEPTIONIST",specialization:"Administratie",hoursWorked:24,schedule:{monday:["09:00","17:00"],tuesday:["09:00","17:00"],wednesday:[],thursday:["09:00","17:00"],friday:[],saturday:[],sunday:[]},createdAt:"2024-03-19T10:00:00Z",updatedAt:"2024-03-19T10:00:00Z"},{id:"5",firstName:"Thomas",lastName:"de Boer",email:"thomas@dierenkliniek.nl",phone:"06-45678901",role:"MANAGER",specialization:"Kliniek Management",hoursWorked:40,schedule:{monday:["08:00","16:00"],tuesday:["08:00","16:00"],wednesday:["08:00","16:00"],thursday:["08:00","16:00"],friday:["08:00","16:00"],saturday:[],sunday:[]},createdAt:"2024-03-19T10:00:00Z",updatedAt:"2024-03-19T10:00:00Z"},{id:"6",firstName:"Sophie",lastName:"Meijer",email:"sophie@dierenkliniek.nl",phone:"06-56789012",role:"NURSE",specialization:"Anesthesie",hoursWorked:32,schedule:{monday:["10:00","18:00"],tuesday:["10:00","18:00"],wednesday:["10:00","18:00"],thursday:["10:00","18:00"],friday:[],saturday:[],sunday:[]},createdAt:"2024-03-19T10:00:00Z",updatedAt:"2024-03-19T10:00:00Z"}],qe=[{id:"1",name:"Hondenvoer - Premium",description:"Hoogwaardig premium hondenvoer",category:"VOER",quantity:50,unit:"kg",cost:49.99,supplier:"Dierenspeciaalzaak BV",reorderLevel:10,expiryDate:"2024-12-31",location:"Magazijn A",createdAt:"2024-03-19T10:00:00Z",updatedAt:"2024-03-19T10:00:00Z"},{id:"2",name:"Kattenbakvulling",description:"Premium klonterende kattenbakvulling",category:"MATERIAAL",quantity:30,unit:"zakken",cost:19.99,supplier:"Dierenspeciaalzaak BV",reorderLevel:5,expiryDate:"2024-12-31",location:"Magazijn B",createdAt:"2024-03-19T10:00:00Z",updatedAt:"2024-03-19T10:00:00Z"},{id:"3",name:"Antibiotica - Amoxicilline",description:"Antibiotica voor algemeen gebruik",category:"MEDICATIE",quantity:8,unit:"dozen",cost:89.99,supplier:"Dierenapotheek NV",reorderLevel:10,expiryDate:"2024-09-30",location:"Medicijnkast",createdAt:"2024-03-19T10:00:00Z",updatedAt:"2024-03-19T10:00:00Z"},{id:"4",name:"Vaccinatie - Rabiës",description:"Jaarlijkse rabiësvaccinatie",category:"MEDICATIE",quantity:4,unit:"dozen",cost:129.99,supplier:"Dierenapotheek NV",reorderLevel:5,expiryDate:"2024-08-31",location:"Koelkast",createdAt:"2024-03-19T10:00:00Z",updatedAt:"2024-03-19T10:00:00Z"},{id:"5",name:"Operatiehandschoenen - M",description:"Latex handschoenen maat M",category:"MATERIAAL",quantity:3,unit:"dozen",cost:24.99,supplier:"Medische Benodigdheden BV",reorderLevel:5,expiryDate:"2025-12-31",location:"Magazijn A",createdAt:"2024-03-19T10:00:00Z",updatedAt:"2024-03-19T10:00:00Z"},{id:"6",name:"Pijnstiller - Carprofen",description:"Pijnstiller voor honden",category:"MEDICATIE",quantity:15,unit:"dozen",cost:69.99,supplier:"Dierenapotheek NV",reorderLevel:8,expiryDate:"2024-11-30",location:"Medicijnkast",createdAt:"2024-03-19T10:00:00Z",updatedAt:"2024-03-19T10:00:00Z"},{id:"7",name:"Kattenvoer - Speciaal Dieet",description:"Speciaal dieetvoer voor katten met nierproblemen",category:"VOER",quantity:2,unit:"dozen",cost:79.99,supplier:"Dierenspeciaalzaak BV",reorderLevel:5,expiryDate:"2024-10-31",location:"Magazijn B",createdAt:"2024-03-19T10:00:00Z",updatedAt:"2024-03-19T10:00:00Z"},{id:"8",name:"Desinfectiemiddel",description:"Algemeen desinfectiemiddel voor kliniek",category:"MATERIAAL",quantity:4,unit:"flessen",cost:34.99,supplier:"Medische Benodigdheden BV",reorderLevel:3,expiryDate:"2025-06-30",location:"Magazijn A",createdAt:"2024-03-19T10:00:00Z",updatedAt:"2024-03-19T10:00:00Z"}],nt=[{id:"1",clientId:"1",appointmentId:"1",rating:5,comment:"Zeer tevreden over de behandeling van mijn hond Max. De dierenarts was professioneel en vriendelijk.",category:"SERVICE",status:"AFGEHANDELD",createdAt:"2024-03-15T10:00:00Z",updatedAt:"2024-03-15T10:00:00Z"},{id:"2",clientId:"2",appointmentId:"2",rating:4,comment:"Goede service, maar wachttijd was iets te lang.",category:"PERSONEEL",status:"BEKEKEN",createdAt:"2024-03-14T10:00:00Z",updatedAt:"2024-03-14T10:00:00Z"},{id:"3",clientId:"3",appointmentId:"3",rating:5,comment:"Uitstekende faciliteiten en zeer hygiënisch.",category:"FACILITEIT",status:"IN_AFWACHTING",createdAt:"2024-03-13T10:00:00Z",updatedAt:"2024-03-13T10:00:00Z"},{id:"4",clientId:"4",appointmentId:"4",rating:5,comment:"Zeer professionele en zorgzame behandeling. De dierenarts nam de tijd om alles goed uit te leggen.",category:"SERVICE",status:"AFGEHANDELD",createdAt:"2024-03-12T10:00:00Z",updatedAt:"2024-03-12T10:00:00Z"},{id:"5",clientId:"5",appointmentId:"5",rating:3,comment:"Behandeling was goed, maar de prijs was hoger dan verwacht.",category:"ALGEMEEN",status:"BEKEKEN",createdAt:"2024-03-11T10:00:00Z",updatedAt:"2024-03-11T10:00:00Z"},{id:"6",clientId:"6",appointmentId:"6",rating:5,comment:"Uitstekende spoedzorg. Mijn kat werd direct geholpen.",category:"SERVICE",status:"AFGEHANDELD",createdAt:"2024-03-10T10:00:00Z",updatedAt:"2024-03-10T10:00:00Z"},{id:"7",clientId:"7",appointmentId:"7",rating:4,comment:"Goede communicatie en duidelijke uitleg over de behandeling.",category:"PERSONEEL",status:"BEKEKEN",createdAt:"2024-03-09T10:00:00Z",updatedAt:"2024-03-09T10:00:00Z"},{id:"8",clientId:"8",appointmentId:"8",rating:5,comment:"Zeer vriendelijk personeel en schone praktijk.",category:"FACILITEIT",status:"AFGEHANDELD",createdAt:"2024-03-08T10:00:00Z",updatedAt:"2024-03-08T10:00:00Z"}];new Ms({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}});const H={clients:st,patients:_e,appointments:Ge,medicalRecords:at,staffMembers:Ue,inventoryItems:qe,staff:Ue,inventory:qe,invoices:[{id:"1",invoiceNumber:"INV-2024-001",clientId:"1",appointmentId:"1",invoiceDate:"2024-03-20",dueDate:"2024-04-19",status:"PAID",subtotal:85,taxAmount:17.85,discountAmount:0,totalAmount:102.85,paidAmount:102.85,notes:"Reguliere controle",createdAt:"2024-03-20T09:30:00Z",updatedAt:"2024-03-20T09:30:00Z",createdBy:"1",total:102.85,items:[{id:"1",description:"Reguliere controle",quantity:1,unitPrice:85,total:85,itemType:"SERVICE",itemId:"1"}]},{id:"2",invoiceNumber:"INV-2024-002",clientId:"2",appointmentId:"2",invoiceDate:"2024-03-20",dueDate:"2024-04-19",status:"PENDING",subtotal:65,taxAmount:13.65,discountAmount:0,totalAmount:78.65,paidAmount:0,notes:"Jaarlijkse vaccinatie",createdAt:"2024-03-20T10:00:00Z",updatedAt:"2024-03-20T10:00:00Z",createdBy:"1",total:78.65,items:[{id:"2",description:"Jaarlijkse vaccinatie",quantity:1,unitPrice:65,total:65,itemType:"SERVICE",itemId:"2"}]},{id:"3",invoiceNumber:"INV-2024-003",clientId:"3",appointmentId:"3",invoiceDate:"2024-03-20",dueDate:"2024-04-19",status:"PENDING",subtotal:350,taxAmount:73.5,discountAmount:0,totalAmount:423.5,paidAmount:0,notes:"Sterilisatie operatie",createdAt:"2024-03-20T11:00:00Z",updatedAt:"2024-03-20T11:00:00Z",createdBy:"2",total:423.5,items:[{id:"3",description:"Sterilisatie operatie",quantity:1,unitPrice:350,total:350,itemType:"SERVICE",itemId:"3"}]},{id:"4",invoiceNumber:"INV-2024-004",clientId:"4",appointmentId:"4",invoiceDate:"2024-03-20",dueDate:"2024-04-19",status:"PAID",subtotal:95,taxAmount:19.95,discountAmount:0,totalAmount:114.95,paidAmount:114.95,notes:"Follow-up na operatie",createdAt:"2024-03-20T13:00:00Z",updatedAt:"2024-03-20T13:00:00Z",createdBy:"2",total:114.95,items:[{id:"4",description:"Follow-up na operatie",quantity:1,unitPrice:95,total:95,itemType:"SERVICE",itemId:"4"}]},{id:"5",invoiceNumber:"INV-2024-005",clientId:"5",appointmentId:"5",invoiceDate:"2024-03-20",dueDate:"2024-04-19",status:"PENDING",subtotal:120,taxAmount:25.2,discountAmount:0,totalAmount:145.2,paidAmount:0,notes:"Spoedbehandeling",createdAt:"2024-03-20T14:00:00Z",updatedAt:"2024-03-20T14:00:00Z",createdBy:"1",total:145.2,items:[{id:"5",description:"Spoedbehandeling",quantity:1,unitPrice:120,total:120,itemType:"SERVICE",itemId:"5"}]}],clientFeedback:nt,getClients:async()=>st,getClient:async t=>st.find(s=>s.id===t),createClient:async t=>({...t,id:Math.random().toString(36).substr(2,9)}),updateClient:async(t,s)=>({...st.find(a=>a.id===t),...s}),deleteClient:async t=>t,getPatients:async()=>_e,getPatient:async t=>_e.find(s=>s.id===t),getClientPatients:async t=>_e.filter(s=>s.clientId===t),createPatient:async t=>({...t,id:Math.random().toString(36).substr(2,9)}),updatePatient:async(t,s)=>({..._e.find(a=>a.id===t),...s}),deletePatient:async t=>t,getAppointments:async()=>Ge,getAppointment:async t=>Ge.find(s=>s.id===t),getPatientAppointments:async t=>Ge.filter(s=>s.patientId===t),createAppointment:async t=>({...t,id:Math.random().toString(36).substr(2,9)}),updateAppointment:async(t,s)=>({...Ge.find(a=>a.id===t),...s}),deleteAppointment:async t=>t,getMedicalRecords:async()=>at,getMedicalRecord:async t=>at.find(s=>s.id===t),createMedicalRecord:async t=>({...t,id:Math.random().toString(36).substr(2,9)}),updateMedicalRecord:async(t,s)=>({...at.find(a=>a.id===t),...s}),deleteMedicalRecord:async t=>t,getStaff:async()=>Ue,getStaffMember:async t=>Ue.find(s=>s.id===t),createStaffMember:async t=>({...t,id:Math.random().toString(36).substr(2,9)}),updateStaffMember:async(t,s)=>({...Ue.find(a=>a.id===t),...s}),deleteStaffMember:async t=>t,getInventory:async()=>qe,getInventoryItem:async t=>qe.find(s=>s.id===t),createInventoryItem:async t=>({...t,id:Math.random().toString(36).substr(2,9)}),updateInventoryItem:async(t,s)=>({...qe.find(a=>a.id===t),...s}),deleteInventoryItem:async t=>t,getInvoices:async()=>[],getInvoice:async()=>{},createInvoice:async t=>({...t,id:Math.random().toString(36).substr(2,9)}),updateInvoice:async(t,s)=>({id:t,...s}),deleteInvoice:async t=>t,getClientFeedback:async()=>nt,getClientFeedbackById:async t=>nt.find(s=>s.id===t),createClientFeedback:async t=>({...t,id:Math.random().toString(36).substr(2,9)}),updateClientFeedback:async(t,s)=>({...nt.find(a=>a.id===t),...s}),deleteClientFeedback:async t=>t,getTreatments:async()=>[{id:"1",patientName:"Max",type:"Vaccinatie",date:new Date().toISOString(),status:"VOLTOOID",notes:"Jaarlijkse vaccinatie"},{id:"2",patientName:"Bella",type:"Controle",date:new Date().toISOString(),status:"IN_BEHANDELING",notes:"Routine controle"},{id:"3",patientName:"Charlie",type:"Operatie",date:new Date().toISOString(),status:"INGEPLAND",notes:"Sterilisatie"}],getTreatment:async t=>({id:t,patientName:"Max",type:"Vaccinatie",date:new Date().toISOString(),status:"VOLTOOID",notes:"Jaarlijkse vaccinatie"}),updateTreatment:async(t,s)=>({id:t,patientName:"Max",type:"Vaccinatie",date:new Date().toISOString(),status:"VOLTOOID",notes:"Jaarlijkse vaccinatie",...s})},Js=()=>ne({queryKey:["appointments"],queryFn:async()=>(await new Promise(t=>setTimeout(t,1e3)),H.appointments)}),Ys=()=>ne({queryKey:["invoices"],queryFn:async()=>(await new Promise(t=>setTimeout(t,1e3)),H.invoices)}),Qs=()=>ne({queryKey:["staff"],queryFn:async()=>(await new Promise(t=>setTimeout(t,1e3)),H.staff)}),Xs=()=>ne({queryKey:["inventory"],queryFn:async()=>(await new Promise(t=>setTimeout(t,1e3)),H.inventory)}),ea=()=>ne({queryKey:["clients"],queryFn:H.getClients}),kr=()=>{const t=Pe();return oe({mutationFn:H.createClient,onSuccess:()=>{t.invalidateQueries({queryKey:["clients"]})}})},Cr=()=>{const t=Pe();return oe({mutationFn:({id:s,data:a})=>H.updateClient(s,a),onSuccess:(s,{id:a})=>{t.invalidateQueries({queryKey:["clients"]}),t.invalidateQueries({queryKey:["clients",a]})}})},jt=()=>ne({queryKey:["patients"],queryFn:async()=>await H.getPatients()||[]}),Ar=()=>{const t=Pe();return oe({mutationFn:H.createPatient,onSuccess:()=>{t.invalidateQueries({queryKey:["patients"]})}})},Br=()=>{const t=Pe();return oe({mutationFn:({id:s,data:a})=>H.updatePatient(s,a),onSuccess:(s,{id:a})=>{t.invalidateQueries({queryKey:["patients"]}),t.invalidateQueries({queryKey:["patients",a]})}})},ft=()=>ne({queryKey:["appointments"],queryFn:H.getAppointments}),Ir=()=>ne({queryKey:["medicalRecords"],queryFn:H.getMedicalRecords}),Er=()=>{const t=Pe();return oe({mutationFn:H.createMedicalRecord,onSuccess:()=>{t.invalidateQueries({queryKey:["medicalRecords"]})}})},Tr=()=>ne({queryKey:["inventory"],queryFn:H.getInventory}),ta=()=>ne({queryKey:["clientFeedback"],queryFn:async()=>(await new Promise(t=>setTimeout(t,1e3)),H.clientFeedback||[])}),Sr=pt("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-auto",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function le({className:t,variant:s,asChild:a=!1,...n}){const r=a?cs:"span";return e.jsx(r,{"data-slot":"badge",className:f(Sr({variant:s}),t),...n})}const ye=({title:t,value:s,icon:a,trend:n})=>e.jsxs("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:[e.jsxs("div",{className:"p-6 flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("h3",{className:"tracking-tight text-sm font-medium",children:t}),a]}),e.jsxs("div",{className:"p-6 pt-0",children:[e.jsx("div",{className:"text-2xl font-bold",children:s}),n&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.isPositive?"+":"-",Math.abs(n.value),"% ten opzichte van vorige maand"]})]})]}),Fr=()=>{const{data:t=[]}=Js(),{data:s=[]}=Ys(),{data:a=[]}=Qs(),{data:n=[]}=Xs(),{data:r=[]}=ta(),i=new Date().toISOString().split("T")[0],d=x.useMemo(()=>{const l=t.filter(u=>u.date===i),N=s.filter(u=>{const o=new Date(u.createdAt),V=new Date;return o.getMonth()===V.getMonth()&&o.getFullYear()===V.getFullYear()}).reduce((u,o)=>u+o.total,0),m=t.length>0?t.filter(u=>u.status==="VOLTOOID").length/t.length*100:0,p=a.length>0?a.filter(u=>u.role!=="CEO").length/a.length*100:0,C=n.filter(u=>u.quantity<=u.reorderLevel),y=r.length>0?r.reduce((u,o)=>u+o.rating,0)/r.length:0;return{todayAppointments:l.length,monthlyRevenue:N,completionRate:m,staffUtilization:p,lowStockItems:C.length,averageRating:y}},[t,s,a,n,r,i]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsx(ye,{title:"Afspraken Vandaag",value:d.todayAppointments,icon:e.jsx(z,{className:"h-4 w-4 text-muted-foreground"})}),e.jsx(ye,{title:"Maandelijkse Omzet",value:`€${d.monthlyRevenue.toLocaleString()}`,icon:e.jsx(gs,{className:"h-4 w-4 text-muted-foreground"})}),e.jsx(ye,{title:"Voltooiingspercentage",value:`${d.completionRate.toFixed(1)}%`,icon:e.jsx(Ft,{className:"h-4 w-4 text-muted-foreground"})}),e.jsx(ye,{title:"Personeelsbenutting",value:`${d.staffUtilization.toFixed(1)}%`,icon:e.jsx(K,{className:"h-4 w-4 text-muted-foreground"})}),e.jsx(ye,{title:"Lage Voorraad Items",value:d.lowStockItems,icon:e.jsx(He,{className:"h-4 w-4 text-muted-foreground"})}),e.jsx(ye,{title:"Gemiddelde Beoordeling",value:d.averageRating.toFixed(1),icon:e.jsx(js,{className:"h-4 w-4 text-muted-foreground"})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Personeels Overzicht"}),e.jsx("div",{className:"mt-4 space-y-4",children:a.map(l=>e.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:`${l.firstName} ${l.lastName}`}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.role," - ",l.specialization||"Algemeen"]})]}),e.jsx(le,{variant:l.role!=="CEO"?"default":"secondary",children:l.role})]},l.id))})]})}),e.jsx("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Voorraad Waarschuwingen"}),e.jsx("div",{className:"mt-4 space-y-4",children:n.filter(l=>l.quantity<=l.reorderLevel).map(l=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-[#3B82F6]/5 dark:bg-[#3B82F6]/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:l.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Aantal: ",l.quantity," (Bestelpunt: ",l.reorderLevel,")"]})]}),e.jsx(le,{variant:"destructive",className:"bg-red-300 hover:bg-red-400 text-white dark:bg-red-900/50 dark:hover:bg-red-900/70",children:"Lage Voorraad"})]},l.id))})]})})]}),e.jsx("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Dagelijkse Planning"}),e.jsx("div",{className:"mt-4 space-y-4",children:t.map(l=>e.jsxs("div",{className:`p-4 rounded-lg ${l.status==="VOLTOOID"?"bg-green-50":l.status==="AANGEMELD"?"bg-yellow-50":"bg-white"}`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:l.patientId||"Unknown Patient"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.time," - ",l.type]})]}),e.jsx(le,{variant:l.status==="VOLTOOID"?"default":l.status==="AANGEMELD"?"secondary":"outline",children:l.status==="VOLTOOID"?"Voltooid":l.status==="AANGEMELD"?"Aangemeld":l.status==="IN_BEHANDELING"?"In behandeling":l.status==="INGEPLAND"?"Ingepland":l.status==="GEANNULEERD"?"Geannuleerd":"Niet verschenen"})]},l.id))})]})})]})};function sa({className:t,...s}){return e.jsx(Fa,{"data-slot":"tabs",className:f("flex flex-col gap-2",t),...s})}function aa({className:t,...s}){return e.jsx(Da,{"data-slot":"tabs-list",className:f("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-1",t),...s})}function Te({className:t,...s}){return e.jsx(Ra,{"data-slot":"tabs-trigger",className:f("data-[state=active]:bg-background data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring inline-flex items-center justify-center gap-2 rounded-md px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function Se({className:t,...s}){return e.jsx(Pa,{"data-slot":"tabs-content",className:f("flex-1 outline-none",t),...s})}function Fe({className:t,value:s,...a}){return e.jsx(La,{"data-slot":"progress",className:f("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...a,children:e.jsx(Ma,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})})}const Dr=()=>{const{data:t=[]}=Js(),{data:s=[]}=Ys(),{data:a=[]}=Qs(),{data:n=[]}=Xs(),{data:r=[]}=ta(),i=U(),d=new Date().toISOString().split("T")[0],l=()=>{i("/appointments/new")},N=()=>{i("/treatments/new")},m=()=>{i("/patients/new")},p=()=>{i("/inventory")},C=o=>{i(`/appointments/${o}`)},y=o=>{i(`/treatments/${o}`)},u=x.useMemo(()=>{const o=t.filter(P=>P.date===d),V=s.filter(P=>P.createdAt.startsWith(d)).reduce((P,q)=>P+q.total,0),B=s.filter(P=>P.status==="PENDING"),v=s.filter(P=>P.status==="PAID").length/s.length*100,A=a.filter(P=>P.hoursWorked>0).length/a.length*100,E=n.filter(P=>P.quantity<=P.reorderLevel),L=r.reduce((P,q)=>P+q.rating,0)/r.length;return{todayAppointments:o.length,todayRevenue:V,pendingInvoices:B.length,paymentRate:v,staffUtilization:A,lowStockItems:E.length,averageRating:L}},[t,s,a,n,r,d]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs(j,{className:"bg-gradient-to-br from-[#3B82F6]/10 to-[#3B82F6]/20 dark:from-[#3B82F6]/20 dark:to-[#3B82F6]/30",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Totaal Afspraken"}),e.jsx(z,{className:"h-4 w-4 text-[#3B82F6] dark:text-[#3B82F6]"})]}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold text-[#3B82F6] dark:text-[#3B82F6]",children:t.length}),e.jsx("p",{className:"text-xs text-[#3B82F6] dark:text-[#3B82F6]",children:"Deze Week"})]})]}),e.jsxs(j,{className:"bg-gradient-to-br from-[#10B981]/10 to-[#10B981]/20 dark:from-[#10B981]/20 dark:to-[#10B981]/30",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Voltooide Behandelingen"}),e.jsx(Rt,{className:"h-4 w-4 text-[#10B981] dark:text-[#10B981]"})]}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold text-[#10B981] dark:text-[#10B981]",children:u.todayAppointments}),e.jsx("p",{className:"text-xs text-[#10B981] dark:text-[#10B981]",children:"Deze maand"})]})]}),e.jsxs(j,{className:"bg-gradient-to-br from-[#8B5CF6]/10 to-[#8B5CF6]/20 dark:from-[#8B5CF6]/20 dark:to-[#8B5CF6]/30",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Gemiddelde Wachttijd"}),e.jsx(ct,{className:"h-4 w-4 text-[#8B5CF6] dark:text-[#8B5CF6]"})]}),e.jsxs(b,{children:[e.jsxs("div",{className:"text-2xl font-bold text-[#8B5CF6] dark:text-[#8B5CF6]",children:[u.averageRating.toFixed(1)," min"]}),e.jsx("p",{className:"text-xs text-[#8B5CF6] dark:text-[#8B5CF6]",children:"Vandaag"})]})]}),e.jsxs(j,{className:"bg-gradient-to-br from-[#3B82F6]/10 to-[#3B82F6]/20 dark:from-[#3B82F6]/20 dark:to-[#3B82F6]/30",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Voorraad Alert"}),e.jsx(He,{className:"h-4 w-4 text-[#3B82F6] dark:text-[#3B82F6]"})]}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold text-[#3B82F6] dark:text-[#3B82F6]",children:u.lowStockItems}),e.jsx("p",{className:"text-xs text-[#3B82F6] dark:text-[#3B82F6]",children:"Items bijna op"})]})]}),e.jsxs(j,{className:"bg-gradient-to-br from-[#3B82F6]/10 to-[#3B82F6]/20 dark:from-[#3B82F6]/20 dark:to-[#3B82F6]/30",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Omzet Vandaag"}),e.jsx(gs,{className:"h-4 w-4 text-[#3B82F6] dark:text-[#3B82F6]"})]}),e.jsxs(b,{children:[e.jsxs("div",{className:"text-2xl font-bold text-[#3B82F6] dark:text-[#3B82F6]",children:["€",u.todayRevenue.toLocaleString()]}),e.jsx("p",{className:"text-xs text-[#3B82F6] dark:text-[#3B82F6]",children:"Vandaag"})]})]}),e.jsxs(j,{className:"bg-gradient-to-br from-[#10B981]/10 to-[#10B981]/20 dark:from-[#10B981]/20 dark:to-[#10B981]/30",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Openstaande Facturen"}),e.jsx(He,{className:"h-4 w-4 text-[#10B981] dark:text-[#10B981]"})]}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold text-[#10B981] dark:text-[#10B981]",children:u.pendingInvoices}),e.jsx("p",{className:"text-xs text-[#10B981] dark:text-[#10B981]",children:"Openstaande facturen"})]})]}),e.jsxs(j,{className:"bg-gradient-to-br from-[#8B5CF6]/10 to-[#8B5CF6]/20 dark:from-[#8B5CF6]/20 dark:to-[#8B5CF6]/30",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Betalingspercentage"}),e.jsx(Ft,{className:"h-4 w-4 text-[#8B5CF6] dark:text-[#8B5CF6]"})]}),e.jsxs(b,{children:[e.jsxs("div",{className:"text-2xl font-bold text-[#8B5CF6] dark:text-[#8B5CF6]",children:[u.paymentRate.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-[#8B5CF6] dark:text-[#8B5CF6]",children:"Vandaag"})]})]}),e.jsxs(j,{className:"bg-gradient-to-br from-[#3B82F6]/10 to-[#3B82F6]/20 dark:from-[#3B82F6]/20 dark:to-[#3B82F6]/30",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Personeelsbenutting"}),e.jsx(K,{className:"h-4 w-4 text-[#3B82F6] dark:text-[#3B82F6]"})]}),e.jsxs(b,{children:[e.jsxs("div",{className:"text-2xl font-bold text-[#3B82F6] dark:text-[#3B82F6]",children:[u.staffUtilization.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-[#3B82F6] dark:text-[#3B82F6]",children:"Vandaag"})]})]}),e.jsxs(j,{className:"bg-gradient-to-br from-[#3B82F6]/10 to-[#3B82F6]/20 dark:from-[#3B82F6]/20 dark:to-[#3B82F6]/30",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Gemiddelde Beoordeling"}),e.jsx(js,{className:"h-4 w-4 text-[#3B82F6] dark:text-[#3B82F6]"})]}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold text-[#3B82F6] dark:text-[#3B82F6]",children:u.averageRating.toFixed(1)}),e.jsx("p",{className:"text-xs text-[#3B82F6] dark:text-[#3B82F6]",children:"Vandaag"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Personeels Overzicht"}),e.jsx("div",{className:"mt-4 space-y-4",children:a.map(o=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:[o.firstName," ",o.lastName]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.role," - ",o.specialization]})]}),e.jsx(le,{variant:o.hoursWorked>0?"default":"secondary",children:o.hoursWorked>0?"Actief":"Inactief"})]},o.id))})]})}),e.jsx("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Voorraad Waarschuwingen"}),e.jsx("div",{className:"mt-4 space-y-4",children:n.filter(o=>o.quantity<=o.reorderLevel).map(o=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:o.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.quantity," ",o.unit," resterend"]})]}),e.jsx(le,{variant:"destructive",className:"bg-red-300 hover:bg-red-400 text-white dark:bg-red-900/50 dark:hover:bg-red-900/70",children:"Bestellen"})]},o.id))})]})})]}),e.jsx("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Dagelijkse Planning"}),e.jsx("div",{className:"mt-4 space-y-4",children:t.filter(o=>o.date===d).map(o=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-[#3B82F6]/5 dark:bg-[#3B82F6]/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:o.patientId||"Unknown Patient"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.time," - ",o.type]})]}),e.jsx(le,{variant:o.status==="VOLTOOID"?"default":o.status==="AANGEMELD"?"secondary":"default",children:o.status})]},o.id))})]})}),e.jsxs(sa,{defaultValue:"appointments",children:[e.jsxs(aa,{className:"bg-gray-100 dark:bg-gray-800",children:[e.jsxs(Te,{value:"appointments",className:"data-[state=active]:bg-[#3B82F6]/10 dark:data-[state=active]:bg-[#3B82F6]/20",children:[e.jsx(z,{className:"h-4 w-4 mr-2 text-[#3B82F6] dark:text-[#3B82F6]"}),"Afspraken"]}),e.jsxs(Te,{value:"treatments",className:"data-[state=active]:bg-[#10B981]/10 dark:data-[state=active]:bg-[#10B981]/20",children:[e.jsx(he,{className:"h-4 w-4 mr-2 text-[#10B981] dark:text-[#10B981]"}),"Behandelingen"]}),e.jsxs(Te,{value:"inventory",className:"data-[state=active]:bg-[#3B82F6]/10 dark:data-[state=active]:bg-[#3B82F6]/20",children:[e.jsx(Et,{className:"h-4 w-4 mr-2 text-[#3B82F6] dark:text-[#3B82F6]"}),"Voorraad"]})]}),e.jsx(Se,{value:"appointments",children:e.jsxs(j,{children:[e.jsx(w,{children:e.jsx(k,{children:"Afspraken Deze Week"})}),e.jsx(b,{children:e.jsx("div",{className:"space-y-4",children:t.map(o=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-[#3B82F6]/5 dark:bg-[#3B82F6]/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:o.patientName}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[$(new Date(o.date),"HH:mm")," -"," ",o.type]})]}),e.jsx(h,{variant:"outline",size:"sm",onClick:()=>C(o.id),className:"bg-[#3B82F6]/10 hover:bg-[#3B82F6]/20 dark:bg-[#3B82F6]/20 dark:hover:bg-[#3B82F6]/30 text-[#3B82F6] dark:text-[#3B82F6]",children:"Bekijk Afspraak"})]},o.id))})})]})}),e.jsx(Se,{value:"treatments",children:e.jsxs(j,{children:[e.jsx(w,{children:e.jsx(k,{children:"Behandelingen Deze Week"})}),e.jsx(b,{children:e.jsx("div",{className:"space-y-4",children:t.map(o=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-[#10B981]/5 dark:bg-[#10B981]/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:o.patientName}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[$(new Date(o.date),"HH:mm")," -"," ",o.type]})]}),e.jsx(h,{variant:"outline",size:"sm",onClick:()=>y(o.id),className:"bg-[#10B981]/10 hover:bg-[#10B981]/20 dark:bg-[#10B981]/20 dark:hover:bg-[#10B981]/30 text-[#10B981] dark:text-[#10B981]",children:"Bekijk Behandeling"})]},o.id))})})]})}),e.jsx(Se,{value:"inventory",children:e.jsxs(j,{children:[e.jsx(w,{children:e.jsx(k,{children:"Voorraad"})}),e.jsx(b,{children:e.jsx("div",{className:"space-y-4",children:n.map(o=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-[#3B82F6]/5 dark:bg-[#3B82F6]/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:o.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Aantal: ",o.quantity," (Bestelpunt: ",o.reorderLevel,")"]})]}),o.quantity<=o.reorderLevel&&e.jsx(le,{variant:"destructive",className:"bg-red-300 hover:bg-red-400 text-white dark:bg-red-900/50 dark:hover:bg-red-900/70",children:"Lage Voorraad"})]},o.id))})})]})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(j,{children:[e.jsx(w,{children:e.jsx(k,{children:"Statistieken"})}),e.jsx(b,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Voltooide Behandelingen"}),e.jsx("span",{className:"text-sm font-medium",children:u.todayAppointments})]}),e.jsx(Fe,{value:u.todayAppointments*10,className:"h-2 bg-gray-100 dark:bg-gray-800 [&>div]:bg-[#10B981] dark:[&>div]:bg-[#10B981]"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Gemiddelde Wachttijd"}),e.jsxs("span",{className:"text-sm font-medium",children:[u.averageRating.toFixed(1)," min"]})]}),e.jsx(Fe,{value:parseInt(u.averageRating.toFixed(1))*2,className:"h-2 bg-gray-100 dark:bg-gray-800 [&>div]:bg-[#8B5CF6] dark:[&>div]:bg-[#8B5CF6]"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Voorraad Alert"}),e.jsx("span",{className:"text-sm font-medium",children:u.lowStockItems})]}),e.jsx(Fe,{value:u.lowStockItems*10,className:"h-2 bg-gray-100 dark:bg-gray-800 [&>div]:bg-[#3B82F6] dark:[&>div]:bg-[#3B82F6]"})]})]})})]}),e.jsxs(j,{children:[e.jsx(w,{children:e.jsx(k,{children:"Snelle Acties"})}),e.jsx(b,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(h,{className:"w-full bg-[#3B82F6]/10 hover:bg-[#3B82F6]/20 dark:bg-[#3B82F6]/20 dark:hover:bg-[#3B82F6]/30",variant:"outline",onClick:l,children:[e.jsx(z,{className:"mr-2 h-4 w-4 text-[#3B82F6] dark:text-[#3B82F6]"}),"Nieuwe Afspraak"]}),e.jsxs(h,{className:"w-full bg-[#10B981]/10 hover:bg-[#10B981]/20 dark:bg-[#10B981]/20 dark:hover:bg-[#10B981]/30",variant:"outline",onClick:N,children:[e.jsx(fs,{className:"mr-2 h-4 w-4 text-[#10B981] dark:text-[#10B981]"}),"Nieuwe Behandeling"]}),e.jsxs(h,{className:"w-full bg-[#8B5CF6]/10 hover:bg-[#8B5CF6]/20 dark:bg-[#8B5CF6]/20 dark:hover:bg-[#8B5CF6]/30",variant:"outline",onClick:m,children:[e.jsx(vs,{className:"mr-2 h-4 w-4 text-[#8B5CF6] dark:text-[#8B5CF6]"}),"Nieuwe Patiënt"]}),e.jsxs(h,{className:"w-full bg-[#3B82F6]/10 hover:bg-[#3B82F6]/20 dark:bg-[#3B82F6]/20 dark:hover:bg-[#3B82F6]/30",variant:"outline",onClick:p,children:[e.jsx(Oa,{className:"mr-2 h-4 w-4 text-[#3B82F6] dark:text-[#3B82F6]"}),"Voorraad"]})]})})]})]})]})};function Re({className:t,...s}){return e.jsx("div",{"data-slot":"skeleton",className:f("bg-primary/10 animate-pulse rounded-md",t),...s})}const Rr=({appointments:t,patients:s,inventory:a,isLoading:n,onStartTreatment:r,onCompleteTreatment:i,stats:d})=>{const l=U(),{data:N=[],isLoading:m}=ft(),{data:p=[],isLoading:C}=jt(),{data:y=[],isLoading:u}=Tr(),o=t??N,V=s??p,B=a??y,v=n!==void 0?n:m||C||u,A=new Date,E=o.filter(T=>T.status==="AANGEMELD"),L=d??{completedTreatments:5,averageTreatmentTime:"45"},P=()=>{l("/treatments/new")},q=()=>{l("/treatments/vaccination")},te=()=>{l("/treatments/medication")},S=()=>{l("/treatments/vitals")},G=T=>{l(`/patients/${T}`)};return v?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[...Array(5)].map((T,se)=>e.jsxs(j,{children:[e.jsx(w,{children:e.jsx(Re,{className:"h-4 w-[200px]"})}),e.jsx(b,{children:e.jsx(Re,{className:"h-[100px] w-full"})})]},se))}):e.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(j,{className:"bg-gradient-to-br from-[#3B82F6]/10 to-[#3B82F6]/20 dark:from-[#3B82F6]/20 dark:to-[#3B82F6]/30",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Vandaag"}),e.jsx(z,{className:"h-4 w-4 text-[#3B82F6] dark:text-[#3B82F6]"})]}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold text-[#3B82F6] dark:text-[#3B82F6]",children:o.filter(T=>{const se=new Date(T.date);return se.getDate()===A.getDate()&&se.getMonth()===A.getMonth()&&se.getFullYear()===A.getFullYear()}).length}),e.jsx("p",{className:"text-xs text-[#3B82F6] dark:text-[#3B82F6]",children:"Afspraken"})]})]}),e.jsxs(j,{className:"bg-gradient-to-br from-[#10B981]/10 to-[#10B981]/20 dark:from-[#10B981]/20 dark:to-[#10B981]/30",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Wachtkamer"}),e.jsx(ce,{className:"h-4 w-4 text-[#10B981] dark:text-[#10B981]"})]}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold text-[#10B981] dark:text-[#10B981]",children:E.length}),e.jsx("p",{className:"text-xs text-[#10B981] dark:text-[#10B981]",children:"Patiënten"})]})]}),e.jsxs(j,{className:"bg-gradient-to-br from-[#10B981]/10 to-[#10B981]/20 dark:from-[#10B981]/20 dark:to-[#10B981]/30",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Voltooide Behandelingen"}),e.jsx(Rt,{className:"h-4 w-4 text-[#10B981] dark:text-[#10B981]"})]}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold text-[#10B981] dark:text-[#10B981]",children:L.completedTreatments}),e.jsx("p",{className:"text-xs text-[#10B981] dark:text-[#10B981]",children:"Vandaag"})]})]}),e.jsxs(j,{className:"bg-gradient-to-br from-[#3B82F6]/10 to-[#3B82F6]/20 dark:from-[#3B82F6]/20 dark:to-[#3B82F6]/30",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Voorraad Alert"}),e.jsx(He,{className:"h-4 w-4 text-[#3B82F6] dark:text-[#3B82F6]"})]}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold text-[#3B82F6] dark:text-[#3B82F6]",children:B.filter(T=>T.quantity<=T.reorderLevel).length}),e.jsx("p",{className:"text-xs text-[#3B82F6] dark:text-[#3B82F6]",children:"Items"})]})]})]}),e.jsxs(sa,{defaultValue:"patients",children:[e.jsxs(aa,{className:"bg-gray-100 dark:bg-gray-800",children:[e.jsxs(Te,{value:"patients",className:"data-[state=active]:bg-[#8B5CF6]/10 dark:data-[state=active]:bg-[#8B5CF6]/20",children:[e.jsx(ce,{className:"h-4 w-4 mr-2 text-[#8B5CF6] dark:text-[#8B5CF6]"}),"Patiënten"]}),e.jsxs(Te,{value:"treatments",className:"data-[state=active]:bg-[#10B981]/10 dark:data-[state=active]:bg-[#10B981]/20",children:[e.jsx(he,{className:"h-4 w-4 mr-2 text-[#10B981] dark:text-[#10B981]"}),"Behandelingen"]}),e.jsxs(Te,{value:"inventory",className:"data-[state=active]:bg-[#3B82F6]/10 dark:data-[state=active]:bg-[#3B82F6]/20",children:[e.jsx(Et,{className:"h-4 w-4 mr-2 text-[#3B82F6] dark:text-[#3B82F6]"}),"Voorraad"]})]}),e.jsx(Se,{value:"patients",children:e.jsxs(j,{children:[e.jsx(w,{children:e.jsx(k,{children:"Patiënten"})}),e.jsx(b,{children:e.jsx("div",{className:"space-y-4",children:V.map(T=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-[#8B5CF6]/5 dark:bg-[#8B5CF6]/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:T.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[T.species," - ",T.breed]})]}),e.jsx(h,{variant:"outline",size:"sm",onClick:()=>G(T.id),className:"bg-[#8B5CF6]/10 hover:bg-[#8B5CF6]/20 dark:bg-[#8B5CF6]/20 dark:hover:bg-[#8B5CF6]/30 text-[#8B5CF6] dark:text-[#8B5CF6]",children:"Bekijk Patiënt"})]},T.id))})})]})}),e.jsx(Se,{value:"treatments",children:e.jsxs(j,{children:[e.jsx(w,{children:e.jsx(k,{children:"Behandelingen Vandaag"})}),e.jsx(b,{children:e.jsx("div",{className:"space-y-4",children:o.map(T=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-[#10B981]/5 dark:bg-[#10B981]/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:T.patientName}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[$(new Date(T.date),"HH:mm")," -"," ",T.type]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{variant:"outline",size:"sm",onClick:()=>G(T.patientId),className:"bg-[#8B5CF6]/10 hover:bg-[#8B5CF6]/20 dark:bg-[#8B5CF6]/20 dark:hover:bg-[#8B5CF6]/30 text-[#8B5CF6] dark:text-[#8B5CF6]",children:"Bekijk Patiënt"}),T.status==="INGEPLAND"&&e.jsx(h,{variant:"default",size:"sm",onClick:()=>r==null?void 0:r(T.id),className:"bg-[#10B981]/10 hover:bg-[#10B981]/20 dark:bg-[#10B981]/20 dark:hover:bg-[#10B981]/30 text-[#10B981] dark:text-[#10B981]",children:"Start Behandeling"}),T.status==="IN_BEHANDELING"&&e.jsx(h,{variant:"default",size:"sm",onClick:()=>i==null?void 0:i(T.id),className:"bg-[#10B981]/10 hover:bg-[#10B981]/20 dark:bg-[#10B981]/20 dark:hover:bg-[#10B981]/30 text-[#10B981] dark:text-[#10B981]",children:"Voltooi Behandeling"})]})]},T.id))})})]})}),e.jsx(Se,{value:"inventory",children:e.jsxs(j,{children:[e.jsx(w,{children:e.jsx(k,{children:"Voorraad"})}),e.jsx(b,{children:e.jsx("div",{className:"space-y-4",children:B.map(T=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-[#3B82F6]/5 dark:bg-[#3B82F6]/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:T.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Aantal: ",T.quantity," (Bestelpunt: ",T.reorderLevel,")"]})]}),T.quantity<=T.reorderLevel&&e.jsx(le,{variant:"destructive",className:"bg-red-300 hover:bg-red-400 text-white dark:bg-red-900/50 dark:hover:bg-red-900/70",children:"Lage Voorraad"})]},T.id))})})]})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(j,{children:[e.jsx(w,{children:e.jsx(k,{children:"Behandelingsstatistieken"})}),e.jsx(b,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Voltooide Behandelingen"}),e.jsx("span",{className:"text-sm font-medium",children:L.completedTreatments})]}),e.jsx(Fe,{value:L.completedTreatments*10,className:"h-2 bg-gray-100 dark:bg-gray-800 [&>div]:bg-[#10B981] dark:[&>div]:bg-[#10B981]"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Gemiddelde Behandelingstijd"}),e.jsxs("span",{className:"text-sm font-medium",children:[L.averageTreatmentTime," min"]})]}),e.jsx(Fe,{value:parseInt(L.averageTreatmentTime)*2,className:"h-2 bg-gray-100 dark:bg-gray-800 [&>div]:bg-[#10B981] dark:[&>div]:bg-[#10B981]"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Voorraad Alert"}),e.jsx("span",{className:"text-sm font-medium",children:B.filter(T=>T.quantity<=T.reorderLevel).length})]}),e.jsx(Fe,{value:B.filter(T=>T.quantity<=T.reorderLevel).length*10,className:"h-2 bg-gray-100 dark:bg-gray-800 [&>div]:bg-[#3B82F6] dark:[&>div]:bg-[#3B82F6]"})]})]})})]}),e.jsxs(j,{children:[e.jsx(w,{children:e.jsx(k,{children:"Snelle Acties"})}),e.jsx(b,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(h,{className:"w-full bg-[#10B981]/10 hover:bg-[#10B981]/20 dark:bg-[#10B981]/20 dark:hover:bg-[#10B981]/30",variant:"outline",onClick:P,children:[e.jsx(fs,{className:"mr-2 h-4 w-4 text-[#10B981] dark:text-[#10B981]"}),"Nieuwe Behandeling"]}),e.jsxs(h,{className:"w-full bg-[#10B981]/10 hover:bg-[#10B981]/20 dark:bg-[#10B981]/20 dark:hover:bg-[#10B981]/30",variant:"outline",onClick:q,children:[e.jsx(Va,{className:"mr-2 h-4 w-4 text-[#10B981] dark:text-[#10B981]"}),"Vaccinatie"]}),e.jsxs(h,{className:"w-full bg-[#8B5CF6]/10 hover:bg-[#8B5CF6]/20 dark:bg-[#8B5CF6]/20 dark:hover:bg-[#8B5CF6]/30",variant:"outline",onClick:te,children:[e.jsx(Ns,{className:"mr-2 h-4 w-4 text-[#8B5CF6] dark:text-[#8B5CF6]"}),"Medicatie"]}),e.jsxs(h,{className:"w-full bg-[#3B82F6]/10 hover:bg-[#3B82F6]/20 dark:bg-[#3B82F6]/20 dark:hover:bg-[#3B82F6]/30",variant:"outline",onClick:S,children:[e.jsx(Et,{className:"mr-2 h-4 w-4 text-[#3B82F6] dark:text-[#3B82F6]"}),"Vitalen"]})]})})]})]})]})},Pr=()=>{const{data:t=[],isLoading:s}=ft(),{data:a=[],isLoading:n}=ea(),{data:r=[],isLoading:i}=jt(),d=U(),l=new Date,N=v=>{try{const A=Ee(v);return We(A)?$(A,"yyyy-MM-dd")===$(l,"yyyy-MM-dd"):!1}catch{return!1}},m=t.filter(v=>N(v.date)),p=m.filter(v=>v.status==="AANGEMELD"),C=m.filter(v=>v.status==="INGEPLAND"),y=a.slice(0,5),u={todayTotal:m.length,waitingCount:p.length,upcomingCount:C.length,clientsTotal:a.length,patientsTotal:r.length},o=()=>d("/appointments/new"),V=()=>d("/clients/new"),B=()=>d("/appointments/check-in");return s||n||i?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((v,A)=>e.jsxs(j,{children:[e.jsx(w,{children:e.jsx(Re,{className:"h-4 w-[200px]"})}),e.jsx(b,{children:e.jsx(Re,{className:"h-[100px] w-full"})})]},A))}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-3xl font-bold",children:"Reception Dashboard"}),e.jsxs("div",{className:"space-x-2",children:[e.jsxs(h,{onClick:o,children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"New Appointment"]}),e.jsxs(h,{onClick:V,children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),"New Client"]}),e.jsxs(h,{onClick:B,children:[e.jsx($t,{className:"mr-2 h-4 w-4"}),"Check-in"]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(j,{className:"bg-gradient-to-br from-[#3B82F6]/10 to-[#3B82F6]/20 dark:from-[#3B82F6]/20 dark:to-[#3B82F6]/30",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Today's Appointments"}),e.jsx(z,{className:"h-4 w-4 text-[#3B82F6] dark:text-[#3B82F6]"})]}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold text-[#3B82F6] dark:text-[#3B82F6]",children:u.todayTotal}),e.jsx("p",{className:"text-xs text-[#3B82F6] dark:text-[#3B82F6]",children:"Today"})]})]}),e.jsxs(j,{className:"bg-gradient-to-br from-[#8B5CF6]/10 to-[#8B5CF6]/20 dark:from-[#8B5CF6]/20 dark:to-[#8B5CF6]/30",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Waiting Room"}),e.jsx(ct,{className:"h-4 w-4 text-[#8B5CF6] dark:text-[#8B5CF6]"})]}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold text-[#8B5CF6] dark:text-[#8B5CF6]",children:u.waitingCount}),e.jsx("p",{className:"text-xs text-[#8B5CF6] dark:text-[#8B5CF6]",children:"Patients"})]})]}),e.jsxs(j,{className:"bg-gradient-to-br from-[#10B981]/10 to-[#10B981]/20 dark:from-[#10B981]/20 dark:to-[#10B981]/30",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Registered Clients"}),e.jsx(K,{className:"h-4 w-4 text-[#10B981] dark:text-[#10B981]"})]}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold text-[#10B981] dark:text-[#10B981]",children:u.clientsTotal}),e.jsx("p",{className:"text-xs text-[#10B981] dark:text-[#10B981]",children:"Total"})]})]}),e.jsxs(j,{className:"bg-gradient-to-br from-[#F59E0B]/10 to-[#F59E0B]/20 dark:from-[#F59E0B]/20 dark:to-[#F59E0B]/30",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Registered Patients"}),e.jsx(ce,{className:"h-4 w-4 text-[#F59E0B] dark:text-[#F59E0B]"})]}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold text-[#F59E0B] dark:text-[#F59E0B]",children:u.patientsTotal}),e.jsx("p",{className:"text-xs text-[#F59E0B] dark:text-[#F59E0B]",children:"Total"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs(j,{children:[e.jsx(w,{children:e.jsxs(k,{className:"flex items-center",children:[e.jsx(ct,{className:"mr-2 h-5 w-5 text-[#8B5CF6]"}),"Waiting Room"]})}),e.jsx(b,{children:p.length===0?e.jsx("p",{className:"text-muted-foreground",children:"No patients in waiting room"}):e.jsx("div",{className:"space-y-4",children:p.map(v=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md bg-gradient-to-r from-[#8B5CF6]/5 to-transparent hover:from-[#8B5CF6]/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:v.patientName}),e.jsx("p",{className:"text-sm text-muted-foreground",children:v.time})]}),e.jsx(le,{className:"bg-[#8B5CF6]/80 hover:bg-[#8B5CF6]",children:"Waiting"})]},v.id))})})]}),e.jsxs(j,{children:[e.jsx(w,{children:e.jsxs(k,{className:"flex items-center",children:[e.jsx(z,{className:"mr-2 h-5 w-5 text-[#3B82F6]"}),"Upcoming Appointments"]})}),e.jsx(b,{children:C.length===0?e.jsx("p",{className:"text-muted-foreground",children:"No upcoming appointments"}):e.jsx("div",{className:"space-y-4",children:C.map(v=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md bg-gradient-to-r from-[#3B82F6]/5 to-transparent hover:from-[#3B82F6]/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:v.patientName}),e.jsx("p",{className:"text-sm text-muted-foreground",children:v.time})]}),e.jsx(h,{className:"bg-[#3B82F6]/80 hover:bg-[#3B82F6] text-white",size:"sm",onClick:()=>d(`/appointments/${v.id}/check-in`),children:"Check-in"})]},v.id))})})]}),e.jsxs(j,{children:[e.jsx(w,{children:e.jsxs(k,{className:"flex items-center",children:[e.jsx(K,{className:"mr-2 h-5 w-5 text-[#10B981]"}),"Recent Clients"]})}),e.jsx(b,{children:e.jsx("div",{className:"space-y-4",children:y.map(v=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md bg-gradient-to-r from-[#10B981]/5 to-transparent hover:from-[#10B981]/10",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:[v.firstName," ",v.lastName]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:v.email})]}),e.jsx(h,{className:"bg-[#10B981]/80 hover:bg-[#10B981] text-white",size:"sm",onClick:()=>d(`/clients/${v.id}`),children:"View"})]},v.id))})})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(j,{className:"flex flex-col items-center justify-center p-6 hover:bg-muted/50 cursor-pointer",onClick:V,children:[e.jsx(vs,{className:"h-10 w-10 mb-4 text-[#10B981]"}),e.jsx("h3",{className:"font-medium",children:"New Client"})]}),e.jsxs(j,{className:"flex flex-col items-center justify-center p-6 hover:bg-muted/50 cursor-pointer",onClick:o,children:[e.jsx(z,{className:"h-10 w-10 mb-4 text-[#3B82F6]"}),e.jsx("h3",{className:"font-medium",children:"New Appointment"})]}),e.jsxs(j,{className:"flex flex-col items-center justify-center p-6 hover:bg-muted/50 cursor-pointer",onClick:B,children:[e.jsx($t,{className:"h-10 w-10 mb-4 text-[#8B5CF6]"}),e.jsx("h3",{className:"font-medium",children:"Check-in"})]}),e.jsxs(j,{className:"flex flex-col items-center justify-center p-6 hover:bg-muted/50 cursor-pointer",onClick:()=>d("/clients"),children:[e.jsx(bs,{className:"h-10 w-10 mb-4 text-[#F59E0B]"}),e.jsx("h3",{className:"font-medium",children:"Client List"})]})]})]})},Lr=()=>{const{data:t=[],isLoading:s}=ft(),{data:a=[],isLoading:n}=jt(),{data:r=[],isLoading:i}=Ir(),d=U(),l=new Date,N=(v,A)=>{try{const E=Ee(v);return We(E)?$(E,A):"Invalid date"}catch{return"Invalid date"}},m=v=>{try{const A=Ee(v);return We(A)?$(A,"yyyy-MM-dd")===$(l,"yyyy-MM-dd"):!1}catch{return!1}},p=t.filter(v=>m(v.date)),C=a.slice(0,5),y=r.slice(0,5),u={todayTotal:p.length,patientsTotal:a.length,recordsTotal:r.length,completedToday:p.filter(v=>v.status==="VOLTOOID").length},o=()=>d("/appointments/new"),V=()=>d("/medical-records/new"),B=v=>d(`/patients/${v}`);return s||n||i?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((v,A)=>e.jsxs(j,{children:[e.jsx(w,{children:e.jsx(Re,{className:"h-4 w-[200px]"})}),e.jsx(b,{children:e.jsx(Re,{className:"h-[100px] w-full"})})]},A))}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-3xl font-bold",children:"Veterinarian Dashboard"}),e.jsxs("div",{className:"space-x-2",children:[e.jsxs(h,{onClick:o,children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"New Appointment"]}),e.jsxs(h,{onClick:V,children:[e.jsx(re,{className:"mr-2 h-4 w-4"}),"New Medical Record"]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(j,{className:"bg-gradient-to-br from-[#8B5CF6]/10 to-[#8B5CF6]/20 dark:from-[#8B5CF6]/20 dark:to-[#8B5CF6]/30",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Today's Appointments"}),e.jsx(z,{className:"h-4 w-4 text-[#8B5CF6] dark:text-[#8B5CF6]"})]}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold text-[#8B5CF6] dark:text-[#8B5CF6]",children:u.todayTotal}),e.jsx("p",{className:"text-xs text-[#8B5CF6] dark:text-[#8B5CF6]",children:"Today"})]})]}),e.jsxs(j,{className:"bg-gradient-to-br from-[#3B82F6]/10 to-[#3B82F6]/20 dark:from-[#3B82F6]/20 dark:to-[#3B82F6]/30",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Completed Appointments"}),e.jsx(Rt,{className:"h-4 w-4 text-[#3B82F6] dark:text-[#3B82F6]"})]}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold text-[#3B82F6] dark:text-[#3B82F6]",children:u.completedToday}),e.jsx("p",{className:"text-xs text-[#3B82F6] dark:text-[#3B82F6]",children:"Today"})]})]}),e.jsxs(j,{className:"bg-gradient-to-br from-[#10B981]/10 to-[#10B981]/20 dark:from-[#10B981]/20 dark:to-[#10B981]/30",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Medical Records"}),e.jsx(re,{className:"h-4 w-4 text-[#10B981] dark:text-[#10B981]"})]}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold text-[#10B981] dark:text-[#10B981]",children:u.recordsTotal}),e.jsx("p",{className:"text-xs text-[#10B981] dark:text-[#10B981]",children:"Total"})]})]}),e.jsxs(j,{className:"bg-gradient-to-br from-[#F59E0B]/10 to-[#F59E0B]/20 dark:from-[#F59E0B]/20 dark:to-[#F59E0B]/30",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Registered Patients"}),e.jsx(ce,{className:"h-4 w-4 text-[#F59E0B] dark:text-[#F59E0B]"})]}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold text-[#F59E0B] dark:text-[#F59E0B]",children:u.patientsTotal}),e.jsx("p",{className:"text-xs text-[#F59E0B] dark:text-[#F59E0B]",children:"Total"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs(j,{children:[e.jsx(w,{children:e.jsxs(k,{className:"flex items-center",children:[e.jsx(z,{className:"mr-2 h-5 w-5 text-[#8B5CF6]"}),"Today's Appointments"]})}),e.jsx(b,{children:p.length===0?e.jsx("p",{className:"text-muted-foreground",children:"No appointments scheduled for today"}):e.jsx("div",{className:"space-y-4",children:p.map(v=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md bg-gradient-to-r from-[#8B5CF6]/5 to-transparent hover:from-[#8B5CF6]/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:v.patientName}),e.jsx("p",{className:"text-sm text-muted-foreground",children:v.time})]}),e.jsx(le,{className:"bg-[#8B5CF6]/80 hover:bg-[#8B5CF6]",children:v.status})]},v.id))})})]}),e.jsxs(j,{children:[e.jsx(w,{children:e.jsxs(k,{className:"flex items-center",children:[e.jsx(ce,{className:"mr-2 h-5 w-5 text-[#F59E0B]"}),"Recent Patients"]})}),e.jsx(b,{children:e.jsx("div",{className:"space-y-4",children:C.map(v=>e.jsxs("div",{className:"flex items-center justify-between cursor-pointer p-3 rounded-md bg-gradient-to-r from-[#F59E0B]/5 to-transparent hover:from-[#F59E0B]/10",onClick:()=>B(v.id),children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:v.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.species," - ",v.breed]})]}),e.jsx(h,{className:"bg-[#F59E0B]/80 hover:bg-[#F59E0B] text-white",size:"sm",children:"View"})]},v.id))})})]}),e.jsxs(j,{children:[e.jsx(w,{children:e.jsxs(k,{className:"flex items-center",children:[e.jsx(re,{className:"mr-2 h-5 w-5 text-[#10B981]"}),"Recent Medical Records"]})}),e.jsx(b,{children:e.jsx("div",{className:"space-y-4",children:y.map(v=>e.jsxs("div",{className:"space-y-1 p-3 rounded-md bg-gradient-to-r from-[#10B981]/5 to-transparent hover:from-[#10B981]/10",children:[e.jsx("p",{className:"font-medium",children:v.patientName}),e.jsx("p",{className:"text-sm text-muted-foreground",children:v.chiefComplaint}),e.jsx("p",{className:"text-xs text-muted-foreground",children:N(v.date,"MMM d, yyyy")})]},v.id))})})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(j,{className:"flex flex-col items-center justify-center p-6 hover:bg-muted/50 cursor-pointer",onClick:()=>d("/medical-records/new"),children:[e.jsx(re,{className:"h-10 w-10 mb-4 text-[#10B981]"}),e.jsx("h3",{className:"font-medium",children:"New Medical Record"})]}),e.jsxs(j,{className:"flex flex-col items-center justify-center p-6 hover:bg-muted/50 cursor-pointer",onClick:()=>d("/appointments/new"),children:[e.jsx(z,{className:"h-10 w-10 mb-4 text-[#8B5CF6]"}),e.jsx("h3",{className:"font-medium",children:"New Appointment"})]}),e.jsxs(j,{className:"flex flex-col items-center justify-center p-6 hover:bg-muted/50 cursor-pointer",onClick:()=>d("/prescriptions/new"),children:[e.jsx(Ns,{className:"h-10 w-10 mb-4 text-[#3B82F6]"}),e.jsx("h3",{className:"font-medium",children:"New Prescription"})]}),e.jsxs(j,{className:"flex flex-col items-center justify-center p-6 hover:bg-muted/50 cursor-pointer",onClick:()=>d("/patients"),children:[e.jsx(bs,{className:"h-10 w-10 mb-4 text-[#F59E0B]"}),e.jsx("h3",{className:"font-medium",children:"Patient List"})]})]})]})},Mr=({role:t})=>{if(!t)return e.jsx("div",{children:"Please select a role"});switch(t){case"CEO":return e.jsx(Fr,{});case"MANAGER":return e.jsx(Dr,{});case"NURSE":return e.jsx(Rr,{});case"RECEPTIONIST":return e.jsx(Pr,{});case"VETERINARIAN":return e.jsx(Lr,{});default:return e.jsx("div",{children:"No dashboard available for this role"})}};function ke({...t}){return e.jsx(za,{"data-slot":"dialog",...t})}function Or({...t}){return e.jsx(_a,{"data-slot":"dialog-trigger",...t})}function Vr({...t}){return e.jsx($a,{"data-slot":"dialog-portal",...t})}function zr({className:t,...s}){return e.jsx(Ha,{"data-slot":"dialog-overlay",className:f("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/20 backdrop-blur-sm dark:bg-black/50",t),...s})}function Ce({className:t,children:s,...a}){return e.jsxs(Vr,{"data-slot":"dialog-portal",children:[e.jsx(zr,{}),e.jsxs(Ga,{"data-slot":"dialog-content",className:f("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...a,children:[s,e.jsxs(Ua,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(Ke,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Ae({className:t,...s}){return e.jsx("div",{"data-slot":"dialog-header",className:f("flex flex-col gap-2 text-center sm:text-left",t),...s})}function rt({className:t,...s}){return e.jsx("div",{"data-slot":"dialog-footer",className:f("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s})}function Be({className:t,...s}){return e.jsx(qa,{"data-slot":"dialog-title",className:f("text-lg leading-none font-semibold",t),...s})}function dt({className:t,...s}){return e.jsx(Za,{"data-slot":"dialog-description",className:f("text-muted-foreground text-sm",t),...s})}function I({className:t,...s}){return e.jsx(Ka,{"data-slot":"label",className:f("text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}function J({...t}){return e.jsx(Wa,{"data-slot":"select",...t})}function Y({...t}){return e.jsx(Qa,{"data-slot":"select-value",...t})}function Q({className:t,children:s,...a}){return e.jsxs(Ja,{"data-slot":"select-trigger",className:f("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex h-9 w-full items-center justify-between rounded-md border bg-transparent px-3 py-2 text-sm shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 [&>span]:line-clamp-1",t),...a,children:[s,e.jsx(Ya,{asChild:!0,children:e.jsx(Pt,{className:"size-4 opacity-50"})})]})}function X({className:t,children:s,position:a="popper",...n}){return e.jsx(Xa,{children:e.jsxs(en,{"data-slot":"select-content",className:f("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...n,children:[e.jsx(_r,{}),e.jsx(tn,{className:f("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),e.jsx(Gr,{})]})})}function F({className:t,children:s,...a}){return e.jsxs(sn,{"data-slot":"select-item",className:f("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...a,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(an,{children:e.jsx(ys,{className:"size-4"})})}),e.jsx(nn,{children:s})]})}function _r({className:t,...s}){return e.jsx(rn,{"data-slot":"select-scroll-up-button",className:f("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(ws,{className:"size-4"})})}function Gr({className:t,...s}){return e.jsx(ln,{"data-slot":"select-scroll-down-button",className:f("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Pt,{className:"size-4"})})}const Ur=pe({type:de(["CONTROLE","VACCINATIE","OPERATIE","CONSULT","GEBITSVERZORGING","SPOEDGEVAL"]),date:M(),time:M(),status:de(["INGEPLAND","AANGEMELD","IN_BEHANDELING","VOLTOOID","GEANNULEERD","NIET_VERSCHENEN"]),patientId:M(),clientId:M(),providerId:M(),notes:M().optional(),isRecurring:Ls().default(!1),recurringPattern:pe({frequency:de(["DAGELIJKS","WEKELIJKS","MAANDELIJKS","JAARLIJKS"]),interval:Tt(),endDate:M().optional()}).optional(),reminder:pe({type:de(["EMAIL","SMS","PUSH"]),time:de(["15m","30m","1u","24u","48u"])}).optional()}),na=({initialData:t,onSubmit:s,onCancel:a})=>{const n=xt({resolver:gt(Ur),defaultValues:{type:"CONTROLE",status:"INGEPLAND",isRecurring:!1,...t}}),r=i=>{s(i)};return e.jsxs("form",{onSubmit:n.handleSubmit(r),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"type",children:"Type Afspraak"}),e.jsxs(J,{value:n.watch("type"),onValueChange:i=>n.setValue("type",i),children:[e.jsx(Q,{children:e.jsx(Y,{placeholder:"Selecteer type"})}),e.jsxs(X,{children:[e.jsx(F,{value:"CONTROLE",children:"Controle"}),e.jsx(F,{value:"VACCINATIE",children:"Vaccinatie"}),e.jsx(F,{value:"OPERATIE",children:"Operatie"}),e.jsx(F,{value:"CONSULT",children:"Consult"}),e.jsx(F,{value:"GEBITSVERZORGING",children:"Gebitsverzorging"}),e.jsx(F,{value:"SPOEDGEVAL",children:"Spoedgeval"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"date",children:"Datum"}),e.jsx(D,{type:"date",...n.register("date")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"time",children:"Tijd"}),e.jsx(D,{type:"time",...n.register("time")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"status",children:"Status"}),e.jsxs(J,{value:n.watch("status"),onValueChange:i=>n.setValue("status",i),children:[e.jsx(Q,{children:e.jsx(Y,{placeholder:"Selecteer status"})}),e.jsxs(X,{children:[e.jsx(F,{value:"INGEPLAND",children:"Ingepland"}),e.jsx(F,{value:"AANGEMELD",children:"Aangemeld"}),e.jsx(F,{value:"IN_BEHANDELING",children:"In behandeling"}),e.jsx(F,{value:"VOLTOOID",children:"Voltooid"}),e.jsx(F,{value:"GEANNULEERD",children:"Geannuleerd"}),e.jsx(F,{value:"NIET_VERSCHENEN",children:"Niet verschenen"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"notes",children:"Notities"}),e.jsx(D,{...n.register("notes"),placeholder:"Voer notities in"})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(h,{type:"button",variant:"outline",onClick:a,children:"Annuleren"}),e.jsx(h,{type:"submit",children:"Opslaan"})]})]})};function qr(){const{role:t}=je(),s=U(),{data:a=[],isLoading:n}=ft(),[r,i]=x.useState(new Date),[d,l]=x.useState([]),[N,m]=x.useState(!1);x.useEffect(()=>{if(a.length){const A=a.filter(E=>{try{const L=Ee(E.date);return We(L)&&$(L,"yyyy-MM-dd")===$(r,"yyyy-MM-dd")}catch{return!1}});A.sort((E,L)=>{const P=Ee(`${E.date}T${E.time}`),q=Ee(`${L.date}T${L.time}`);return P.getTime()-q.getTime()}),l(A)}},[a,r]);const p=A=>{switch(A){case"CEO":return"bg-[#3B82F6]/10 hover:bg-[#3B82F6]/20 dark:bg-[#3B82F6]/20 dark:hover:bg-[#3B82F6]/30 text-[#3B82F6] dark:text-[#3B82F6]";case"MANAGER":return"bg-[#10B981]/10 hover:bg-[#10B981]/20 dark:bg-[#10B981]/20 dark:hover:bg-[#10B981]/30 text-[#10B981] dark:text-[#10B981]";case"VETERINARIAN":return"bg-[#8B5CF6]/10 hover:bg-[#8B5CF6]/20 dark:bg-[#8B5CF6]/20 dark:hover:bg-[#8B5CF6]/30 text-[#8B5CF6] dark:text-[#8B5CF6]";case"NURSE":return"bg-[#10B981]/10 hover:bg-[#10B981]/20 dark:bg-[#10B981]/20 dark:hover:bg-[#10B981]/30 text-[#10B981] dark:text-[#10B981]";case"RECEPTIONIST":return"bg-[#3B82F6]/10 hover:bg-[#3B82F6]/20 dark:bg-[#3B82F6]/20 dark:hover:bg-[#3B82F6]/30 text-[#3B82F6] dark:text-[#3B82F6]";default:return"bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300"}},C=()=>{const A=new Date(r);A.setDate(A.getDate()+1),i(A)},y=()=>{const A=new Date(r);A.setDate(A.getDate()-1),i(A)},u=()=>{i(new Date)},o=A=>{switch(A){case"SCHEDULED":return"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300";case"CHECKED_IN":return"bg-amber-100 text-amber-700 dark:bg-amber-900 dark:text-amber-300";case"IN_PROGRESS":return"bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300";case"COMPLETED":return"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300";case"CANCELLED":return"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"}},V=A=>{try{return A}catch{return"Invalid time"}},B=A=>{console.log("Creating appointment:",A),m(!1)},v=()=>{m(!1)};return e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),t&&e.jsx(le,{variant:"outline",className:p(t),children:t})]}),e.jsxs(h,{onClick:()=>s("/appointments"),className:"bg-primary",children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"Full Scheduler"]})]}),t!=="CEO"&&e.jsxs(j,{className:"mb-8",children:[e.jsxs(w,{className:"pb-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(k,{className:"flex items-center space-x-2",children:[e.jsx(z,{className:"h-6 w-6"}),e.jsx("span",{children:"Today's Schedule"})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(h,{variant:"outline",size:"sm",onClick:y,children:e.jsx(Lt,{className:"h-4 w-4"})}),e.jsx(h,{variant:Wt(r)?"default":"outline",size:"sm",onClick:u,children:"Today"}),e.jsx(h,{variant:"outline",size:"sm",onClick:C,children:e.jsx(ge,{className:"h-4 w-4"})})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:$(r,"EEEE, MMMM d, yyyy")})]}),e.jsx(b,{children:n?e.jsxs("div",{className:"flex items-center justify-center h-40",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),e.jsx("span",{className:"ml-2",children:"Loading appointments..."})]}):d.length>0?e.jsx("div",{className:"space-y-1",children:d.map(A=>e.jsxs("div",{className:"flex items-center py-2 px-3 rounded-md hover:bg-muted cursor-pointer",onClick:()=>s(`/appointments/${A.id}`),children:[e.jsx("div",{className:"w-16 text-muted-foreground",children:V(A.time)}),e.jsxs("div",{className:"flex-1 ml-2",children:[e.jsx("div",{className:"font-medium",children:A.patientName}),e.jsx("div",{className:"text-sm text-muted-foreground",children:A.type||"Regular checkup"})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${o(A.status)}`,children:A.status})]},A.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(ct,{className:"h-12 w-12 text-muted-foreground mb-2"}),e.jsxs("h3",{className:"font-medium text-lg",children:["No appointments for ",$(r,"MMMM d")]}),e.jsx("p",{className:"text-muted-foreground mt-1",children:Wt(r)?"Free day! Nothing scheduled today.":"There are no appointments scheduled for this day."}),e.jsxs(ke,{open:N,onOpenChange:m,children:[e.jsx(Or,{asChild:!0,children:e.jsx(h,{className:"mt-4",children:"Schedule an appointment"})}),e.jsxs(Ce,{className:"max-w-md",children:[e.jsx(Ae,{children:e.jsx(Be,{children:"Nieuwe Afspraak"})}),e.jsx(na,{onSubmit:B,onCancel:v})]})]})]})})]}),e.jsx(Mr,{role:t})]})}const Zr=()=>{const t=U();return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),e.jsx("p",{className:"text-xl mb-8",children:"Pagina niet gevonden"}),e.jsx(h,{onClick:()=>t("/"),children:"Terug naar Dashboard"})]})};function $r({className:t,children:s,...a}){return e.jsxs(dn,{"data-slot":"scroll-area",className:f("relative",t),...a,children:[e.jsx(cn,{"data-slot":"scroll-area-viewport",className:"ring-ring/10 dark:ring-ring/20 dark:outline-ring/40 outline-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] focus-visible:ring-4 focus-visible:outline-1",children:s}),e.jsx(Hr,{}),e.jsx(on,{})]})}function Hr({className:t,orientation:s="vertical",...a}){return e.jsx(mn,{"data-slot":"scroll-area-scrollbar",orientation:s,className:f("flex touch-none p-px transition-colors select-none",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...a,children:e.jsx(xn,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const Kr=[{id:"RECEPTIONIST",title:"Receptioniste",description:"Beheer afspraken, klanten en balie",icon:"👋"},{id:"VETERINARIAN",title:"Dierenarts",description:"Beheer patiëntenzorg, medische dossiers en behandelingen",icon:"👨‍⚕️"},{id:"NURSE",title:"Verpleegkundige",description:"Assisteer bij patiëntenzorg en medische procedures",icon:"👩‍⚕️"},{id:"MANAGER",title:"Manager",description:"Beheer operaties, personeel en bedrijfsresultaten",icon:"👔"},{id:"CEO",title:"CEO",description:"Toegang tot alle functies en bedrijfsanalyses",icon:"👑"}],Wr=()=>{const{isAuthenticated:t}=Ye(),s=U(),{setRole:a}=je();me.useEffect(()=>{t||s("/login")},[t,s]);const n=r=>{a(r),s("/")};return e.jsx("div",{className:"container mx-auto py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Selecteer Uw Rol"}),e.jsx($r,{className:"h-[calc(100vh-12rem)]",children:e.jsx("div",{className:"grid gap-6",children:Kr.map(r=>e.jsxs(j,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(w,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-4xl",children:r.icon}),e.jsxs("div",{children:[e.jsx(k,{children:r.title}),e.jsx(ae,{children:r.description})]})]})}),e.jsx(b,{children:e.jsxs(h,{onClick:()=>n(r.id),className:"w-full",children:["Selecteer ",r.title]})})]},r.id))})})]})})},Me=pn,Oe=gn,Jr=jn,Yr=x.forwardRef(({className:t,inset:s,children:a,...n},r)=>e.jsxs(ks,{ref:r,className:f("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...n,children:[a,e.jsx(ge,{className:"ml-auto h-4 w-4"})]}));Yr.displayName=ks.displayName;const Qr=x.forwardRef(({className:t,...s},a)=>e.jsx(Cs,{ref:a,className:f("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));Qr.displayName=Cs.displayName;const fe=x.forwardRef(({className:t,sideOffset:s=4,...a},n)=>e.jsx(un,{children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"fixed top-14 left-0 right-0 bottom-0 z-50 bg-background/80 backdrop-blur-sm"}),e.jsx(As,{ref:n,sideOffset:s,className:f("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-background p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a})]})}));fe.displayName=As.displayName;const _=x.forwardRef(({className:t,inset:s,...a},n)=>e.jsx(Bs,{ref:n,className:f("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",t),...a}));_.displayName=Bs.displayName;const Xr=x.forwardRef(({className:t,children:s,checked:a,...n},r)=>e.jsxs(Is,{ref:r,className:f("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:a,...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Es,{children:e.jsx(ys,{className:"h-4 w-4"})})}),s]}));Xr.displayName=Is.displayName;const ei=x.forwardRef(({className:t,children:s,...a},n)=>e.jsxs(Ts,{ref:n,className:f("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Es,{children:e.jsx(hn,{className:"h-2 w-2 fill-current"})})}),s]}));ei.displayName=Ts.displayName;const Ut=x.forwardRef(({className:t,inset:s,...a},n)=>e.jsx(Ss,{ref:n,className:f("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...a}));Ut.displayName=Ss.displayName;const ot=x.forwardRef(({className:t,...s},a)=>e.jsx(Fs,{ref:a,className:f("-mx-1 my-1 h-px bg-muted",t),...s}));ot.displayName=Fs.displayName;function ti({className:t,...s}){return e.jsx(Le,{"data-slot":"command",className:f("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),...s})}function si({title:t="Opdrachtpalet",description:s="Zoek naar een opdracht om uit te voeren...",children:a,...n}){return e.jsxs(ke,{...n,children:[e.jsxs(Ae,{className:"sr-only",children:[e.jsx(Be,{children:t}),e.jsx(dt,{children:s})]}),e.jsx(Ce,{className:"overflow-hidden p-0",children:e.jsx(ti,{className:"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:a})})]})}function ai({className:t,...s}){return e.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[e.jsx(Je,{className:"size-4 shrink-0 opacity-50"}),e.jsx(Le.Input,{"data-slot":"command-input",className:f("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),placeholder:"Zoeken...",...s})]})}function ni({className:t,...s}){return e.jsx(Le.List,{"data-slot":"command-list",className:f("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-track]:bg-transparent [&::-webkit-scrollbar-thumb]:bg-gray-200 dark:[&::-webkit-scrollbar-thumb]:bg-gray-700",t),...s})}function ri({...t}){return e.jsx(Le.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t})}function wt({className:t,...s}){return e.jsx(Le.Group,{"data-slot":"command-group",className:f("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),...s})}function kt({className:t,...s}){return e.jsx(Le.Item,{"data-slot":"command-item",className:f("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function ii({placeholder:t="Zoeken...",className:s}){const[a,n]=x.useState(!1),r={clients:[{id:"1",name:"John Smith",email:"john.smith@example.com"},{id:"2",name:"Emma Johnson",email:"emma.johnson@example.com"},{id:"3",name:"Michael Brown",email:"michael.brown@example.com"}],patients:[{id:"1",name:"Max",species:"Hond",breed:"Golden Retriever"},{id:"2",name:"Bella",species:"Kat",breed:"Siamees"},{id:"3",name:"Charlie",species:"Hond",breed:"Labrador"},{id:"4",name:"Luna",species:"Kat",breed:"Perzisch"}],appointments:[{id:"1",date:"2023-04-15",time:"10:30",client:"John Smith",patient:"Max"},{id:"2",date:"2023-04-15",time:"11:15",client:"Emma Johnson",patient:"Bella"},{id:"3",date:"2023-04-15",time:"12:00",client:"Michael Brown",patient:"Charlie"}]};return me.useEffect(()=>{const i=d=>{d.key==="k"&&(d.metaKey||d.ctrlKey)&&(d.preventDefault(),n(l=>!l))};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[]),e.jsxs(e.Fragment,{children:[e.jsxs(h,{variant:"outline",onClick:()=>n(!0),className:f("relative h-10 w-full justify-start rounded-lg border bg-background px-4 text-sm font-normal text-muted-foreground shadow-none sm:pr-12",s),children:[e.jsx(Je,{className:"mr-2 h-4 w-4"}),e.jsx("span",{className:"flex-1 text-left",children:t}),e.jsxs("kbd",{className:"pointer-events-none absolute right-2 top-2 hidden h-6 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-xs sm:flex",children:[e.jsx("span",{className:"text-xs",children:"⌘"}),"K"]})]}),e.jsxs(si,{open:a,onOpenChange:n,children:[e.jsx(ai,{placeholder:t}),e.jsxs(ni,{children:[e.jsx(ri,{children:"Geen resultaten gevonden."}),e.jsx(wt,{heading:"Klanten",children:r.clients.map(i=>e.jsx(kt,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:i.name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:i.email})]})},i.id))}),e.jsx(wt,{heading:"Patiënten",children:r.patients.map(i=>e.jsx(kt,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:i.name}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[i.species,", ",i.breed]})]})},i.id))}),e.jsx(wt,{heading:"Afspraken",children:r.appointments.map(i=>e.jsx(kt,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{children:[i.date," om ",i.time]}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[i.patient," met ",i.client]})]})},i.id))})]})]})]})}function li(){const{toggleDarkMode:t,isDarkMode:s}=Vt();return e.jsxs(h,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Toggle theme",children:[s?e.jsx(fn,{className:"h-[1.2rem] w-[1.2rem]"}):e.jsx(vn,{className:"h-[1.2rem] w-[1.2rem]"}),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function ra({className:t,...s}){return e.jsx(Nn,{"data-slot":"avatar",className:f("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...s})}function ia({className:t,...s}){return e.jsx(bn,{"data-slot":"avatar-image",className:f("aspect-square size-full",t),...s})}function la({className:t,...s}){return e.jsx(yn,{"data-slot":"avatar-fallback",className:f("bg-muted flex size-full items-center justify-center rounded-full",t),...s})}function di(){var N,m;const{user:t,logout:s}=Ye(),{setRole:a}=je(),n=U(),r=()=>{s(),n("/login")},i=()=>{n("/settings/profile")},d=()=>{n("/settings")},l=()=>{localStorage.removeItem("vc_role"),a(null),n("/role-selection")};return e.jsxs(Me,{children:[e.jsx(Oe,{asChild:!0,children:e.jsx(h,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:e.jsxs(ra,{className:"h-8 w-8",children:[e.jsx(ia,{src:"",alt:t==null?void 0:t.firstName}),e.jsxs(la,{children:[(N=t==null?void 0:t.firstName)==null?void 0:N[0],(m=t==null?void 0:t.lastName)==null?void 0:m[0]]})]})})}),e.jsxs(fe,{className:"w-56",align:"end",forceMount:!0,children:[e.jsx(Ut,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsxs("p",{className:"text-sm font-medium leading-none",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t==null?void 0:t.email})]})}),e.jsx(ot,{}),e.jsxs(Jr,{children:[e.jsxs(_,{onClick:i,children:[e.jsx(ce,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Profiel"})]}),e.jsxs(_,{onClick:d,children:[e.jsx(mt,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Instellingen"})]}),e.jsxs(_,{onClick:l,children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Wissel Rol"})]}),e.jsxs(_,{children:[e.jsx(wn,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Help & Ondersteuning"})]})]}),e.jsx(ot,{}),e.jsxs(_,{onClick:r,children:[e.jsx(Ds,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Uitloggen"})]})]})]})}function ci(){const{role:t}=je(),[s,a]=x.useState(!1),r=(()=>{switch(t){case"VETERINARIAN":return[{id:1,title:"Aankomende afspraken",message:"U heeft 3 afspraken vandaag"},{id:2,title:"Lab resultaten",message:"Nieuwe lab resultaten beschikbaar voor Patiënt #123"},{id:3,title:"Herhaling recepten",message:"2 recepten moeten worden vernieuwd"}];case"NURSE":return[{id:1,title:"Patiënt check-ins",message:"2 patiënten wachten op check-in"},{id:2,title:"Behandelingstaken",message:"3 behandelingen gepland voor vandaag"}];case"RECEPTIONIST":return[{id:1,title:"Nieuwe afspraken",message:"5 nieuwe afspraken vandaag"},{id:2,title:"Patiënt aankomsten",message:"3 patiënten zijn aangekomen"}];default:return[]}})();return e.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"flex h-14 items-center px-4",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(Rs,{to:"/",className:"text-xl font-bold tracking-tight hover:text-primary transition-colors",children:"VetPMS"})}),e.jsx("div",{className:"flex-1 flex justify-center px-4",children:e.jsx("div",{className:"w-full max-w-3xl",children:e.jsx(ii,{})})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(li,{}),e.jsxs(Me,{open:s,onOpenChange:a,children:[e.jsx(Oe,{asChild:!0,children:e.jsxs(h,{variant:"ghost",size:"icon",className:"relative h-9 w-9",children:[e.jsx(kn,{className:"h-5 w-5"}),r.length>0&&e.jsx("span",{className:"absolute -right-1 -top-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-[10px] font-medium text-primary-foreground",children:r.length})]})}),e.jsxs(fe,{align:"end",className:"w-80",children:[e.jsx(Ut,{children:"Meldingen"}),e.jsx(ot,{}),r.map(i=>e.jsx(_,{children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"font-medium",children:i.title}),e.jsx("span",{className:"text-sm text-muted-foreground",children:i.message})]})},i.id))]})]}),e.jsx(di,{})]})]})})}const es={hidden:{opacity:0},show:{opacity:1,transition:{type:"tween",ease:"easeInOut",duration:.5}}},oi={Home:Dt,Users:K,Stethoscope:he,Calendar:z,FileText:re,BarChart3:we,Settings:mt,CheckSquare:Bn,CreditCard:Ze,ChevronRight:ge};function mi({className:t}){var v,A;const s=Cn(),{user:a}=Ye(),{role:n,roleConfig:r,quickActions:i}=je(),{resources:d}=$n(),{list:l}=Hn(),{mutate:N}=Kn(),[m,p]=x.useState(!1),[C,y]=x.useState(!1),u=x.useRef(null);x.useEffect(()=>{p(!1),y(!1)},[s.pathname]),x.useEffect(()=>{const E=L=>{u.current&&!u.current.contains(L.target)&&y(!1)};return C&&document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[C]);const o=d.filter(E=>{var P;const L=(P=E.meta)==null?void 0:P.canAccess;return!L||n&&L.includes(n)}),V=E=>{l(E),p(!1)},B=E=>oi[E]||ge;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:f("fixed bottom-6 right-6 z-50",t),children:[e.jsx(ze,{children:!m&&!C&&e.jsx(ve.div,{initial:"hidden",animate:"show",exit:"hidden",variants:es,children:e.jsx(h,{size:"lg",className:"h-14 w-14 rounded-full shadow-lg",onClick:()=>p(!0),"aria-label":"Open menu",children:e.jsx(An,{className:"h-6 w-6"})})})}),e.jsx(ze,{children:!m&&!C&&e.jsx(ve.div,{initial:"hidden",animate:"show",exit:"hidden",variants:es,className:"absolute bottom-20 right-0",children:e.jsx(h,{size:"lg",variant:"outline",className:"h-14 w-14 rounded-full bg-white shadow-lg dark:bg-slate-900",onClick:()=>y(!0),children:e.jsx(ut,{className:"h-6 w-6"})})})}),e.jsx(ze,{children:C&&e.jsxs(ve.div,{ref:u,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"absolute bottom-20 right-0 flex flex-col gap-3",children:[e.jsx(h,{size:"icon",variant:"ghost",className:"ml-auto h-10 w-10 rounded-full",onClick:()=>y(!1),"aria-label":"Snel acties sluiten",children:e.jsx(Ke,{className:"h-5 w-5"})}),i.map((E,L)=>e.jsx(ve.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:L*.1},children:E.onClick?e.jsxs(h,{variant:"outline",className:"flex h-auto w-auto items-center gap-2 rounded-full bg-white px-4 py-3 shadow-md dark:bg-slate-900",onClick:E.onClick,children:[e.jsx("div",{className:f("flex h-8 w-8 items-center justify-center rounded-full",E.color),children:e.jsx(E.icon,{className:"h-4 w-4"})}),e.jsx("span",{children:E.title})]}):e.jsx(h,{variant:"outline",className:"flex h-auto w-auto items-center gap-2 rounded-full bg-white px-4 py-3 shadow-md dark:bg-slate-900",asChild:!0,children:e.jsxs(Rs,{to:E.href,children:[e.jsx("div",{className:f("flex h-8 w-8 items-center justify-center rounded-full",E.color),children:e.jsx(E.icon,{className:"h-4 w-4"})}),e.jsx("span",{children:E.title})]})})},E.title))]})})]}),e.jsx(ze,{children:m&&e.jsx(ve.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-40 bg-black/20 backdrop-blur-sm dark:bg-black/50",onClick:()=>p(!1)})}),e.jsx(ze,{children:m&&e.jsxs(ve.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 right-0 top-0 z-50 w-full max-w-md overflow-auto rounded-l-2xl bg-white p-6 shadow-xl dark:bg-slate-900 md:max-w-sm",children:[e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("h1",{className:"text-xl font-semibold tracking-tight",children:"VetPMS"})}),e.jsx(h,{variant:"ghost",size:"icon",onClick:()=>p(!1),children:e.jsx(Ke,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[e.jsxs(ra,{className:"h-12 w-12",children:[e.jsx(ia,{src:"",alt:a==null?void 0:a.firstName}),e.jsxs(la,{children:[(v=a==null?void 0:a.firstName)==null?void 0:v[0],((A=a==null?void 0:a.lastName)==null?void 0:A[0])||""]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[a==null?void 0:a.firstName," ",a==null?void 0:a.lastName]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:r.displayName})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-lg font-medium",children:"Navigatie"}),e.jsx("nav",{className:"grid gap-2",children:o.map(E=>{var S,G,T,se;const L=s.pathname.includes(((S=E.route)==null?void 0:S.toString())||""),P=((G=E.meta)==null?void 0:G.icon)||"ChevronRight",q=B(P),te=((T=E.meta)==null?void 0:T.color)||"bg-gray-100 text-gray-700 dark:bg-gray-900/20 dark:text-gray-300";return e.jsxs(h,{variant:"ghost",className:f("flex w-full items-center justify-start gap-3 rounded-lg p-3 transition-colors",L?"bg-primary text-primary-foreground":"hover:bg-muted text-muted-foreground hover:text-foreground"),onClick:()=>V(E.name),children:[e.jsx("div",{className:f("flex h-8 w-8 items-center justify-center rounded-full",te),children:e.jsx(q,{className:"h-5 w-5"})}),e.jsx("span",{children:((se=E.meta)==null?void 0:se.label)||E.name}),e.jsx(ge,{className:"ml-auto h-4 w-4 text-muted-foreground"})]},E.name)})})]}),e.jsx("div",{className:"space-y-2",children:e.jsx("div",{className:"grid gap-2",children:e.jsxs(h,{onClick:()=>N(),variant:"ghost",className:"flex w-full items-center justify-start gap-3 p-3 text-muted-foreground transition-colors hover:bg-muted hover:text-foreground",children:[e.jsx("div",{className:f("flex h-8 w-8 items-center justify-center rounded-full","bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-300"),children:e.jsx(Ds,{className:"h-5 w-5"})}),e.jsx("span",{children:"Uitloggen"})]})})})]})]})})]})}const xi=()=>e.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[e.jsx(ci,{}),e.jsx("main",{className:"flex-1 container mx-auto py-6 px-4",children:e.jsx(In,{})}),e.jsx(mi,{})]}),De=x.forwardRef(({className:t,error:s,...a},n)=>e.jsx("textarea",{"data-slot":"textarea",className:f("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s&&"border-red-500 focus-visible:ring-red-500",t),ref:n,...a}));De.displayName="Textarea";function ts({...t}){return e.jsx(En,{"data-slot":"popover",...t})}function ss({...t}){return e.jsx(Tn,{"data-slot":"popover-trigger",...t})}function as({className:t,align:s="center",sideOffset:a=4,...n}){return e.jsx(Sn,{children:e.jsx(Fn,{"data-slot":"popover-content",align:s,sideOffset:a,className:f("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md outline-hidden",t),...n})})}function ns({className:t,classNames:s,showOutsideDays:a=!0,...n}){return e.jsx(Dn,{showOutsideDays:a,className:f("p-3",t),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:f(St({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:f("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:f(St({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:({className:r,...i})=>e.jsx(Lt,{className:f("size-4",r),...i}),IconRight:({className:r,...i})=>e.jsx(ge,{className:f("size-4",r),...i})},...n})}var W=(t=>(t.SCHEDULED="SCHEDULED",t.CONFIRMED="CONFIRMED",t.COMPLETED="COMPLETED",t.CANCELLED="CANCELLED",t.NO_SHOW="NO_SHOW",t))(W||{});const ui=[{id:"1",patientId:"p1",patientName:"Max",clientId:"c1",clientName:"Jan de Vries",providerId:1,resourceIds:["1","3"],typeId:"1",type:"Consultatie",startTime:new Date(new Date().getFullYear(),2,20,9,0),endTime:new Date(new Date().getFullYear(),2,20,9,30),status:W.COMPLETED,notes:"Jaarlijkse controle"},{id:"2",patientId:"p2",patientName:"Bella",clientId:"c2",clientName:"Emma Jansen",providerId:1,resourceIds:["1","3"],typeId:"3",type:"Vaccinatie",startTime:new Date(new Date().getFullYear(),2,20,10,0),endTime:new Date(new Date().getFullYear(),2,20,10,30),status:W.CONFIRMED,notes:"Jaarlijkse vaccinaties"},{id:"3",patientId:"p3",patientName:"Charlie",clientId:"c3",clientName:"Michael Bakker",providerId:2,resourceIds:["2","4"],typeId:"4",type:"Vaccinatie",startTime:new Date(new Date().getFullYear(),2,20,11,0),endTime:new Date(new Date().getFullYear(),2,20,12,0),status:W.SCHEDULED,notes:"Sterilisatie"},{id:"4",patientId:"p4",patientName:"Luna",clientId:"c4",clientName:"Sophia Visser",providerId:2,resourceIds:["2","5","6"],typeId:"2",type:"Vaccinatie",startTime:new Date(new Date().getFullYear(),2,20,13,0),endTime:new Date(new Date().getFullYear(),2,20,13,30),status:W.SCHEDULED,notes:"Jaarlijkse vaccinaties"},{id:"5",patientId:"5",patientName:"Charlie",clientId:"5",clientName:"Emma Brown",providerId:1,resourceIds:["1"],typeId:"1",type:"Consultatie",startTime:new Date(new Date().getFullYear(),2,20,14,0),endTime:new Date(new Date().getFullYear(),2,20,14,30),status:W.SCHEDULED,notes:"Controle na operatie"},{id:"6",patientId:"6",patientName:"Bella",clientId:"6",clientName:"David Wilson",providerId:2,resourceIds:["2"],typeId:"2",type:"Vaccinatie",startTime:new Date(new Date().getFullYear(),2,20,15,0),endTime:new Date(new Date().getFullYear(),2,20,15,30),status:W.SCHEDULED,notes:"Jaarlijkse vaccinaties"}],hi=()=>{const{setCurrentWorkspace:t}=Vt(),{currentTenant:s}=Vs(),{role:a}=je(),{toast:n}=Us(),[r,i]=x.useState(new Date),[d,l]=x.useState(!0),[N,m]=x.useState([]),[p,C]=x.useState(ui),[y,u]=x.useState([]),[o,V]=x.useState(!1),[B,v]=x.useState({patientId:"",patientName:"",clientName:"",providerId:"",resourceIds:[],typeId:"",date:new Date,startTime:"09:00",duration:30,notes:""}),[A,E]=x.useState(!1),[L,P]=x.useState(""),[q,te]=x.useState([]),[S,G]=x.useState(null),[T,se]=x.useState(!1),[oa,Qe]=x.useState(!1),[ma,Xe]=x.useState(!1);x.useEffect(()=>{t("appointments"),xa()},[t,s==null?void 0:s.id,r]);const xa=async()=>{l(!0);try{setTimeout(()=>{const c=[{id:"1",name:"Dhr. Jansen",type:"PROVIDER",color:"#4338ca"},{id:"2",name:"Dhr. de Vries",type:"PROVIDER",color:"#0891b2"},{id:"3",name:"Onderzoekskamer 1",type:"ROOM"},{id:"4",name:"Onderzoekskamer 2",type:"ROOM"},{id:"5",name:"Onderzoekskamer 3",type:"ROOM"},{id:"6",name:"Echografie",type:"EQUIPMENT"}];let g=[];g=c;const R=[{id:"1",name:"Controle",color:"#22c55e",defaultDuration:30},{id:"2",name:"Operatie",color:"#ef4444",defaultDuration:90},{id:"3",name:"Vaccinatie",color:"#3b82f6",defaultDuration:15},{id:"4",name:"Tandheelkunde",color:"#f97316",defaultDuration:60},{id:"5",name:"Spoedgeval",color:"#dc2626",defaultDuration:45}],Z=new Date,xe=[{id:"1",patientId:"p1",patientName:"Max",clientId:"c1",clientName:"Jan de Vries",providerId:1,resourceIds:["1","3"],typeId:"1",type:R[0].name,startTime:new Date(Z.setHours(9,0,0)),endTime:new Date(Z.setHours(9,30,0)),status:W.COMPLETED},{id:"2",patientId:"p2",patientName:"Bella",clientId:"c2",clientName:"Emma Jansen",providerId:1,resourceIds:["1","3"],typeId:"3",type:R[2].name,startTime:new Date(Z.setHours(10,0,0)),endTime:new Date(Z.setHours(10,15,0)),status:W.CONFIRMED},{id:"3",patientId:"p3",patientName:"Charlie",clientId:"c3",clientName:"Michael Bakker",providerId:2,resourceIds:["2","4"],typeId:"4",type:R[3].name,startTime:new Date(Z.setHours(11,0,0)),endTime:new Date(Z.setHours(12,0,0)),status:W.SCHEDULED},{id:"4",patientId:"p4",patientName:"Luna",clientId:"c4",clientName:"Sophia Visser",providerId:2,resourceIds:["2","5","6"],typeId:"2",type:R[1].name,startTime:new Date(Z.setHours(13,30,0)),endTime:new Date(Z.setHours(15,0,0)),status:W.SCHEDULED}];m(g),u(R),C(xe),l(!1)},800)}catch(c){console.error("Error fetching scheduler data:",c),l(!1)}},ua=()=>{i(c=>Jt(c,1))},ha=()=>{i(c=>Jt(c,-1))},pa=()=>{i(new Date)},ga=()=>{console.log("Create appointment:",B);const c=y.find(Nt=>Nt.id===B.typeId);if(!c)return;const g=new Date(B.date),[R,Z]=B.startTime.split(":").map(Number);g.setHours(R,Z,0);const xe=new Date(g);xe.setMinutes(xe.getMinutes()+B.duration);const vt={id:`new-${Date.now()}`,patientId:B.patientId||"onbekend",patientName:B.patientName,clientId:"onbekend",clientName:B.clientName,providerId:B.providerId?Number(B.providerId):0,resourceIds:B.providerId?[B.providerId]:[],typeId:B.typeId,type:c.name,startTime:g,endTime:xe,notes:B.notes,status:W.SCHEDULED};C(Nt=>[...Nt,vt]),V(!1),v({patientId:"",patientName:"",clientName:"",providerId:"",resourceIds:[],typeId:"",date:new Date,startTime:"09:00",duration:30,notes:""})},ja=c=>{if(P(c),c.length>2){const g=[{id:"p1",name:"Max",species:"Hond",breed:"Labrador",clientName:"Jan de Vries"},{id:"p2",name:"Bella",species:"Kat",breed:"Pers",clientName:"Emma Jansen"},{id:"p5",name:"Milo",species:"Hond",breed:"Beagle",clientName:"David Bakker"}].filter(R=>R.name.toLowerCase().includes(c.toLowerCase())||R.clientName.toLowerCase().includes(c.toLowerCase()));te(g)}else te([])},fa=c=>{v(g=>({...g,patientId:c.id,patientName:c.name,clientName:c.clientName})),te([]),P(""),E(!1)},va=Array.from({length:12},(c,g)=>g+8),Na=(c,g)=>p.filter(R=>R.resourceIds.includes(c)&&R.startTime.getHours()<=g&&R.endTime.getHours()>g&&R.status!==W.CANCELLED),ba=c=>{G(c),se(!0)},ya=()=>{Qe(!0)},wa=()=>{Xe(!0)},ka=()=>{if(S){const c=p.map(g=>g.id===S.id?{...g,status:W.CANCELLED}:g);C(c),Xe(!1),G(null),n({title:"Afspraak geannuleerd",description:"De afspraak is succesvol geannuleerd."})}},Ca=(c,g)=>{v({patientId:"",patientName:"",clientName:"",providerId:c.toString(),resourceIds:[c.toString()],typeId:"",date:r,startTime:`${g.toString().padStart(2,"0")}:00`,duration:30,notes:""}),V(!0)},Ve=c=>{C(g=>g.map(R=>R.id===c.id?c:R)),Qe(!1)};return e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Afspraak Planner"}),e.jsx("p",{className:"text-muted-foreground",children:"Afspraak plannen en beheren"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(h,{variant:"outline",size:"sm",onClick:ha,children:e.jsx(Lt,{className:"h-4 w-4"})}),e.jsx(h,{variant:"outline",size:"sm",onClick:pa,children:"Vandaag"}),e.jsx(h,{variant:"outline",size:"sm",onClick:ua,children:e.jsx(ge,{className:"h-4 w-4"})}),e.jsx("div",{className:"h-8 border-l mx-2"}),e.jsxs(ts,{children:[e.jsx(ss,{asChild:!0,children:e.jsxs(h,{variant:"outline",className:"w-[200px] justify-start text-left font-normal",children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),$(r,"PPP")]})}),e.jsx(as,{className:"w-auto p-0",children:e.jsx(ns,{mode:"single",selected:r,onSelect:c=>c&&i(c),initialFocus:!0})})]}),e.jsx("div",{className:"h-8 border-l mx-2"}),e.jsxs(h,{onClick:()=>V(!0),children:[e.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Nieuwe Afspraak"]})]})]}),e.jsx(j,{className:"overflow-hidden",children:e.jsx(b,{className:"p-0",children:d?e.jsxs("div",{className:"p-8 flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),e.jsx("span",{className:"ml-2",children:"Loading scheduler..."})]}):e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex border-b",children:[e.jsx("div",{className:"w-20 shrink-0 px-4 py-3 font-medium text-center border-r",children:"Tijd"}),N.filter(c=>c.type==="PROVIDER").map(c=>e.jsx("div",{className:"flex-1 px-4 py-3 font-medium text-center border-r",style:{color:c.color},children:c.name},c.id))]}),e.jsx("div",{className:"relative",children:va.map(c=>e.jsxs("div",{className:"flex border-b last:border-b-0",children:[e.jsxs("div",{className:"w-20 shrink-0 px-4 py-3 text-sm text-center border-r",children:[c%12===0?12:c%12,":00"," ",c<12?"AM":"PM"]}),N.filter(g=>g.type==="PROVIDER").map(g=>e.jsxs("div",{className:"flex-1 border-r relative h-24","data-testid":`scheduler-cell-${g.id}-${c}`,onClick:()=>Ca(Number(g.id),c),children:[e.jsx("div",{className:"absolute w-full border-t border-dashed border-border opacity-50 top-1/2 left-0"}),Na(g.id,c).map(R=>e.jsxs("div",{className:"absolute left-2 right-2 rounded p-2 text-xs text-white overflow-hidden cursor-pointer",style:{backgroundColor:g.color},onClick:Z=>{Z.stopPropagation(),ba(R)},"data-status":R.status,children:[e.jsx("div",{className:"font-semibold",children:R.patientName}),e.jsx("div",{className:"text-xs opacity-90",children:R.type})]},R.id))]},`${g.id}-${c}`))]},c))})]})})}),e.jsx(ke,{open:o,onOpenChange:V,children:e.jsxs(Ce,{className:"sm:max-w-[500px]",children:[e.jsxs(Ae,{children:[e.jsx(Be,{children:"Nieuwe Afspraak"}),e.jsx(dt,{children:"Afspraak plannen voor een patiënt."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"patient",children:"Patiënt"}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{id:"patient",placeholder:"Patiënt zoeken...",value:L,onClick:()=>E(!0),onChange:c=>ja(c.target.value),className:"w-full"}),A&&e.jsx("div",{className:"absolute top-full left-0 z-50 w-full mt-1 bg-card border rounded-md shadow-lg",children:e.jsx("div",{className:"p-3",children:q.length===0?e.jsx("p",{className:"text-sm text-muted-foreground p-2",children:"Geen patiënten gevonden. Typ om te zoeken..."}):e.jsx("div",{className:"max-h-48 overflow-auto",children:q.map(c=>e.jsxs("div",{className:"flex justify-between p-3 hover:bg-accent rounded cursor-pointer",onClick:()=>fa(c),children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:c.name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[c.species," • ",c.breed]})]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:c.clientName})]},c.id))})})})]}),B.patientId&&e.jsxs("div",{className:"flex justify-between bg-muted p-3 rounded text-sm",children:[e.jsxs("span",{children:[B.patientName," •"," ",B.clientName]}),e.jsx(h,{variant:"ghost",size:"icon",className:"h-5 w-5",onClick:()=>v(c=>({...c,patientId:"",patientName:"",clientName:""})),children:e.jsx(Ke,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"appointmentType",children:"Afspraak Type"}),e.jsxs(J,{value:B.typeId,onValueChange:c=>{const g=y.find(R=>R.id===c);v(R=>({...R,typeId:c,duration:(g==null?void 0:g.defaultDuration)||R.duration}))},children:[e.jsx(Q,{id:"appointmentType",className:"w-full",children:e.jsx(Y,{placeholder:"Afspraak type selecteren"})}),e.jsx(X,{children:y.map(c=>e.jsx(F,{value:c.id,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:c.color}}),e.jsx("span",{children:c.name}),e.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",c.defaultDuration," min)"]})]})},c.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"provider",children:"Provider"}),e.jsxs(J,{value:B.providerId,onValueChange:c=>v(g=>({...g,providerId:c})),children:[e.jsx(Q,{id:"provider",className:"w-full",children:e.jsx(Y,{placeholder:"Provider selecteren"})}),e.jsx(X,{children:N.filter(c=>c.type==="PROVIDER").map(c=>e.jsx(F,{value:c.id,children:c.name},c.id))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Datum"}),e.jsxs(ts,{children:[e.jsx(ss,{asChild:!0,children:e.jsxs(h,{variant:"outline",className:"w-full justify-start text-left",disabled:!B.typeId,children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),B.date?$(B.date,"PPP"):"Datum selecteren"]})}),e.jsx(as,{className:"w-auto p-0",children:e.jsx(ns,{mode:"single",selected:B.date,onSelect:c=>c&&v(g=>({...g,date:c})),initialFocus:!0,disabled:c=>c<new Date})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"startTime",children:"Start Tijd"}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(J,{value:B.startTime,onValueChange:c=>v(g=>({...g,startTime:c})),children:[e.jsx(Q,{id:"startTime",className:"w-full",children:e.jsx(Y,{placeholder:"Tijd selecteren"})}),e.jsx(X,{children:Array.from({length:24},(c,g)=>[e.jsx(F,{value:`${g.toString().padStart(2,"0")}:00`,children:g===0?"12:00 AM":g<12?`${g}:00 AM`:g===12?"12:00 PM":`${g-12}:00 PM`},`${g}:00`),e.jsx(F,{value:`${g.toString().padStart(2,"0")}:30`,children:g===0?"12:30 AM":g<12?`${g}:30 AM`:g===12?"12:30 PM":`${g-12}:30 PM`},`${g}:30`)]).flat()})]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(I,{htmlFor:"duration",children:"Duur (minuten)"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(0,0,0,0,B.duration).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(h,{type:"button",variant:"outline",size:"icon",className:"h-8 w-8 shrink-0",onClick:()=>v(c=>({...c,duration:Math.max(5,c.duration-5)})),disabled:B.duration<=5,children:"-"}),e.jsx(D,{id:"duration",type:"range",min:5,max:120,step:5,value:B.duration,onChange:c=>v(g=>({...g,duration:parseInt(c.target.value)})),className:"w-full"}),e.jsx(h,{type:"button",variant:"outline",size:"icon",className:"h-8 w-8 shrink-0",onClick:()=>v(c=>({...c,duration:Math.min(120,c.duration+5)})),disabled:B.duration>=120,children:"+"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"notes",children:"Notities"}),e.jsx(De,{id:"notes",placeholder:"Extra informatie toevoegen...",value:B.notes,onChange:c=>v(g=>({...g,notes:c.target.value}))})]})]}),e.jsxs(rt,{children:[e.jsx(h,{variant:"outline",onClick:()=>V(!1),children:"Annuleren"}),e.jsx(h,{onClick:ga,disabled:!B.patientName||!B.typeId||!B.providerId,children:"Afspraak Plannen"})]})]})}),e.jsx(ke,{open:T,onOpenChange:se,children:e.jsxs(Ce,{className:"sm:max-w-[500px]",children:[e.jsxs(Ae,{children:[e.jsx(Be,{children:"Afspraak details"}),e.jsx(dt,{children:"Bekijk en bewerk de gegevens van deze afspraak."})]}),S&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Patiënt: "}),S.patientName]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Eigenaar: "}),S.clientName]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Type: "}),S.type]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Tijd: "}),S.startTime.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",S.endTime.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Status: "}),S.status]}),S.notes&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Notities: "}),S.notes]})]}),e.jsxs(rt,{children:[e.jsx(h,{variant:"outline",onClick:()=>se(!1),children:"Sluiten"}),e.jsx(h,{variant:"outline",onClick:ya,children:"Bewerken"}),e.jsx(h,{variant:"destructive",onClick:wa,children:"Annuleren"})]})]})}),e.jsx(ke,{open:oa,onOpenChange:Qe,children:e.jsxs(Ce,{className:"sm:max-w-[500px]",children:[e.jsxs(Ae,{children:[e.jsx(Be,{children:"Afspraak Bewerken"}),e.jsx(dt,{children:"Bewerk de gegevens van deze afspraak."})]}),S&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Patiënt"}),e.jsx("div",{className:"flex justify-between bg-muted p-3 rounded text-sm",children:e.jsxs("span",{children:[S.patientName," •"," ",S.clientName]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Afspraak Type"}),e.jsxs(J,{value:S.typeId,onValueChange:c=>{const g=y.find(R=>R.id===c);g&&Ve({...S,typeId:c,type:g.name})},children:[e.jsx(Q,{children:e.jsx(Y,{})}),e.jsx(X,{children:y.map(c=>e.jsx(F,{value:c.id,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:c.color}}),e.jsx("span",{children:c.name})]})},c.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Provider"}),e.jsxs(J,{value:S.providerId.toString(),onValueChange:c=>{Ve({...S,providerId:Number(c),resourceIds:[c]})},children:[e.jsx(Q,{children:e.jsx(Y,{})}),e.jsx(X,{children:N.filter(c=>c.type==="PROVIDER").map(c=>e.jsx(F,{value:c.id,children:c.name},c.id))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Start Tijd"}),e.jsxs(J,{value:S.startTime.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),onValueChange:c=>{const[g,R]=c.split(":").map(Number),Z=new Date(S.startTime);Z.setHours(g,R);const xe=S.endTime.getTime()-S.startTime.getTime(),vt=new Date(Z.getTime()+xe);Ve({...S,startTime:Z,endTime:vt})},children:[e.jsx(Q,{children:e.jsx(Y,{})}),e.jsx(X,{children:Array.from({length:24},(c,g)=>[e.jsx(F,{value:`${g.toString().padStart(2,"0")}:00`,children:g===0?"12:00 AM":g<12?`${g}:00 AM`:g===12?"12:00 PM":`${g-12}:00 PM`},`${g}:00`),e.jsx(F,{value:`${g.toString().padStart(2,"0")}:30`,children:g===0?"12:30 AM":g<12?`${g}:30 AM`:g===12?"12:30 PM":`${g-12}:30 PM`},`${g}:30`)]).flat()})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Duur"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{type:"number",min:5,max:120,step:5,value:Math.round((S.endTime.getTime()-S.startTime.getTime())/(1e3*60)),onChange:c=>{const g=parseInt(c.target.value),R=new Date(S.startTime.getTime()+g*60*1e3);Ve({...S,endTime:R})}}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"minuten"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Notities"}),e.jsx(De,{value:S.notes||"",onChange:c=>{Ve({...S,notes:c.target.value})}})]})]}),e.jsx(rt,{children:e.jsx(h,{variant:"outline",onClick:()=>Qe(!1),children:"Sluiten"})})]})}),e.jsx(ke,{open:ma,onOpenChange:Xe,children:e.jsxs(Ce,{children:[e.jsx(Ae,{children:e.jsx(Be,{children:"Afspraak annuleren"})}),e.jsx("p",{children:"Weet je zeker dat je deze afspraak wilt annuleren?"}),e.jsxs(rt,{children:[e.jsx(h,{variant:"outline",onClick:()=>Xe(!1),children:"Terug"}),e.jsx(h,{variant:"destructive",onClick:ka,children:"Bevestig annulering"})]})]})})]})};function pi({className:t,...s}){return e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{"data-slot":"table",className:f("w-full caption-bottom text-sm",t),...s})})}function gi({className:t,...s}){return e.jsx("thead",{"data-slot":"table-header",className:f("[&_tr]:border-b",t),...s})}function ji({className:t,...s}){return e.jsx("tbody",{"data-slot":"table-body",className:f("[&_tr:last-child]:border-0",t),...s})}function Ct({className:t,...s}){return e.jsx("tr",{"data-slot":"table-row",className:f("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...s})}function fi({className:t,...s}){return e.jsx("th",{"data-slot":"table-head",className:f("text-muted-foreground h-10 px-4 text-left align-middle font-medium [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s})}function rs({className:t,...s}){return e.jsx("td",{"data-slot":"table-cell",className:f("p-4 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s})}function da({columns:t,data:s,className:a,onRowClick:n}){var l;const[r,i]=me.useState([]),d=Rn({data:s,columns:t,getCoreRowModel:ar(),getSortedRowModel:sr(),getPaginationRowModel:tr(),onSortingChange:i,state:{sorting:r}});return e.jsxs("div",{className:f("space-y-4",a),children:[e.jsx("div",{className:"rounded-md border",children:e.jsxs(pi,{children:[e.jsx(gi,{children:d.getHeaderGroups().map(N=>e.jsx(Ct,{children:N.headers.map(m=>e.jsx(fi,{children:m.isPlaceholder?null:e.jsxs("div",{className:f("flex items-center gap-2",m.column.getCanSort()&&"cursor-pointer select-none"),onClick:m.column.getToggleSortingHandler(),children:[Ht(m.column.columnDef.header,m.getContext()),{asc:e.jsx(ws,{className:"h-4 w-4"}),desc:e.jsx(Pt,{className:"h-4 w-4"})}[m.column.getIsSorted()]??(m.column.getCanSort()?e.jsx(Pn,{className:"h-4 w-4"}):null)]})},m.id))},N.id))}),e.jsx(ji,{children:(l=d.getRowModel().rows)!=null&&l.length?d.getRowModel().rows.map(N=>e.jsx(Ct,{"data-state":N.getIsSelected()&&"selected",className:n?"cursor-pointer hover:bg-muted/50":"",onClick:()=>n==null?void 0:n(N.original),children:N.getVisibleCells().map(m=>e.jsx(rs,{children:Ht(m.column.columnDef.cell,m.getContext())},m.id))},N.id)):e.jsx(Ct,{children:e.jsx(rs,{colSpan:t.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(h,{variant:"outline",size:"sm",onClick:()=>d.previousPage(),disabled:!d.getCanPreviousPage(),children:"Previous"}),e.jsx(h,{variant:"outline",size:"sm",onClick:()=>d.nextPage(),disabled:!d.getCanNextPage(),children:"Next"})]})]})}function vi(t,s){const[a,n]=x.useState(t);return x.useEffect(()=>{const r=setTimeout(()=>{n(t)},s);return()=>{clearTimeout(r)}},[t,s]),a}function ca({onSearch:t,debounceMs:s=300,className:a,...n}){const[r,i]=me.useState(""),d=vi(r,s);return me.useEffect(()=>{t(d)},[d,t]),e.jsxs("div",{className:f("relative",a),children:[e.jsx(Je,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(D,{placeholder:"Zoeken...",value:r,onChange:l=>i(l.target.value),className:"pl-8",...n})]})}const Ni=({patients:t,isLoading:s})=>{const a=U(),{data:n=[],isLoading:r=!1}=jt()||{},[i,d]=x.useState(""),l=t||n;if(s||r)return e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(ht,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Laden..."})]});const m=l.filter(C=>C.name.toLowerCase().includes(i.toLowerCase())||C.species.toLowerCase().includes(i.toLowerCase())||C.breed.toLowerCase().includes(i.toLowerCase())),p=[{header:"Naam",accessorKey:"name"},{header:"Soort",accessorKey:"species"},{header:"Ras",accessorKey:"breed"},{header:"Geslacht",accessorKey:"gender",cell:({row:C})=>C.original.gender?C.original.gender.charAt(0).toUpperCase()+C.original.gender.slice(1):"Onbekend"},{header:"Leeftijd",accessorKey:"age",cell:({row:C})=>`${C.original.age} jaar`},{header:"Gewicht",accessorKey:"weight",cell:({row:C})=>`${C.original.weight} kg`},{header:"Laatste Bezoek",accessorKey:"lastVisit",cell:({row:C})=>{const y=C.original.lastVisit;if(!y)return"Geen bezoeken";try{return $(new Date(y),"d MMM yyyy")}catch{return"Ongeldige datum"}}}];return e.jsxs("div",{className:"container mx-auto py-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Patiënten"}),e.jsxs(h,{onClick:()=>a("/patients/new"),children:[e.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Patiënt Toevoegen"]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(ca,{placeholder:"Zoek patiënten...",value:i,onChange:C=>d(C.target.value),onSearch:d,className:"max-w-sm"})}),m.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Geen patiënten gevonden die aan uw zoekcriteria voldoen."}):e.jsx(da,{columns:p,data:m,onRowClick:C=>a(`/patients/${C.id}`)})]})};function bi(){return e.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Patiënten"}),e.jsx("p",{className:"text-muted-foreground",children:"Beheer alle patiënten in uw praktijk"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(D,{placeholder:"Zoek patiënten...",className:"pl-8 w-[200px]"})]}),e.jsxs(Me,{children:[e.jsx(Oe,{asChild:!0,children:e.jsxs(h,{variant:"outline",size:"sm",children:[e.jsx(Ot,{className:"mr-2 h-4 w-4"}),"Filter"]})}),e.jsxs(fe,{align:"end",children:[e.jsx(_,{children:"Alle patiënten"}),e.jsx(_,{children:"Honden"}),e.jsx(_,{children:"Katten"}),e.jsx(_,{children:"Andere dieren"}),e.jsx(_,{children:"Laatste 30 dagen"})]})]}),e.jsxs(h,{size:"sm",children:[e.jsx(ut,{className:"mr-2 h-4 w-4"}),"Nieuwe patiënt"]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(j,{children:[e.jsx(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(k,{className:"text-sm font-medium",children:"Totaal patiënten"})}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"1,234"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% van vorige maand"})]})]}),e.jsxs(j,{children:[e.jsx(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(k,{className:"text-sm font-medium",children:"Nieuwe patiënten deze maand"})}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"45"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+8% van vorige maand"})]})]}),e.jsxs(j,{children:[e.jsx(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(k,{className:"text-sm font-medium",children:"Afspraken vandaag"})}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"12"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+2 van vorige week"})]})]}),e.jsxs(j,{children:[e.jsx(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(k,{className:"text-sm font-medium",children:"Openstaande behandelingen"})}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"8"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"-2 van vorige week"})]})]})]}),e.jsxs(j,{children:[e.jsxs(w,{children:[e.jsx(k,{children:"Patiënten"}),e.jsx(ae,{children:"Een overzicht van alle patiënten"})]}),e.jsx(b,{children:e.jsx(Ni,{})})]})]})}const yi=pe({name:M().min(1,"Naam is verplicht"),species:de(["HOND","KAT","VOGEL","REPTIEL","KLEIN_ZOOGDIER","ANDERS"]),breed:M().min(1,"Ras is verplicht"),gender:de(["mannelijk","vrouwelijk","onbekend"]),age:Tt().min(0,"Leeftijd moet positief zijn"),weight:Tt().min(0,"Gewicht moet positief zijn"),microchipNumber:M().optional(),color:M().optional(),clientId:M().min(1,"Eigenaar is verplicht"),dateOfBirth:M().min(1,"Geboortedatum is verplicht"),status:de(["ACTIVE","INACTIVE","UNDER_CARE","DECEASED"]),needsVitalsCheck:Ls()}),At=({patient:t,onSubmit:s,isLoading:a,error:n})=>{const r=U(),{mutateAsync:i}=Ar(),{mutateAsync:d}=Br(),{register:l,handleSubmit:N,formState:{errors:m}}=xt({resolver:gt(yi),defaultValues:t?{...t,dateOfBirth:t.dateOfBirth,status:t.status,needsVitalsCheck:t.needsVitalsCheck,clientId:t.clientId}:{status:"ACTIVE",needsVitalsCheck:!1,clientId:"1"}}),p=a,C=n,y=async u=>{try{if(s)await s(u);else if(t)await d({id:t.id,data:u});else{const o=new Date().toISOString();await i({...u,createdAt:o,updatedAt:o,registrationDate:o,lastVisit:o})}r("/patients")}catch(o){throw console.error("Error saving patient:",o),new Error("Opslaan mislukt")}};return e.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:t?"Patiënt Bewerken":"Nieuwe Patiënt"}),e.jsx(h,{variant:"outline",onClick:()=>r("/patients"),children:"Terug"})]}),C&&e.jsx(zt,{variant:"destructive",children:e.jsx(_t,{children:C.message})}),e.jsxs("form",{onSubmit:N(y),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"name",children:"Naam"}),e.jsx(D,{id:"name",...l("name"),placeholder:"Naam van de patiënt"}),m.name&&e.jsx("p",{className:"text-sm text-red-500",children:m.name.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"species",children:"Soort"}),e.jsxs(J,{defaultValue:t==null?void 0:t.species,onValueChange:u=>l("species").onChange({target:{value:u}}),children:[e.jsx(Q,{children:e.jsx(Y,{placeholder:"Selecteer soort"})}),e.jsxs(X,{children:[e.jsx(F,{value:"HOND",children:"Hond"}),e.jsx(F,{value:"KAT",children:"Kat"}),e.jsx(F,{value:"VOGEL",children:"Vogel"}),e.jsx(F,{value:"REPTIEL",children:"Reptiel"}),e.jsx(F,{value:"KLEIN_ZOOGDIER",children:"Klein zoogdier"}),e.jsx(F,{value:"ANDERS",children:"Anders"})]})]}),m.species&&e.jsx("p",{className:"text-sm text-red-500",children:m.species.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"breed",children:"Ras"}),e.jsx(D,{id:"breed",...l("breed"),placeholder:"Bijv. Labrador, Siamees, etc."}),m.breed&&e.jsx("p",{className:"text-sm text-red-500",children:m.breed.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"gender",children:"Geslacht"}),e.jsxs(J,{defaultValue:t==null?void 0:t.gender,onValueChange:u=>l("gender").onChange({target:{value:u}}),children:[e.jsx(Q,{children:e.jsx(Y,{placeholder:"Selecteer geslacht"})}),e.jsxs(X,{children:[e.jsx(F,{value:"mannelijk",children:"Mannetje"}),e.jsx(F,{value:"vrouwelijk",children:"Vrouwtje"}),e.jsx(F,{value:"onbekend",children:"Onbekend"})]})]}),m.gender&&e.jsx("p",{className:"text-sm text-red-500",children:m.gender.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"age",children:"Leeftijd (jaren)"}),e.jsx(D,{id:"age",type:"number",...l("age",{valueAsNumber:!0}),placeholder:"0"}),m.age&&e.jsx("p",{className:"text-sm text-red-500",children:m.age.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"weight",children:"Gewicht (kg)"}),e.jsx(D,{id:"weight",type:"number",step:"0.1",...l("weight",{valueAsNumber:!0}),placeholder:"0.0"}),m.weight&&e.jsx("p",{className:"text-sm text-red-500",children:m.weight.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"dateOfBirth",children:"Geboortedatum"}),e.jsx(D,{id:"dateOfBirth",type:"date",...l("dateOfBirth")}),m.dateOfBirth&&e.jsx("p",{className:"text-sm text-red-500",children:m.dateOfBirth.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"microchipNumber",children:"Chipnummer (optioneel)"}),e.jsx(D,{id:"microchipNumber",...l("microchipNumber"),placeholder:"Chipnummer"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"color",children:"Kleur (optioneel)"}),e.jsx(D,{id:"color",...l("color"),placeholder:"Kleur"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"status",children:"Status"}),e.jsxs(J,{defaultValue:(t==null?void 0:t.status)||"ACTIVE",onValueChange:u=>l("status").onChange({target:{value:u}}),children:[e.jsx(Q,{children:e.jsx(Y,{placeholder:"Selecteer status"})}),e.jsxs(X,{children:[e.jsx(F,{value:"ACTIVE",children:"Actief"}),e.jsx(F,{value:"INACTIVE",children:"Inactief"}),e.jsx(F,{value:"UNDER_CARE",children:"Onder behandeling"}),e.jsx(F,{value:"DECEASED",children:"Overleden"})]})]}),m.status&&e.jsx("p",{className:"text-sm text-red-500",children:m.status.message})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(h,{type:"button",variant:"outline",onClick:()=>r("/patients"),children:"Annuleren"}),e.jsxs(h,{type:"submit",disabled:p,children:[p&&e.jsx(ht,{className:"mr-2 h-4 w-4 animate-spin"}),t?"Opslaan":"Toevoegen"]})]})]})]})};function wi(){return e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Taken"}),e.jsx("p",{children:"Taken pagina in ontwikkeling..."})]})}function ki(){return e.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Analytics"}),e.jsx("p",{className:"text-muted-foreground",children:"Inzicht in de prestaties van uw praktijk"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Me,{children:[e.jsx(Oe,{asChild:!0,children:e.jsxs(h,{variant:"outline",size:"sm",children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"Periode"]})}),e.jsxs(fe,{align:"end",children:[e.jsx(_,{children:"Vandaag"}),e.jsx(_,{children:"Deze week"}),e.jsx(_,{children:"Deze maand"}),e.jsx(_,{children:"Dit jaar"}),e.jsx(_,{children:"Aangepast"})]})]}),e.jsxs(h,{variant:"outline",size:"sm",children:[e.jsx(Ps,{className:"mr-2 h-4 w-4"}),"Exporteer"]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(j,{children:[e.jsx(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(k,{className:"text-sm font-medium",children:"Totaal patiënten"})}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"1,234"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% van vorige maand"})]})]}),e.jsxs(j,{children:[e.jsx(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(k,{className:"text-sm font-medium",children:"Afspraken deze maand"})}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"256"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+8% van vorige maand"})]})]}),e.jsxs(j,{children:[e.jsx(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(k,{className:"text-sm font-medium",children:"Gemiddelde opkomst"})}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"92%"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+2% van vorige maand"})]})]}),e.jsxs(j,{children:[e.jsx(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(k,{className:"text-sm font-medium",children:"Omzet deze maand"})}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"€12,345"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+15% van vorige maand"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(j,{children:[e.jsxs(w,{children:[e.jsx(k,{children:"Afspraken per dag"}),e.jsx(ae,{children:"Aantal afspraken per dag van de week"})]}),e.jsx(b,{children:e.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"Grafiek in ontwikkeling..."})})]}),e.jsxs(j,{children:[e.jsxs(w,{children:[e.jsx(k,{children:"Behandelingen per type"}),e.jsx(ae,{children:"Verdeling van behandelingen per type"})]}),e.jsx(b,{children:e.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"Grafiek in ontwikkeling..."})})]})]}),e.jsxs(j,{children:[e.jsxs(w,{children:[e.jsx(k,{children:"Top behandelingen"}),e.jsx(ae,{children:"Meest uitgevoerde behandelingen deze maand"})]}),e.jsx(b,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Vaccinatie"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Preventieve zorg"})]}),e.jsx("div",{className:"text-sm font-medium",children:"45 behandelingen"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Gebitsreiniging"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Tandheelkunde"})]}),e.jsx("div",{className:"text-sm font-medium",children:"32 behandelingen"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Controle"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Algemeen"})]}),e.jsx("div",{className:"text-sm font-medium",children:"28 behandelingen"})]})]})})]})]})}function is({className:t,...s}){return e.jsx(Ln,{"data-slot":"switch",className:f("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 inline-flex h-5 w-9 shrink-0 items-center rounded-full border-2 border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:e.jsx(Mn,{"data-slot":"switch-thumb",className:f("bg-background pointer-events-none block size-4 rounded-full ring-0 shadow-lg transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})}function Ci(){const{isDarkMode:t,toggleDarkMode:s}=Vt(),[a,n]=x.useState({notifications:!0,practiceName:"",address:"",phone:"",email:""}),r=d=>{typeof a[d]=="boolean"&&n(l=>({...l,[d]:!l[d]}))},i=(d,l)=>{n(N=>({...N,[d]:l}))};return e.jsxs(j,{children:[e.jsx(w,{children:e.jsx(k,{children:"Instellingen"})}),e.jsxs(b,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Algemeen"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(I,{htmlFor:"darkMode",children:"Donker thema"}),e.jsx(is,{id:"darkMode",checked:t,onCheckedChange:s})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(I,{htmlFor:"notifications",children:"Notificaties"}),e.jsx(is,{id:"notifications",checked:a.notifications,onCheckedChange:()=>r("notifications")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Praktijkgegevens"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"practiceName",children:"Naam praktijk"}),e.jsx(D,{id:"practiceName",value:a.practiceName,onChange:d=>i("practiceName",d.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"address",children:"Adres"}),e.jsx(D,{id:"address",value:a.address,onChange:d=>i("address",d.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"phone",children:"Telefoonnummer"}),e.jsx(D,{id:"phone",value:a.phone,onChange:d=>i("phone",d.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"email",children:"E-mailadres"}),e.jsx(D,{id:"email",type:"email",value:a.email,onChange:d=>i("email",d.target.value)})]})]})]})]})}function ls(){return e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Instellingen"}),e.jsx(Ci,{})]})}const Ie=Wn.create({baseURL:"http://localhost:3000/api",headers:{"Content-Type":"application/json"}});Ie.interceptors.request.use(t=>{const s=localStorage.getItem("token");return s&&(t.headers.Authorization=`Bearer ${s}`),t});Ie.interceptors.response.use(t=>t,t=>{var s;return((s=t.response)==null?void 0:s.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(t)});function Ai(){const t=Pe(),{data:s=[],isLoading:a,error:n}=ne({queryKey:["bills"],queryFn:()=>Ie.get("/bills")}),r=oe({mutationFn:async l=>{await Ie.post("/bills",l)},onSuccess:()=>{t.invalidateQueries({queryKey:["bills"]})}}),i=oe({mutationFn:async({id:l,data:N})=>{await Ie.patch(`/bills/${l}`,N)},onSuccess:()=>{t.invalidateQueries({queryKey:["bills"]})}}),d=oe({mutationFn:async l=>{await Ie.delete(`/bills/${l}`)},onSuccess:()=>{t.invalidateQueries({queryKey:["bills"]})}});return{data:s,isLoading:a,error:n,createBill:r.mutateAsync,updateBill:(l,N)=>i.mutateAsync({id:l,data:N}),deleteBill:d.mutateAsync}}function Bi(){const{data:t,isLoading:s}=Ai();return s?e.jsx("div",{children:"Laden..."}):t!=null&&t.length?e.jsx("div",{className:"space-y-4",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left",children:"Factuur Nummer"}),e.jsx("th",{className:"text-left",children:"Datum"}),e.jsx("th",{className:"text-left",children:"Klant"}),e.jsx("th",{className:"text-right",children:"Bedrag"}),e.jsx("th",{className:"text-left",children:"Status"})]})}),e.jsx("tbody",{children:t.map(a=>e.jsxs("tr",{children:[e.jsx("td",{children:a.invoiceNumber}),e.jsx("td",{children:new Date(a.date).toLocaleDateString("nl-NL")}),e.jsx("td",{children:a.clientName}),e.jsxs("td",{className:"text-right",children:["€",a.amount.toFixed(2)]}),e.jsx("td",{children:a.status})]},a.id))})]})}):e.jsx("div",{children:"Geen facturen gevonden"})}function Ii(){return e.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Facturatie"}),e.jsx("p",{className:"text-muted-foreground",children:"Beheer alle facturen en betalingen"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Me,{children:[e.jsx(Oe,{asChild:!0,children:e.jsxs(h,{variant:"outline",size:"sm",children:[e.jsx(Ot,{className:"mr-2 h-4 w-4"}),"Filter"]})}),e.jsxs(fe,{align:"end",children:[e.jsx(_,{children:"Alle facturen"}),e.jsx(_,{children:"Openstaand"}),e.jsx(_,{children:"Betaald"}),e.jsx(_,{children:"Vervallen"})]})]}),e.jsxs(h,{variant:"outline",size:"sm",children:[e.jsx(Ps,{className:"mr-2 h-4 w-4"}),"Exporteer"]}),e.jsxs(h,{size:"sm",children:[e.jsx(ut,{className:"mr-2 h-4 w-4"}),"Nieuwe factuur"]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(j,{children:[e.jsx(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(k,{className:"text-sm font-medium",children:"Totaal openstaand"})}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"€2,500.00"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+20.1% van vorige maand"})]})]}),e.jsxs(j,{children:[e.jsx(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(k,{className:"text-sm font-medium",children:"Deze maand betaald"})}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"€4,200.00"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+10.5% van vorige maand"})]})]}),e.jsxs(j,{children:[e.jsx(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(k,{className:"text-sm font-medium",children:"Openstaande facturen"})}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"12"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"-2 van vorige maand"})]})]}),e.jsxs(j,{children:[e.jsx(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(k,{className:"text-sm font-medium",children:"Gemiddelde betalingstijd"})}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"14 dagen"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"-2 dagen van vorige maand"})]})]})]}),e.jsxs(j,{children:[e.jsxs(w,{children:[e.jsx(k,{children:"Facturen"}),e.jsx(ae,{children:"Een overzicht van alle facturen en hun status"})]}),e.jsx(b,{children:e.jsx(Bi,{})})]})]})}const Ei=()=>ne({queryKey:["medicalRecords"],queryFn:async()=>(await new Promise(t=>setTimeout(t,1e3)),H.medicalRecords)});function Ti(){const{data:t,isLoading:s}=Ei();return s?e.jsx("div",{children:"Laden..."}):t!=null&&t.length?e.jsx("div",{className:"space-y-4",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left",children:"Datum"}),e.jsx("th",{className:"text-left",children:"Patiënt"}),e.jsx("th",{className:"text-left",children:"Type"}),e.jsx("th",{className:"text-left",children:"Dierenarts"}),e.jsx("th",{className:"text-left",children:"Status"})]})}),e.jsx("tbody",{children:t.map(a=>e.jsxs("tr",{children:[e.jsx("td",{children:new Date(a.date).toLocaleDateString("nl-NL")}),e.jsx("td",{children:a.patientName}),e.jsx("td",{children:a.type}),e.jsx("td",{children:a.veterinarianName}),e.jsx("td",{children:a.status})]},a.id))})]})}):e.jsx("div",{children:"Geen medische dossiers gevonden"})}function Si(){return e.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Medische Dossiers"}),e.jsx("p",{className:"text-muted-foreground",children:"Beheer alle medische dossiers van patiënten"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(D,{placeholder:"Zoek dossiers...",className:"pl-8 w-[200px]"})]}),e.jsxs(Me,{children:[e.jsx(Oe,{asChild:!0,children:e.jsxs(h,{variant:"outline",size:"sm",children:[e.jsx(Ot,{className:"mr-2 h-4 w-4"}),"Filter"]})}),e.jsxs(fe,{align:"end",children:[e.jsx(_,{children:"Alle dossiers"}),e.jsx(_,{children:"Laatste 30 dagen"}),e.jsx(_,{children:"Openstaande behandelingen"}),e.jsx(_,{children:"Vervolgafspraken"})]})]}),e.jsxs(h,{size:"sm",children:[e.jsx(ut,{className:"mr-2 h-4 w-4"}),"Nieuw dossier"]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(j,{children:[e.jsx(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(k,{className:"text-sm font-medium",children:"Totaal dossiers"})}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"1,234"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% van vorige maand"})]})]}),e.jsxs(j,{children:[e.jsx(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(k,{className:"text-sm font-medium",children:"Nieuwe dossiers deze maand"})}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"45"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+8% van vorige maand"})]})]}),e.jsxs(j,{children:[e.jsx(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(k,{className:"text-sm font-medium",children:"Openstaande behandelingen"})}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"23"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"-2 van vorige maand"})]})]}),e.jsxs(j,{children:[e.jsx(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(k,{className:"text-sm font-medium",children:"Vervolgafspraken"})}),e.jsxs(b,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"15"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+5 van vorige maand"})]})]})]}),e.jsxs(j,{children:[e.jsxs(w,{children:[e.jsx(k,{children:"Medische Dossiers"}),e.jsx(ae,{children:"Een overzicht van alle medische dossiers"})]}),e.jsx(b,{children:e.jsx(Ti,{})})]})]})}const Fi=pe({type:M().min(1,"Type is verplicht"),date:M().min(1,"Datum is verplicht"),chiefComplaint:M().min(1,"Hoofdklacht is verplicht"),diagnosis:M().min(1,"Diagnose is verplicht"),treatment:M().min(1,"Behandeling is verplicht"),notes:M().optional(),status:de(["ACTIEF","OPGELOST","IN_AFWACHTING","GEANNULEERD"]),veterinarianId:M().min(1)}),Di=({patientId:t,defaultValues:s})=>{const a=U(),{mutate:n,isPending:r}=Er(),{register:i,handleSubmit:d,formState:{errors:l},control:N}=xt({resolver:gt(Fi),defaultValues:{veterinarianId:"1",type:(s==null?void 0:s.type)||"",status:(s==null?void 0:s.status)||"ACTIEF",...s}}),m=p=>{const C=new Date().toISOString();n({...p,patientId:t,patientName:"",veterinarianName:"",createdAt:C,updatedAt:C,followUpDate:"",vitalSigns:"",followUpNotes:"",treatments:[],prescriptions:[],attachments:[]},{onSuccess:()=>{a(`/patients/${t}/records`)}})};return e.jsxs(j,{children:[e.jsx(w,{children:e.jsx("h2",{className:"text-2xl font-bold",children:"Nieuw Medisch Dossier"})}),e.jsx(b,{children:e.jsxs("form",{onSubmit:d(m),className:"space-y-4",children:[e.jsx("input",{type:"hidden",...i("veterinarianId")}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(I,{htmlFor:"type",children:"Type"}),e.jsx(Kt,{name:"type",control:N,render:({field:p})=>e.jsxs(J,{value:p.value||"",onValueChange:p.onChange,"data-testid":"type-select",children:[e.jsx(Q,{id:"type","aria-label":"Type","data-testid":"type-trigger",children:e.jsx(Y,{placeholder:"Selecteer type"})}),e.jsxs(X,{children:[e.jsx(F,{value:"CONSULTATIE",children:"Consultatie"}),e.jsx(F,{value:"BEHANDELING",children:"Behandeling"}),e.jsx(F,{value:"OPERATIE",children:"Operatie"}),e.jsx(F,{value:"CONTROLE",children:"Controle"})]})]})}),l.type&&e.jsx("p",{className:"text-sm text-red-500 mt-1","data-testid":"error-type",children:l.type.message})]}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"date",children:"Datum"}),e.jsx(D,{id:"date",type:"date",...i("date"),"aria-invalid":l.date?"true":"false"}),l.date&&e.jsx("p",{className:"text-sm text-red-500 mt-1","data-testid":"error-date",children:l.date.message})]})]}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"chiefComplaint",children:"Hoofdklacht"}),e.jsx(D,{id:"chiefComplaint",...i("chiefComplaint"),"aria-invalid":l.chiefComplaint?"true":"false"}),l.chiefComplaint&&e.jsx("p",{className:"text-sm text-red-500 mt-1","data-testid":"error-chiefComplaint",children:l.chiefComplaint.message})]}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"diagnosis",children:"Diagnose"}),e.jsx(De,{id:"diagnosis",...i("diagnosis"),"aria-invalid":l.diagnosis?"true":"false","data-testid":"diagnosis-textarea"}),l.diagnosis&&e.jsx("p",{className:"text-sm text-red-500 mt-1","data-testid":"error-diagnosis",children:l.diagnosis.message})]}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"treatment",children:"Behandeling"}),e.jsx(De,{id:"treatment",...i("treatment"),"aria-invalid":l.treatment?"true":"false","data-testid":"treatment-textarea"}),l.treatment&&e.jsx("p",{className:"text-sm text-red-500 mt-1","data-testid":"error-treatment",children:l.treatment.message})]}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"notes",children:"Notities"}),e.jsx(De,{id:"notes",...i("notes"),"aria-invalid":l.notes?"true":"false","data-testid":"notes-textarea"}),l.notes&&e.jsx("p",{className:"text-sm text-red-500 mt-1","data-testid":"error-notes",children:l.notes.message})]}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"status",children:"Status"}),e.jsx(Kt,{name:"status",control:N,render:({field:p})=>e.jsxs(J,{value:p.value||"",onValueChange:p.onChange,"data-testid":"status-select",children:[e.jsx(Q,{id:"status","aria-label":"Status","data-testid":"status-trigger",children:e.jsx(Y,{placeholder:"Selecteer status"})}),e.jsxs(X,{children:[e.jsx(F,{value:"ACTIEF",children:"Actief"}),e.jsx(F,{value:"OPGELOST",children:"Opgelost"}),e.jsx(F,{value:"IN_AFWACHTING",children:"In afwachting"}),e.jsx(F,{value:"GEANNULEERD",children:"Geannuleerd"})]})]})}),l.status&&e.jsx("p",{className:"text-sm text-red-500 mt-1","data-testid":"error-status",children:l.status.message})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(h,{type:"button",variant:"outline",onClick:()=>a(`/patients/${t}/records`),children:"Annuleren"}),e.jsxs(h,{type:"submit",disabled:r,children:[r&&e.jsx(ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Opslaan"]})]})]})})]})},Ri=({recordDate:t,onSchedule:s,onCancel:a})=>{const[n]=et.useForm(),r=(d,l)=>{const N=Yt(t);return l&&l.isBefore(N)?Promise.reject("Vervolgdatum moet na de recorddatum zijn"):Promise.resolve()},i=d=>{s({followUpDate:d.followUpDate.format("YYYY-MM-DD"),followUpNotes:d.followUpNotes||""})};return e.jsxs(et,{form:n,onFinish:i,layout:"vertical",children:[e.jsx(et.Item,{name:"followUpDate",label:"Vervolgdatum",rules:[{required:!0,message:"Selecteer een vervolgdatum"},{validator:r}],validateStatus:n.getFieldError("followUpDate").length?"error":"",help:n.getFieldError("followUpDate")[0],children:e.jsx(Jn,{style:{width:"100%"},minDate:Yt(t),format:"YYYY-MM-DD","data-testid":"follow-up-date"})}),e.jsx(et.Item,{name:"followUpNotes",label:"Notities",children:e.jsx(Yn.TextArea,{placeholder:"Voer eventuele notities in voor de vervolgafspraak",rows:4,"data-testid":"follow-up-notes"})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(Qt,{onClick:a,"data-testid":"cancel-button",children:"Annuleren"}),e.jsx(Qt,{type:"primary",htmlType:"submit","data-testid":"submit-button",children:"Inplannen"})]})]})},Pi=()=>{const t=U(),{data:s,isLoading:a,error:n}=ea(),[r,i]=x.useState("");if(a)return e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(ht,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Klanten laden..."})]});if(n)return e.jsx(zt,{variant:"destructive",children:e.jsxs(_t,{children:["Fout bij het laden van klanten: ",n.message]})});const d=(s||[]).filter(m=>`${m.firstName} ${m.lastName}`.toLowerCase().includes(r.toLowerCase())||m.email.toLowerCase().includes(r.toLowerCase())||m.phone.includes(r)),l=m=>{const p=new Date(m);return We(p)?$(p,"MMM d, yyyy"):"N/A"},N=[{header:"Name",accessorKey:"name",cell:({row:m})=>`${m.original.firstName} ${m.original.lastName}`},{header:"Email",accessorKey:"email"},{header:"Phone",accessorKey:"phone"},{header:"Address",accessorKey:"address",cell:({row:m})=>m.original.address?`${m.original.address.street}, ${m.original.address.city}, ${m.original.address.state} ${m.original.address.postalCode}`:"No address provided"},{header:"Member Since",accessorKey:"createdAt",cell:({row:m})=>l(m.original.createdAt)},{header:"Last Visit",accessorKey:"lastVisit",cell:({row:m})=>l(m.original.lastVisit)}];return e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Klanten"}),e.jsxs(h,{onClick:()=>t("/clients/new"),children:[e.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Klant Toevoegen"]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(ca,{placeholder:"Zoek klanten...",value:r,onChange:m=>i(m.target.value),onSearch:i,className:"max-w-sm"})}),d.length===0?e.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Geen klanten gevonden die aan uw zoekcriteria voldoen."}):e.jsx("div",{className:"bg-card rounded-lg border shadow-sm",children:e.jsx(da,{columns:N,data:d,onRowClick:m=>t(`/clients/${m.id}`)})})]})};function Li(){return e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Klanten"}),e.jsx(Pi,{})]})}function Mi({title:t,description:s,children:a,className:n}){return e.jsxs("div",{className:f("flex items-center justify-between space-y-2",n),children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t}),s&&e.jsx("p",{className:"text-muted-foreground",children:s})]}),a&&e.jsx("div",{className:"flex items-center space-x-2",children:a})]})}const Oi=pe({firstName:M().min(1,"Voornaam is verplicht"),lastName:M().min(1,"Achternaam is verplicht"),email:M().email("Ongeldig e-mailadres"),phone:M().min(1,"Telefoonnummer is verplicht"),address:pe({street:M().min(1,"Straat is verplicht"),city:M().min(1,"Stad is verplicht"),state:M().min(1,"Provincie is verplicht"),country:M().min(1,"Land is verplicht"),postalCode:M().min(1,"Postcode is verplicht")}),preferredCommunication:de(["email","phone","sms"]),notes:M().optional()});function Bt({clientId:t}){var p,C,y,u,o,V,B,v,A,E,L,P,q,te;const s=U(),{register:a,handleSubmit:n,formState:{errors:r}}=xt({resolver:gt(Oi),defaultValues:{preferredCommunication:"email"}}),{mutate:i,isPending:d}=kr(),{mutate:l,isPending:N}=Cr(),m=S=>{const G={firstName:S.firstName,lastName:S.lastName,email:S.email,phone:S.phone,address:S.address,preferredCommunication:S.preferredCommunication,notes:S.notes,lastVisit:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};t?l({id:t,data:G}):i(G),s("/clients")};return e.jsxs("div",{className:"container mx-auto py-6 space-y-4",children:[e.jsx(Mi,{title:t?"Klant Bewerken":"Nieuwe Klant Toevoegen",description:"Voeg klantgegevens toe of werk deze bij",children:e.jsxs(h,{variant:"outline",onClick:()=>s("/clients"),className:"gap-2",children:[e.jsx(On,{className:"h-4 w-4"}),"Terug naar Klanten"]})}),e.jsxs(j,{children:[e.jsx(w,{children:e.jsx(k,{children:"Klantgegevens"})}),e.jsx(b,{children:e.jsxs("form",{onSubmit:n(m),className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(I,{htmlFor:"firstName",children:"Voornaam"}),e.jsx(D,{id:"firstName",...a("firstName"),error:(p=r.firstName)==null?void 0:p.message})]}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"lastName",children:"Achternaam"}),e.jsx(D,{id:"lastName",...a("lastName"),error:(C=r.lastName)==null?void 0:C.message})]}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"email",children:"E-mail"}),e.jsx(D,{id:"email",type:"email",...a("email"),error:(y=r.email)==null?void 0:y.message})]}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"phone",children:"Telefoon"}),e.jsx(D,{id:"phone",...a("phone"),error:(u=r.phone)==null?void 0:u.message})]}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"address.street",children:"Straat"}),e.jsx(D,{id:"address.street",...a("address.street"),error:(V=(o=r.address)==null?void 0:o.street)==null?void 0:V.message})]}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"address.city",children:"Stad"}),e.jsx(D,{id:"address.city",...a("address.city"),error:(v=(B=r.address)==null?void 0:B.city)==null?void 0:v.message})]}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"address.state",children:"Provincie"}),e.jsx(D,{id:"address.state",...a("address.state"),error:(E=(A=r.address)==null?void 0:A.state)==null?void 0:E.message})]}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"address.country",children:"Land"}),e.jsx(D,{id:"address.country",...a("address.country"),error:(P=(L=r.address)==null?void 0:L.country)==null?void 0:P.message})]}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"address.postalCode",children:"Postcode"}),e.jsx(D,{id:"address.postalCode",...a("address.postalCode"),error:(te=(q=r.address)==null?void 0:q.postalCode)==null?void 0:te.message})]}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"preferredCommunication",children:"Voorkeur Communicatie"}),e.jsxs(J,{onValueChange:S=>a("preferredCommunication").onChange({target:{value:S}}),defaultValue:"email",children:[e.jsx(Q,{children:e.jsx(Y,{placeholder:"Selecteer voorkeur"})}),e.jsxs(X,{children:[e.jsx(F,{value:"email",children:"E-mail"}),e.jsx(F,{value:"phone",children:"Telefoon"}),e.jsx(F,{value:"sms",children:"SMS"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(h,{type:"button",variant:"outline",onClick:()=>s("/clients"),children:"Annuleren"}),e.jsx(h,{type:"submit",disabled:d||N,children:d||N?"Bezig met opslaan...":"Opslaan"})]})]})})]})]})}const Vi="https://edrktcdofokdzpmpbyir.supabase.co",zi="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVkcmt0Y2RvZm9rZHpwbXBieWlyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjUyODcsImV4cCI6MjA2MzYwMTI4N30.g7W2LWnD2RyCe-YqMgoLXdzv5-VRuqGIBGER19KOBCU",ie=Qn(Vi,zi),ee=(t,s,a,n)=>{const r={message:(t==null?void 0:t.message)||"An error occurred",statusCode:(t==null?void 0:t.code)||500,data:{resource:s,action:a,id:n==null?void 0:n.toString(),errorData:t}};throw console.error("Data provider error:",r),new Error(r.message)},_i={getList:async({resource:t,pagination:s,filters:a,sorters:n,meta:r})=>{const{current:i=1,pageSize:d=10}=s??{},l=(i-1)*d,N=l+d-1,m=r==null?void 0:r.tenant_id;try{let p=ie.from(t).select("*",{count:"exact"}).eq("tenant_id",m);a==null||a.forEach(o=>{o.operator==="eq"?p=p.eq(o.field,o.value):o.operator==="gt"?p=p.gt(o.field,o.value):o.operator==="gte"?p=p.gte(o.field,o.value):o.operator==="lt"?p=p.lt(o.field,o.value):o.operator==="lte"?p=p.lte(o.field,o.value):o.operator==="contains"&&(p=p.ilike(o.field,`%${o.value}%`))}),n==null||n.forEach(o=>{p=p.order(o.field,{ascending:o.order==="asc"})}),p=p.range(l,N);const{data:C,error:y,count:u}=await p;return y&&ee(y,t,"getList"),{data:C??[],total:u??0}}catch(p){return ee(p,t,"getList"),{data:[],total:0}}},getOne:async({resource:t,id:s,meta:a})=>{const n=a==null?void 0:a.tenant_id;try{const{data:r,error:i}=await ie.from(t).select("*").eq("id",s).eq("tenant_id",n).single();return i&&ee(i,t,"getOne",s),{data:r}}catch(r){return ee(r,t,"getOne",s),{data:{}}}},create:async({resource:t,variables:s,meta:a})=>{const n=a==null?void 0:a.tenant_id;try{const{data:r,error:i}=await ie.from(t).insert({...s,tenant_id:n}).select().single();return i&&ee(i,t,"create"),{data:r}}catch(r){return ee(r,t,"create"),{data:{}}}},update:async({resource:t,id:s,variables:a,meta:n})=>{const r=n==null?void 0:n.tenant_id;try{const{data:i,error:d}=await ie.from(t).update(a).eq("id",s).eq("tenant_id",r).select().single();return d&&ee(d,t,"update",s),{data:i}}catch(i){return ee(i,t,"update",s),{data:{}}}},deleteOne:async({resource:t,id:s,meta:a})=>{const n=a==null?void 0:a.tenant_id;try{const{data:r,error:i}=await ie.from(t).delete().eq("id",s).eq("tenant_id",n).select().single();return i&&ee(i,t,"deleteOne",s),{data:r??{id:s}}}catch(r){return ee(r,t,"deleteOne",s),{data:{id:s}}}},getApiUrl:()=>"",custom:async({url:t,method:s,filters:a,sorters:n,payload:r,query:i,meta:d})=>{const l=d==null?void 0:d.tenant_id;try{const N=ie.from(t);if(s==="get"){let p=N.select("*");p=p.eq("tenant_id",l),a==null||a.forEach(u=>{u.operator==="eq"&&(p=p.eq(u.field,u.value))}),n==null||n.forEach(u=>{p=p.order(u.field,{ascending:u.order==="asc"})}),i&&Object.entries(i).forEach(([u,o])=>{p=p.eq(u,o)});const{data:C,error:y}=await p;return y&&ee(y,t,"custom"),{data:C}}let m;return s==="post"?m=await N.insert({...r,tenant_id:l}).select():s==="put"?m=await N.update(r).select():s==="delete"&&(m=await N.delete()),(!m||m.error)&&ee((m==null?void 0:m.error)||new Error("Unknown error in custom method"),t,"custom"),{data:(m==null?void 0:m.data)||[]}}catch(N){return ee(N,t,"custom"),{data:{}}}}},Gi={login:async({email:t,password:s})=>{try{const{data:a,error:n}=await ie.auth.signInWithPassword({email:t,password:s});return n?{success:!1,error:new Error(n.message)}:a!=null&&a.user?{success:!0,redirectTo:"/dashboard"}:{success:!1,error:new Error("Login failed")}}catch{return{success:!1,error:new Error("Login failed")}}},logout:async()=>{try{const{error:t}=await ie.auth.signOut();return t?{success:!1,error:new Error(t.message)}:{success:!0,redirectTo:"/login"}}catch{return{success:!1,error:new Error("Logout failed")}}},check:async()=>{try{const{data:{session:t}}=await ie.auth.getSession();return t?{authenticated:!0}:{authenticated:!1,error:new Error("Not authenticated"),logout:!0,redirectTo:"/login"}}catch{return{authenticated:!1,error:new Error("Check failed"),logout:!0,redirectTo:"/login"}}},getPermissions:async()=>{var t;try{const{data:{user:s}}=await ie.auth.getUser();return s?[((t=s.user_metadata)==null?void 0:t.role)||"USER"]:[]}catch{return[]}},getIdentity:async()=>{var t,s;try{const{data:{user:a}}=await ie.auth.getUser();return a?{id:a.id,name:((t=a.user_metadata)==null?void 0:t.full_name)||a.email,avatar:(s=a.user_metadata)==null?void 0:s.avatar_url}:null}catch{return null}},onError:async()=>({})},Ui={open:({message:t,type:s,key:a})=>{const n=a?a.charAt(0).toUpperCase()+a.slice(1):void 0;return Gt({title:n,description:t,variant:s==="error"?"destructive":"default"}),{key:a||t}},close:()=>{}},qi={CEO:{all:{list:!0,show:!0,create:!0,edit:!0,delete:!0}},MANAGER:{all:{list:!0,show:!0,create:!0,edit:!0,delete:!0},analytics:{list:!0,show:!0,create:!1,edit:!1,delete:!1}},VETERINARIAN:{dashboard:{list:!0,show:!0,create:!1,edit:!1,delete:!1},clients:{list:!0,show:!0,create:!1,edit:!1,delete:!1},patients:{list:!0,show:!0,create:!0,edit:!0,delete:!1},appointments:{list:!0,show:!0,create:!0,edit:!0,delete:!1},"medical-records":{list:!0,show:!0,create:!0,edit:!0,delete:!1},tasks:{list:!0,show:!0,create:!0,edit:!0,delete:!0}},NURSE:{dashboard:{list:!0,show:!0,create:!1,edit:!1,delete:!1},clients:{list:!0,show:!0,create:!1,edit:!1,delete:!1},patients:{list:!0,show:!0,create:!0,edit:!0,delete:!1},appointments:{list:!0,show:!0,create:!0,edit:!0,delete:!1},"medical-records":{list:!0,show:!0,create:!0,edit:!0,delete:!1},tasks:{list:!0,show:!0,create:!0,edit:!0,delete:!0}},RECEPTIONIST:{dashboard:{list:!0,show:!0,create:!1,edit:!1,delete:!1},clients:{list:!0,show:!0,create:!0,edit:!0,delete:!1},patients:{list:!0,show:!0,create:!0,edit:!0,delete:!1},appointments:{list:!0,show:!0,create:!0,edit:!0,delete:!1},billing:{list:!0,show:!0,create:!0,edit:!0,delete:!1},tasks:{list:!0,show:!0,create:!0,edit:!0,delete:!0}}},Zi={can:async({resource:t,action:s})=>{const a=localStorage.getItem("role");if(!a)return{can:!1,reason:"Unauthorized: No role assigned"};const n=qi[a];return n?n.all?{can:n.all[s]||!1}:t&&n[t]?{can:n[t][s]||!1}:{can:!1}:{can:!1,reason:"Unauthorized: Invalid role"}}},ds=()=>{const t=U();return e.jsx(na,{onSubmit:()=>t("/appointments"),onCancel:()=>t("/appointments")})},It=()=>e.jsx(Di,{patientId:"default"}),$i=()=>{const t=U();return e.jsx(Ri,{recordDate:"2023-01-01",onSchedule:()=>t("/medical-records"),onCancel:()=>t("/medical-records")})},Hi=()=>{const{isAuthenticated:t}=Ws(),{role:s}=je(),{currentTenant:a}=Vs(),n=t&&s;return e.jsx(Xn,{dataProvider:_i,authProvider:Gi,notificationProvider:Ui,accessControlProvider:Zi,routerProvider:Vn,resources:[{name:"dashboard",list:"/",meta:{label:"Dashboard",icon:"Home",color:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300",canAccess:["CEO","MANAGER","VETERINARIAN","NURSE","RECEPTIONIST"]}},{name:"clients",list:"/clients",create:"/clients/new",edit:"/clients/:id/edit",show:"/clients/:id",meta:{label:"Clients",icon:"Users",color:"bg-teal-100 text-teal-700 dark:bg-teal-900/20 dark:text-teal-300",canAccess:["CEO","MANAGER","VETERINARIAN","NURSE","RECEPTIONIST"],tenant:a==null?void 0:a.id}},{name:"patients",list:"/patients",create:"/patients/new",edit:"/patients/:id/edit",show:"/patients/:id",meta:{label:"Patients",icon:"Stethoscope",color:"bg-amber-100 text-amber-700 dark:bg-amber-900/20 dark:text-amber-300",canAccess:["CEO","MANAGER","VETERINARIAN","NURSE","RECEPTIONIST"],tenant:a==null?void 0:a.id}},{name:"appointments",list:"/appointments",create:"/appointments/new",edit:"/appointments/:id/edit",meta:{label:"Appointments",icon:"Calendar",color:"bg-purple-100 text-purple-700 dark:bg-purple-900/20 dark:text-purple-300",canAccess:["CEO","MANAGER","VETERINARIAN","NURSE","RECEPTIONIST"],tenant:a==null?void 0:a.id}},{name:"medical-records",list:"/medical-records",create:"/medical-records/new",edit:"/medical-records/:id/edit",show:"/medical-records/:id",meta:{label:"Medical Records",icon:"FileText",color:"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-300",canAccess:["CEO","MANAGER","VETERINARIAN","NURSE"],tenant:a==null?void 0:a.id}},{name:"tasks",list:"/tasks",meta:{label:"Tasks",icon:"CheckSquare",color:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/20 dark:text-indigo-300",canAccess:["CEO","MANAGER","VETERINARIAN","NURSE","RECEPTIONIST"],tenant:a==null?void 0:a.id}},{name:"billing",list:"/billing",meta:{label:"Billing",icon:"CreditCard",color:"bg-rose-100 text-rose-700 dark:bg-rose-900/20 dark:text-rose-300",canAccess:["CEO","MANAGER","RECEPTIONIST"],tenant:a==null?void 0:a.id}},{name:"analytics",list:"/analytics",meta:{label:"Analytics",icon:"BarChart3",color:"bg-sky-100 text-sky-700 dark:bg-sky-900/20 dark:text-sky-300",canAccess:["CEO","MANAGER"],tenant:a==null?void 0:a.id}},{name:"settings",list:"/settings",meta:{label:"Settings",icon:"Settings",color:"bg-slate-100 text-slate-700 dark:bg-slate-900/20 dark:text-slate-300",canAccess:["CEO","MANAGER","VETERINARIAN","NURSE","RECEPTIONIST"],tenant:a==null?void 0:a.id}}],options:{syncWithLocation:!0,warnWhenUnsavedChanges:!0},children:e.jsxs(zn,{children:[e.jsx(O,{path:"/login",element:t?e.jsx(ue,{to:s?"/":"/role-selection"}):e.jsx(br,{})}),e.jsx(O,{path:"/forgot-password",element:t?e.jsx(ue,{to:"/"}):e.jsx(yr,{})}),e.jsx(O,{path:"/reset-password",element:t?e.jsx(ue,{to:"/"}):e.jsx(wr,{})}),e.jsx(O,{path:"/role-selection",element:t?s?e.jsx(ue,{to:"/"}):e.jsx(Wr,{}):e.jsx(ue,{to:"/login"})}),n&&e.jsxs(O,{element:e.jsx(xi,{}),children:[e.jsx(O,{path:"/",element:e.jsx(qr,{})}),e.jsx(O,{path:"/clients",element:e.jsx(Li,{})}),e.jsx(O,{path:"/clients/new",element:e.jsx(Bt,{})}),e.jsx(O,{path:"/clients/:id",element:e.jsx(Bt,{})}),e.jsx(O,{path:"/clients/:id/edit",element:e.jsx(Bt,{})}),e.jsx(O,{path:"/patients",element:e.jsx(bi,{})}),e.jsx(O,{path:"/patients/new",element:e.jsx(At,{})}),e.jsx(O,{path:"/patients/:id",element:e.jsx(At,{})}),e.jsx(O,{path:"/patients/:id/edit",element:e.jsx(At,{})}),e.jsx(O,{path:"/appointments",element:e.jsx(hi,{})}),e.jsx(O,{path:"/appointments/new",element:e.jsx(ds,{})}),e.jsx(O,{path:"/appointments/:id/edit",element:e.jsx(ds,{})}),e.jsx(O,{path:"/medical-records",element:e.jsx(Si,{})}),e.jsx(O,{path:"/medical-records/new",element:e.jsx(It,{})}),e.jsx(O,{path:"/medical-records/:id",element:e.jsx(It,{})}),e.jsx(O,{path:"/medical-records/:id/edit",element:e.jsx(It,{})}),e.jsx(O,{path:"/medical-records/:id/follow-up",element:e.jsx($i,{})}),e.jsx(O,{path:"/tasks",element:e.jsx(wi,{})}),e.jsx(O,{path:"/analytics",element:e.jsx(ki,{})}),e.jsx(O,{path:"/settings",element:e.jsx(ls,{})}),e.jsx(O,{path:"/settings/profile",element:e.jsx(ls,{})}),e.jsx(O,{path:"/billing",element:e.jsx(Ii,{})})]}),e.jsx(O,{path:"/404",element:e.jsx(Zr,{})}),e.jsx(O,{path:"*",element:t?e.jsx(ue,{to:"/404"}):e.jsx(ue,{to:"/login"})})]})})};function Ki(){return e.jsx(_n,{basename:"/VetPMS",children:e.jsx(nr,{children:e.jsx(rr,{children:e.jsx(ir,{children:e.jsx(lr,{children:e.jsx(er,{children:e.jsxs(gr,{children:[e.jsx(Hi,{}),e.jsx(Nr,{})]})})})})})})})}const Wi=new Ms({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}});Gn.createRoot(document.getElementById("root")).render(e.jsx(me.StrictMode,{children:e.jsx(Un,{client:Wi,children:e.jsx(Ki,{})})}));
