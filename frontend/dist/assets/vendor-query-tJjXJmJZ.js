var fn=e=>{throw TypeError(e)};var Ft=(e,n,t)=>n.has(e)||fn("Cannot "+t);var a=(e,n,t)=>(Ft(e,n,"read from private field"),t?t.call(e):n.get(e)),w=(e,n,t)=>n.has(e)?fn("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,t),C=(e,n,t,s)=>(Ft(e,n,"write to private field"),s?s.call(e,t):n.set(e,t),t),x=(e,n,t)=>(Ft(e,n,"access private method"),t);var ut=(e,n,t,s)=>({set _(i){C(e,n,i,t)},get _(){return a(e,n,s)}});var Be=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ke=typeof window>"u"||"Deno"in globalThis;function B(){}function vs(e,n){return typeof e=="function"?e(n):e}function Et(e){return typeof e=="number"&&e>=0&&e!==1/0}function Un(e,n){return Math.max(e+(n||0)-Date.now(),0)}function Ee(e,n){return typeof e=="function"?e(n):e}function J(e,n){return typeof e=="function"?e(n):e}function gn(e,n){const{type:t="all",exact:s,fetchStatus:i,predicate:r,queryKey:o,stale:u}=e;if(o){if(s){if(n.queryHash!==nn(o,n.options))return!1}else if(!Ze(n.queryKey,o))return!1}if(t!=="all"){const l=n.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof u=="boolean"&&n.isStale()!==u||i&&i!==n.state.fetchStatus||r&&!r(n))}function pn(e,n){const{exact:t,status:s,predicate:i,mutationKey:r}=e;if(r){if(!n.options.mutationKey)return!1;if(t){if(De(n.options.mutationKey)!==De(r))return!1}else if(!Ze(n.options.mutationKey,r))return!1}return!(s&&n.state.status!==s||i&&!i(n))}function nn(e,n){return((n==null?void 0:n.queryKeyHashFn)||De)(e)}function De(e){return JSON.stringify(e,(n,t)=>$t(t)?Object.keys(t).sort().reduce((s,i)=>(s[i]=t[i],s),{}):t)}function Ze(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?Object.keys(n).every(t=>Ze(e[t],n[t])):!1}function zn(e,n){if(e===n)return e;const t=vn(e)&&vn(n);if(t||$t(e)&&$t(n)){const s=t?e:Object.keys(e),i=s.length,r=t?n:Object.keys(n),o=r.length,u=t?[]:{};let l=0;for(let c=0;c<o;c++){const h=t?c:r[c];(!t&&s.includes(h)||t)&&e[h]===void 0&&n[h]===void 0?(u[h]=void 0,l++):(u[h]=zn(e[h],n[h]),u[h]===e[h]&&e[h]!==void 0&&l++)}return i===o&&l===i?e:u}return n}function pt(e,n){if(!n||Object.keys(e).length!==Object.keys(n).length)return!1;for(const t in e)if(e[t]!==n[t])return!1;return!0}function vn(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function $t(e){if(!mn(e))return!1;const n=e.constructor;if(n===void 0)return!0;const t=n.prototype;return!(!mn(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function mn(e){return Object.prototype.toString.call(e)==="[object Object]"}function ms(e){return new Promise(n=>{setTimeout(n,e)})}function At(e,n,t){return typeof t.structuralSharing=="function"?t.structuralSharing(e,n):t.structuralSharing!==!1?zn(e,n):n}function ys(e,n,t=0){const s=[...e,n];return t&&s.length>t?s.slice(1):s}function Ss(e,n,t=0){const s=[n,...e];return t&&s.length>t?s.slice(0,-1):s}var sn=Symbol();function jn(e,n){return!e.queryFn&&(n!=null&&n.initialPromise)?()=>n.initialPromise:!e.queryFn||e.queryFn===sn?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Li(e,n){return typeof e=="function"?e(...n):!!e}var Fe,ce,$e,En,Cs=(En=class extends Be{constructor(){super();w(this,Fe);w(this,ce);w(this,$e);C(this,$e,t=>{if(!Ke&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){a(this,ce)||this.setEventListener(a(this,$e))}onUnsubscribe(){var t;this.hasListeners()||((t=a(this,ce))==null||t.call(this),C(this,ce,void 0))}setEventListener(t){var s;C(this,$e,t),(s=a(this,ce))==null||s.call(this),C(this,ce,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){a(this,Fe)!==t&&(C(this,Fe,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof a(this,Fe)=="boolean"?a(this,Fe):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Fe=new WeakMap,ce=new WeakMap,$e=new WeakMap,En),rn=new Cs,Ae,de,Ve,$n,Rs=($n=class extends Be{constructor(){super();w(this,Ae,!0);w(this,de);w(this,Ve);C(this,Ve,t=>{if(!Ke&&window.addEventListener){const s=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",i)}}})}onSubscribe(){a(this,de)||this.setEventListener(a(this,Ve))}onUnsubscribe(){var t;this.hasListeners()||((t=a(this,de))==null||t.call(this),C(this,de,void 0))}setEventListener(t){var s;C(this,Ve,t),(s=a(this,de))==null||s.call(this),C(this,de,t(this.setOnline.bind(this)))}setOnline(t){a(this,Ae)!==t&&(C(this,Ae,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return a(this,Ae)}},Ae=new WeakMap,de=new WeakMap,Ve=new WeakMap,$n),vt=new Rs;function Vt(){let e,n;const t=new Promise((i,r)=>{e=i,n=r});t.status="pending",t.catch(()=>{});function s(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},t.reject=i=>{s({status:"rejected",reason:i}),n(i)},t}function ws(e){return Math.min(1e3*2**e,3e4)}function kn(e){return(e??"online")==="online"?vt.isOnline():!0}var Kn=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Pt(e){return e instanceof Kn}function Bn(e){let n=!1,t=0,s=!1,i;const r=Vt(),o=v=>{var m;s||(f(new Kn(v)),(m=e.abort)==null||m.call(e))},u=()=>{n=!0},l=()=>{n=!1},c=()=>rn.isFocused()&&(e.networkMode==="always"||vt.isOnline())&&e.canRun(),h=()=>kn(e.networkMode)&&e.canRun(),p=v=>{var m;s||(s=!0,(m=e.onSuccess)==null||m.call(e,v),i==null||i(),r.resolve(v))},f=v=>{var m;s||(s=!0,(m=e.onError)==null||m.call(e,v),i==null||i(),r.reject(v))},d=()=>new Promise(v=>{var m;i=y=>{(s||c())&&v(y)},(m=e.onPause)==null||m.call(e)}).then(()=>{var v;i=void 0,s||(v=e.onContinue)==null||v.call(e)}),g=()=>{if(s)return;let v;const m=t===0?e.initialPromise:void 0;try{v=m??e.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(p).catch(y=>{var F;if(s)return;const R=e.retry??(Ke?0:3),S=e.retryDelay??ws,P=typeof S=="function"?S(t,y):S,I=R===!0||typeof R=="number"&&t<R||typeof R=="function"&&R(t,y);if(n||!I){f(y);return}t++,(F=e.onFail)==null||F.call(e,t,y),ms(P).then(()=>c()?void 0:d()).then(()=>{n?f(y):g()})})};return{promise:r,cancel:o,continue:()=>(i==null||i(),r),cancelRetry:u,continueRetry:l,canStart:h,start:()=>(h()?g():d().then(g),r)}}var Fs=e=>setTimeout(e,0);function Ps(){let e=[],n=0,t=u=>{u()},s=u=>{u()},i=Fs;const r=u=>{n?e.push(u):i(()=>{t(u)})},o=()=>{const u=e;e=[],u.length&&i(()=>{s(()=>{u.forEach(l=>{t(l)})})})};return{batch:u=>{let l;n++;try{l=u()}finally{n--,n||o()}return l},batchCalls:u=>(...l)=>{r(()=>{u(...l)})},schedule:r,setNotifyFunction:u=>{t=u},setBatchNotifyFunction:u=>{s=u},setScheduler:u=>{i=u}}}var L=Ps(),Pe,An,Nn=(An=class{constructor(){w(this,Pe)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Et(this.gcTime)&&C(this,Pe,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Ke?1/0:5*60*1e3))}clearGcTimeout(){a(this,Pe)&&(clearTimeout(a(this,Pe)),C(this,Pe,void 0))}},Pe=new WeakMap,An),qe,Le,K,Me,T,tt,Oe,X,ne,Vn,Ms=(Vn=class extends Nn{constructor(t){super();w(this,X);w(this,qe);w(this,Le);w(this,K);w(this,Me);w(this,T);w(this,tt);w(this,Oe);C(this,Oe,!1),C(this,tt,t.defaultOptions),this.setOptions(t.options),this.observers=[],C(this,Me,t.client),C(this,K,a(this,Me).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,C(this,qe,Os(this.options)),this.state=t.state??a(this,qe),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=a(this,T))==null?void 0:t.promise}setOptions(t){this.options={...a(this,tt),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&a(this,K).remove(this)}setData(t,s){const i=At(this.state.data,t,this.options);return x(this,X,ne).call(this,{data:i,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),i}setState(t,s){x(this,X,ne).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var i,r;const s=(i=a(this,T))==null?void 0:i.promise;return(r=a(this,T))==null||r.cancel(t),s?s.then(B).catch(B):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(a(this,qe))}isActive(){return this.observers.some(t=>J(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sn||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Un(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=a(this,T))==null||s.continue()}onOnline(){var s;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=a(this,T))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),a(this,K).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(a(this,T)&&(a(this,Oe)?a(this,T).cancel({revert:!0}):a(this,T).cancelRetry()),this.scheduleGc()),a(this,K).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||x(this,X,ne).call(this,{type:"invalidate"})}fetch(t,s){var c,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(a(this,T))return a(this,T).continueRetry(),a(this,T).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(d=>d.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,r=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(C(this,Oe,!0),i.signal)})},o=()=>{const f=jn(this.options,s),d={client:a(this,Me),queryKey:this.queryKey,meta:this.meta};return r(d),C(this,Oe,!1),this.options.persister?this.options.persister(f,d,this):f(d)},u={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:a(this,Me),state:this.state,fetchFn:o};r(u),(c=this.options.behavior)==null||c.onFetch(u,this),C(this,Le,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=u.fetchOptions)==null?void 0:h.meta))&&x(this,X,ne).call(this,{type:"fetch",meta:(p=u.fetchOptions)==null?void 0:p.meta});const l=f=>{var d,g,v,m;Pt(f)&&f.silent||x(this,X,ne).call(this,{type:"error",error:f}),Pt(f)||((g=(d=a(this,K).config).onError)==null||g.call(d,f,this),(m=(v=a(this,K).config).onSettled)==null||m.call(v,this.state.data,f,this)),this.scheduleGc()};return C(this,T,Bn({initialPromise:s==null?void 0:s.initialPromise,fn:u.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var d,g,v,m;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){l(y);return}(g=(d=a(this,K).config).onSuccess)==null||g.call(d,f,this),(m=(v=a(this,K).config).onSettled)==null||m.call(v,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,d)=>{x(this,X,ne).call(this,{type:"failed",failureCount:f,error:d})},onPause:()=>{x(this,X,ne).call(this,{type:"pause"})},onContinue:()=>{x(this,X,ne).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),a(this,T).start()}},qe=new WeakMap,Le=new WeakMap,K=new WeakMap,Me=new WeakMap,T=new WeakMap,tt=new WeakMap,Oe=new WeakMap,X=new WeakSet,ne=function(t){const s=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Xn(i.data,this.options),fetchMeta:t.meta??null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return Pt(r)&&r.revert&&a(this,Le)?{...a(this,Le),fetchStatus:"idle"}:{...i,error:r,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=s(this.state),L.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),a(this,K).notify({query:this,type:"updated",action:t})})},Vn);function Xn(e,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kn(n.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Os(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,t=n!==void 0,s=t?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Z,qn,bs=(qn=class extends Be{constructor(t={}){super();w(this,Z);this.config=t,C(this,Z,new Map)}build(t,s,i){const r=s.queryKey,o=s.queryHash??nn(r,s);let u=this.get(o);return u||(u=new Ms({client:t,queryKey:r,queryHash:o,options:t.defaultQueryOptions(s),state:i,defaultOptions:t.getQueryDefaults(r)}),this.add(u)),u}add(t){a(this,Z).has(t.queryHash)||(a(this,Z).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=a(this,Z).get(t.queryHash);s&&(t.destroy(),s===t&&a(this,Z).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){L.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return a(this,Z).get(t)}getAll(){return[...a(this,Z).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(i=>gn(s,i))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(i=>gn(t,i)):s}notify(t){L.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){L.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){L.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Z=new WeakMap,qn),ee,G,be,te,ae,Ln,_s=(Ln=class extends Nn{constructor(t){super();w(this,te);w(this,ee);w(this,G);w(this,be);this.mutationId=t.mutationId,C(this,G,t.mutationCache),C(this,ee,[]),this.state=t.state||Wn(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){a(this,ee).includes(t)||(a(this,ee).push(t),this.clearGcTimeout(),a(this,G).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){C(this,ee,a(this,ee).filter(s=>s!==t)),this.scheduleGc(),a(this,G).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){a(this,ee).length||(this.state.status==="pending"?this.scheduleGc():a(this,G).remove(this))}continue(){var t;return((t=a(this,be))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,u,l,c,h,p,f,d,g,v,m,y,R,S,P,I,F,_,b,E;const s=()=>{x(this,te,ae).call(this,{type:"continue"})};C(this,be,Bn({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,V)=>{x(this,te,ae).call(this,{type:"failed",failureCount:A,error:V})},onPause:()=>{x(this,te,ae).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>a(this,G).canRun(this)}));const i=this.state.status==="pending",r=!a(this,be).canStart();try{if(i)s();else{x(this,te,ae).call(this,{type:"pending",variables:t,isPaused:r}),await((u=(o=a(this,G).config).onMutate)==null?void 0:u.call(o,t,this));const V=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));V!==this.state.context&&x(this,te,ae).call(this,{type:"pending",context:V,variables:t,isPaused:r})}const A=await a(this,be).start();return await((p=(h=a(this,G).config).onSuccess)==null?void 0:p.call(h,A,t,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,A,t,this.state.context)),await((v=(g=a(this,G).config).onSettled)==null?void 0:v.call(g,A,null,this.state.variables,this.state.context,this)),await((y=(m=this.options).onSettled)==null?void 0:y.call(m,A,null,t,this.state.context)),x(this,te,ae).call(this,{type:"success",data:A}),A}catch(A){try{throw await((S=(R=a(this,G).config).onError)==null?void 0:S.call(R,A,t,this.state.context,this)),await((I=(P=this.options).onError)==null?void 0:I.call(P,A,t,this.state.context)),await((_=(F=a(this,G).config).onSettled)==null?void 0:_.call(F,void 0,A,this.state.variables,this.state.context,this)),await((E=(b=this.options).onSettled)==null?void 0:E.call(b,void 0,A,t,this.state.context)),A}finally{x(this,te,ae).call(this,{type:"error",error:A})}}finally{a(this,G).runNext(this)}}},ee=new WeakMap,G=new WeakMap,be=new WeakMap,te=new WeakSet,ae=function(t){const s=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),L.batch(()=>{a(this,ee).forEach(i=>{i.onMutationUpdate(t)}),a(this,G).notify({mutation:this,type:"updated",action:t})})},Ln);function Wn(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ie,W,nt,Qn,Is=(Qn=class extends Be{constructor(t={}){super();w(this,ie);w(this,W);w(this,nt);this.config=t,C(this,ie,new Set),C(this,W,new Map),C(this,nt,0)}build(t,s,i){const r=new _s({mutationCache:this,mutationId:++ut(this,nt)._,options:t.defaultMutationOptions(s),state:i});return this.add(r),r}add(t){a(this,ie).add(t);const s=at(t);if(typeof s=="string"){const i=a(this,W).get(s);i?i.push(t):a(this,W).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(a(this,ie).delete(t)){const s=at(t);if(typeof s=="string"){const i=a(this,W).get(s);if(i)if(i.length>1){const r=i.indexOf(t);r!==-1&&i.splice(r,1)}else i[0]===t&&a(this,W).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=at(t);if(typeof s=="string"){const i=a(this,W).get(s),r=i==null?void 0:i.find(o=>o.state.status==="pending");return!r||r===t}else return!0}runNext(t){var i;const s=at(t);if(typeof s=="string"){const r=(i=a(this,W).get(s))==null?void 0:i.find(o=>o!==t&&o.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){L.batch(()=>{a(this,ie).forEach(t=>{this.notify({type:"removed",mutation:t})}),a(this,ie).clear(),a(this,W).clear()})}getAll(){return Array.from(a(this,ie))}find(t){const s={exact:!0,...t};return this.getAll().find(i=>pn(s,i))}findAll(t={}){return this.getAll().filter(s=>pn(t,s))}notify(t){L.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return L.batch(()=>Promise.all(t.map(s=>s.continue().catch(B))))}},ie=new WeakMap,W=new WeakMap,nt=new WeakMap,Qn);function at(e){var n;return(n=e.options.scope)==null?void 0:n.id}function yn(e){return{onFetch:(n,t)=>{var h,p,f,d,g;const s=n.options,i=(f=(p=(h=n.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:f.direction,r=((d=n.state.data)==null?void 0:d.pages)||[],o=((g=n.state.data)==null?void 0:g.pageParams)||[];let u={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const m=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(n.signal.aborted?v=!0:n.signal.addEventListener("abort",()=>{v=!0}),n.signal)})},y=jn(n.options,n.fetchOptions),R=async(S,P,I)=>{if(v)return Promise.reject();if(P==null&&S.pages.length)return Promise.resolve(S);const F={client:n.client,queryKey:n.queryKey,pageParam:P,direction:I?"backward":"forward",meta:n.options.meta};m(F);const _=await y(F),{maxPages:b}=n.options,E=I?Ss:ys;return{pages:E(S.pages,_,b),pageParams:E(S.pageParams,P,b)}};if(i&&r.length){const S=i==="backward",P=S?xs:Sn,I={pages:r,pageParams:o},F=P(s,I);u=await R(I,F,S)}else{const S=e??r.length;do{const P=l===0?o[0]??s.initialPageParam:Sn(s,u);if(l>0&&P==null)break;u=await R(u,P),l++}while(l<S)}return u};n.options.persister?n.fetchFn=()=>{var v,m;return(m=(v=n.options).persister)==null?void 0:m.call(v,c,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},t)}:n.fetchFn=c}}}function Sn(e,{pages:n,pageParams:t}){const s=n.length-1;return n.length>0?e.getNextPageParam(n[s],n,t[s],t):void 0}function xs(e,{pages:n,pageParams:t}){var s;return n.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,n[0],n,t[0],t):void 0}var q,he,fe,Qe,He,ge,Te,Ge,Hn,Ki=(Hn=class{constructor(n={}){w(this,q);w(this,he);w(this,fe);w(this,Qe);w(this,He);w(this,ge);w(this,Te);w(this,Ge);C(this,q,n.queryCache||new bs),C(this,he,n.mutationCache||new Is),C(this,fe,n.defaultOptions||{}),C(this,Qe,new Map),C(this,He,new Map),C(this,ge,0)}mount(){ut(this,ge)._++,a(this,ge)===1&&(C(this,Te,rn.subscribe(async n=>{n&&(await this.resumePausedMutations(),a(this,q).onFocus())})),C(this,Ge,vt.subscribe(async n=>{n&&(await this.resumePausedMutations(),a(this,q).onOnline())})))}unmount(){var n,t;ut(this,ge)._--,a(this,ge)===0&&((n=a(this,Te))==null||n.call(this),C(this,Te,void 0),(t=a(this,Ge))==null||t.call(this),C(this,Ge,void 0))}isFetching(n){return a(this,q).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return a(this,he).findAll({...n,status:"pending"}).length}getQueryData(n){var s;const t=this.defaultQueryOptions({queryKey:n});return(s=a(this,q).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(n){const t=this.defaultQueryOptions(n),s=a(this,q).build(this,t),i=s.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&s.isStaleByTime(Ee(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(n){return a(this,q).findAll(n).map(({queryKey:t,state:s})=>{const i=s.data;return[t,i]})}setQueryData(n,t,s){const i=this.defaultQueryOptions({queryKey:n}),r=a(this,q).get(i.queryHash),o=r==null?void 0:r.state.data,u=vs(t,o);if(u!==void 0)return a(this,q).build(this,i).setData(u,{...s,manual:!0})}setQueriesData(n,t,s){return L.batch(()=>a(this,q).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,t,s)]))}getQueryState(n){var s;const t=this.defaultQueryOptions({queryKey:n});return(s=a(this,q).get(t.queryHash))==null?void 0:s.state}removeQueries(n){const t=a(this,q);L.batch(()=>{t.findAll(n).forEach(s=>{t.remove(s)})})}resetQueries(n,t){const s=a(this,q);return L.batch(()=>(s.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},t)))}cancelQueries(n,t={}){const s={revert:!0,...t},i=L.batch(()=>a(this,q).findAll(n).map(r=>r.cancel(s)));return Promise.all(i).then(B).catch(B)}invalidateQueries(n,t={}){return L.batch(()=>(a(this,q).findAll(n).forEach(s=>{s.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},t)))}refetchQueries(n,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},i=L.batch(()=>a(this,q).findAll(n).filter(r=>!r.isDisabled()).map(r=>{let o=r.fetch(void 0,s);return s.throwOnError||(o=o.catch(B)),r.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(i).then(B)}fetchQuery(n){const t=this.defaultQueryOptions(n);t.retry===void 0&&(t.retry=!1);const s=a(this,q).build(this,t);return s.isStaleByTime(Ee(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(B).catch(B)}fetchInfiniteQuery(n){return n.behavior=yn(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(B).catch(B)}ensureInfiniteQueryData(n){return n.behavior=yn(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return vt.isOnline()?a(this,he).resumePausedMutations():Promise.resolve()}getQueryCache(){return a(this,q)}getMutationCache(){return a(this,he)}getDefaultOptions(){return a(this,fe)}setDefaultOptions(n){C(this,fe,n)}setQueryDefaults(n,t){a(this,Qe).set(De(n),{queryKey:n,defaultOptions:t})}getQueryDefaults(n){const t=[...a(this,Qe).values()],s={};return t.forEach(i=>{Ze(n,i.queryKey)&&Object.assign(s,i.defaultOptions)}),s}setMutationDefaults(n,t){a(this,He).set(De(n),{mutationKey:n,defaultOptions:t})}getMutationDefaults(n){const t=[...a(this,He).values()],s={};return t.forEach(i=>{Ze(n,i.mutationKey)&&Object.assign(s,i.defaultOptions)}),s}defaultQueryOptions(n){if(n._defaulted)return n;const t={...a(this,fe).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return t.queryHash||(t.queryHash=nn(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===sn&&(t.enabled=!1),t}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...a(this,fe).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){a(this,q).clear(),a(this,he).clear()}},q=new WeakMap,he=new WeakMap,fe=new WeakMap,Qe=new WeakMap,He=new WeakMap,ge=new WeakMap,Te=new WeakMap,Ge=new WeakMap,Hn),z,D,st,U,_e,Ue,pe,ve,it,ze,je,Ie,xe,me,ke,$,Je,qt,Lt,Qt,Ht,Tt,Gt,Ut,Jn,Tn,Ni=(Tn=class extends Be{constructor(t,s){super();w(this,$);w(this,z);w(this,D);w(this,st);w(this,U);w(this,_e);w(this,Ue);w(this,pe);w(this,ve);w(this,it);w(this,ze);w(this,je);w(this,Ie);w(this,xe);w(this,me);w(this,ke,new Set);this.options=s,C(this,z,t),C(this,ve,null),C(this,pe,Vt()),this.options.experimental_prefetchInRender||a(this,pe).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(a(this,D).addObserver(this),Cn(a(this,D),this.options)?x(this,$,Je).call(this):this.updateResult(),x(this,$,Ht).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return zt(a(this,D),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return zt(a(this,D),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,x(this,$,Tt).call(this),x(this,$,Gt).call(this),a(this,D).removeObserver(this)}setOptions(t){const s=this.options,i=a(this,D);if(this.options=a(this,z).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof J(this.options.enabled,a(this,D))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");x(this,$,Ut).call(this),a(this,D).setOptions(this.options),s._defaulted&&!pt(this.options,s)&&a(this,z).getQueryCache().notify({type:"observerOptionsUpdated",query:a(this,D),observer:this});const r=this.hasListeners();r&&Rn(a(this,D),i,this.options,s)&&x(this,$,Je).call(this),this.updateResult(),r&&(a(this,D)!==i||J(this.options.enabled,a(this,D))!==J(s.enabled,a(this,D))||Ee(this.options.staleTime,a(this,D))!==Ee(s.staleTime,a(this,D)))&&x(this,$,qt).call(this);const o=x(this,$,Lt).call(this);r&&(a(this,D)!==i||J(this.options.enabled,a(this,D))!==J(s.enabled,a(this,D))||o!==a(this,me))&&x(this,$,Qt).call(this,o)}getOptimisticResult(t){const s=a(this,z).getQueryCache().build(a(this,z),t),i=this.createResult(s,t);return Es(this,i)&&(C(this,U,i),C(this,Ue,this.options),C(this,_e,a(this,D).state)),i}getCurrentResult(){return a(this,U)}trackResult(t,s){return new Proxy(t,{get:(i,r)=>(this.trackProp(r),s==null||s(r),Reflect.get(i,r))})}trackProp(t){a(this,ke).add(t)}getCurrentQuery(){return a(this,D)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=a(this,z).defaultQueryOptions(t),i=a(this,z).getQueryCache().build(a(this,z),s);return i.fetch().then(()=>this.createResult(i,s))}fetch(t){return x(this,$,Je).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),a(this,U)))}createResult(t,s){var A;const i=a(this,D),r=this.options,o=a(this,U),u=a(this,_e),l=a(this,Ue),h=t!==i?t.state:a(this,st),{state:p}=t;let f={...p},d=!1,g;if(s._optimisticResults){const V=this.hasListeners(),Xe=!V&&Cn(t,s),ue=V&&Rn(t,i,s,r);(Xe||ue)&&(f={...f,...Xn(p.data,t.options)}),s._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:y}=f;g=f.data;let R=!1;if(s.placeholderData!==void 0&&g===void 0&&y==="pending"){let V;o!=null&&o.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData)?(V=o.data,R=!0):V=typeof s.placeholderData=="function"?s.placeholderData((A=a(this,je))==null?void 0:A.state.data,a(this,je)):s.placeholderData,V!==void 0&&(y="success",g=At(o==null?void 0:o.data,V,s),d=!0)}if(s.select&&g!==void 0&&!R)if(o&&g===(u==null?void 0:u.data)&&s.select===a(this,it))g=a(this,ze);else try{C(this,it,s.select),g=s.select(g),g=At(o==null?void 0:o.data,g,s),C(this,ze,g),C(this,ve,null)}catch(V){C(this,ve,V)}a(this,ve)&&(v=a(this,ve),g=a(this,ze),m=Date.now(),y="error");const S=f.fetchStatus==="fetching",P=y==="pending",I=y==="error",F=P&&S,_=g!==void 0,E={status:y,fetchStatus:f.fetchStatus,isPending:P,isSuccess:y==="success",isError:I,isInitialLoading:F,isLoading:F,data:g,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>h.dataUpdateCount||f.errorUpdateCount>h.errorUpdateCount,isFetching:S,isRefetching:S&&!P,isLoadingError:I&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:I&&_,isStale:on(t,s),refetch:this.refetch,promise:a(this,pe)};if(this.options.experimental_prefetchInRender){const V=ot=>{E.status==="error"?ot.reject(E.error):E.data!==void 0&&ot.resolve(E.data)},Xe=()=>{const ot=C(this,pe,E.promise=Vt());V(ot)},ue=a(this,pe);switch(ue.status){case"pending":t.queryHash===i.queryHash&&V(ue);break;case"fulfilled":(E.status==="error"||E.data!==ue.value)&&Xe();break;case"rejected":(E.status!=="error"||E.error!==ue.reason)&&Xe();break}}return E}updateResult(){const t=a(this,U),s=this.createResult(a(this,D),this.options);if(C(this,_e,a(this,D).state),C(this,Ue,this.options),a(this,_e).data!==void 0&&C(this,je,a(this,D)),pt(s,t))return;C(this,U,s);const i=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,o=typeof r=="function"?r():r;if(o==="all"||!o&&!a(this,ke).size)return!0;const u=new Set(o??a(this,ke));return this.options.throwOnError&&u.add("error"),Object.keys(a(this,U)).some(l=>{const c=l;return a(this,U)[c]!==t[c]&&u.has(c)})};x(this,$,Jn).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&x(this,$,Ht).call(this)}},z=new WeakMap,D=new WeakMap,st=new WeakMap,U=new WeakMap,_e=new WeakMap,Ue=new WeakMap,pe=new WeakMap,ve=new WeakMap,it=new WeakMap,ze=new WeakMap,je=new WeakMap,Ie=new WeakMap,xe=new WeakMap,me=new WeakMap,ke=new WeakMap,$=new WeakSet,Je=function(t){x(this,$,Ut).call(this);let s=a(this,D).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(B)),s},qt=function(){x(this,$,Tt).call(this);const t=Ee(this.options.staleTime,a(this,D));if(Ke||a(this,U).isStale||!Et(t))return;const i=Un(a(this,U).dataUpdatedAt,t)+1;C(this,Ie,setTimeout(()=>{a(this,U).isStale||this.updateResult()},i))},Lt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(a(this,D)):this.options.refetchInterval)??!1},Qt=function(t){x(this,$,Gt).call(this),C(this,me,t),!(Ke||J(this.options.enabled,a(this,D))===!1||!Et(a(this,me))||a(this,me)===0)&&C(this,xe,setInterval(()=>{(this.options.refetchIntervalInBackground||rn.isFocused())&&x(this,$,Je).call(this)},a(this,me)))},Ht=function(){x(this,$,qt).call(this),x(this,$,Qt).call(this,x(this,$,Lt).call(this))},Tt=function(){a(this,Ie)&&(clearTimeout(a(this,Ie)),C(this,Ie,void 0))},Gt=function(){a(this,xe)&&(clearInterval(a(this,xe)),C(this,xe,void 0))},Ut=function(){const t=a(this,z).getQueryCache().build(a(this,z),this.options);if(t===a(this,D))return;const s=a(this,D);C(this,D,t),C(this,st,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},Jn=function(t){L.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(a(this,U))}),a(this,z).getQueryCache().notify({query:a(this,D),type:"observerResultsUpdated"})})},Tn);function Ds(e,n){return J(n.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&n.retryOnMount===!1)}function Cn(e,n){return Ds(e,n)||e.state.data!==void 0&&zt(e,n,n.refetchOnMount)}function zt(e,n,t){if(J(n.enabled,e)!==!1){const s=typeof t=="function"?t(e):t;return s==="always"||s!==!1&&on(e,n)}return!1}function Rn(e,n,t,s){return(e!==n||J(s.enabled,e)===!1)&&(!t.suspense||e.state.status!=="error")&&on(e,t)}function on(e,n){return J(n.enabled,e)!==!1&&e.isStaleByTime(Ee(n.staleTime,e))}function Es(e,n){return!pt(e.getCurrentResult(),n)}var ye,Se,j,re,oe,ft,jt,Gn,Wi=(Gn=class extends Be{constructor(t,s){super();w(this,oe);w(this,ye);w(this,Se);w(this,j);w(this,re);C(this,ye,t),this.setOptions(s),this.bindMethods(),x(this,oe,ft).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const s=this.options;this.options=a(this,ye).defaultMutationOptions(t),pt(this.options,s)||a(this,ye).getMutationCache().notify({type:"observerOptionsUpdated",mutation:a(this,j),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&De(s.mutationKey)!==De(this.options.mutationKey)?this.reset():((i=a(this,j))==null?void 0:i.state.status)==="pending"&&a(this,j).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=a(this,j))==null||t.removeObserver(this)}onMutationUpdate(t){x(this,oe,ft).call(this),x(this,oe,jt).call(this,t)}getCurrentResult(){return a(this,Se)}reset(){var t;(t=a(this,j))==null||t.removeObserver(this),C(this,j,void 0),x(this,oe,ft).call(this),x(this,oe,jt).call(this)}mutate(t,s){var i;return C(this,re,s),(i=a(this,j))==null||i.removeObserver(this),C(this,j,a(this,ye).getMutationCache().build(a(this,ye),this.options)),a(this,j).addObserver(this),a(this,j).execute(t)}},ye=new WeakMap,Se=new WeakMap,j=new WeakMap,re=new WeakMap,oe=new WeakSet,ft=function(){var s;const t=((s=a(this,j))==null?void 0:s.state)??Wn();C(this,Se,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},jt=function(t){L.batch(()=>{var s,i,r,o,u,l,c,h;if(a(this,re)&&this.hasListeners()){const p=a(this,Se).variables,f=a(this,Se).context;(t==null?void 0:t.type)==="success"?((i=(s=a(this,re)).onSuccess)==null||i.call(s,t.data,p,f),(o=(r=a(this,re)).onSettled)==null||o.call(r,t.data,null,p,f)):(t==null?void 0:t.type)==="error"&&((l=(u=a(this,re)).onError)==null||l.call(u,t.error,p,f),(h=(c=a(this,re)).onSettled)==null||h.call(c,void 0,t.error,p,f))}this.listeners.forEach(p=>{p(a(this,Se))})})},Gn);class Ne{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){const t={listener:n};return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const et=typeof window>"u"||"Deno"in window;function N(){}function $s(e,n){return typeof e=="function"?e(n):e}function kt(e){return typeof e=="number"&&e>=0&&e!==1/0}function Yn(e,n){return Math.max(e+(n||0)-Date.now(),0)}function lt(e,n,t){return rt(e)?typeof n=="function"?{...t,queryKey:e,queryFn:n}:{...n,queryKey:e}:e}function Yi(e,n,t){return rt(e)?typeof n=="function"?{...t,mutationKey:e,mutationFn:n}:{...n,mutationKey:e}:typeof e=="function"?{...n,mutationFn:e}:{...e}}function le(e,n,t){return rt(e)?[{...n,queryKey:e},t]:[e||{},n]}function wn(e,n){const{type:t="all",exact:s,fetchStatus:i,predicate:r,queryKey:o,stale:u}=e;if(rt(o)){if(s){if(n.queryHash!==un(o,n.options))return!1}else if(!mt(n.queryKey,o))return!1}if(t!=="all"){const l=n.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof u=="boolean"&&n.isStale()!==u||typeof i<"u"&&i!==n.state.fetchStatus||r&&!r(n))}function Fn(e,n){const{exact:t,fetching:s,predicate:i,mutationKey:r}=e;if(rt(r)){if(!n.options.mutationKey)return!1;if(t){if(we(n.options.mutationKey)!==we(r))return!1}else if(!mt(n.options.mutationKey,r))return!1}return!(typeof s=="boolean"&&n.state.status==="loading"!==s||i&&!i(n))}function un(e,n){return((n==null?void 0:n.queryKeyHashFn)||we)(e)}function we(e){return JSON.stringify(e,(n,t)=>Kt(t)?Object.keys(t).sort().reduce((s,i)=>(s[i]=t[i],s),{}):t)}function mt(e,n){return Zn(e,n)}function Zn(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?!Object.keys(n).some(t=>!Zn(e[t],n[t])):!1}function es(e,n){if(e===n)return e;const t=Pn(e)&&Pn(n);if(t||Kt(e)&&Kt(n)){const s=t?e.length:Object.keys(e).length,i=t?n:Object.keys(n),r=i.length,o=t?[]:{};let u=0;for(let l=0;l<r;l++){const c=t?l:i[l];o[c]=es(e[c],n[c]),o[c]===e[c]&&u++}return s===r&&u===s?e:o}return n}function yt(e,n){if(e&&!n||n&&!e)return!1;for(const t in e)if(e[t]!==n[t])return!1;return!0}function Pn(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Kt(e){if(!Mn(e))return!1;const n=e.constructor;if(typeof n>"u")return!0;const t=n.prototype;return!(!Mn(t)||!t.hasOwnProperty("isPrototypeOf"))}function Mn(e){return Object.prototype.toString.call(e)==="[object Object]"}function rt(e){return Array.isArray(e)}function ts(e){return new Promise(n=>{setTimeout(n,e)})}function On(e){ts(0).then(e)}function As(){if(typeof AbortController=="function")return new AbortController}function Bt(e,n,t){return t.isDataEqual!=null&&t.isDataEqual(e,n)?e:typeof t.structuralSharing=="function"?t.structuralSharing(e,n):t.structuralSharing!==!1?es(e,n):n}class Vs extends Ne{constructor(){super(),this.setup=n=>{if(!et&&window.addEventListener){const t=()=>n();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}}setEventListener(n){var t;this.setup=n,(t=this.cleanup)==null||t.call(this),this.cleanup=n(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(n){this.focused!==n&&(this.focused=n,this.onFocus())}onFocus(){this.listeners.forEach(({listener:n})=>{n()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const St=new Vs,bn=["online","offline"];class qs extends Ne{constructor(){super(),this.setup=n=>{if(!et&&window.addEventListener){const t=()=>n();return bn.forEach(s=>{window.addEventListener(s,t,!1)}),()=>{bn.forEach(s=>{window.removeEventListener(s,t)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}}setEventListener(n){var t;this.setup=n,(t=this.cleanup)==null||t.call(this),this.cleanup=n(s=>{typeof s=="boolean"?this.setOnline(s):this.onOnline()})}setOnline(n){this.online!==n&&(this.online=n,this.onOnline())}onOnline(){this.listeners.forEach(({listener:n})=>{n()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Ct=new qs;function Ls(e){return Math.min(1e3*2**e,3e4)}function Rt(e){return(e??"online")==="online"?Ct.isOnline():!0}class ns{constructor(n){this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}}function gt(e){return e instanceof ns}function ss(e){let n=!1,t=0,s=!1,i,r,o;const u=new Promise((m,y)=>{r=m,o=y}),l=m=>{s||(d(new ns(m)),e.abort==null||e.abort())},c=()=>{n=!0},h=()=>{n=!1},p=()=>!St.isFocused()||e.networkMode!=="always"&&!Ct.isOnline(),f=m=>{s||(s=!0,e.onSuccess==null||e.onSuccess(m),i==null||i(),r(m))},d=m=>{s||(s=!0,e.onError==null||e.onError(m),i==null||i(),o(m))},g=()=>new Promise(m=>{i=y=>{const R=s||!p();return R&&m(y),R},e.onPause==null||e.onPause()}).then(()=>{i=void 0,s||e.onContinue==null||e.onContinue()}),v=()=>{if(s)return;let m;try{m=e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{var R,S;if(s)return;const P=(R=e.retry)!=null?R:3,I=(S=e.retryDelay)!=null?S:Ls,F=typeof I=="function"?I(t,y):I,_=P===!0||typeof P=="number"&&t<P||typeof P=="function"&&P(t,y);if(n||!_){d(y);return}t++,e.onFail==null||e.onFail(t,y),ts(F).then(()=>{if(p())return g()}).then(()=>{n?d(y):v()})})};return Rt(e.networkMode)?v():g().then(v),{promise:u,cancel:l,continue:()=>(i==null?void 0:i())?u:Promise.resolve(),cancelRetry:c,continueRetry:h}}const an=console;function Qs(){let e=[],n=0,t=h=>{h()},s=h=>{h()};const i=h=>{let p;n++;try{p=h()}finally{n--,n||u()}return p},r=h=>{n?e.push(h):On(()=>{t(h)})},o=h=>(...p)=>{r(()=>{h(...p)})},u=()=>{const h=e;e=[],h.length&&On(()=>{s(()=>{h.forEach(p=>{t(p)})})})};return{batch:i,batchCalls:o,schedule:r,setNotifyFunction:h=>{t=h},setBatchNotifyFunction:h=>{s=h}}}const Q=Qs();class is{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kt(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(n){this.cacheTime=Math.max(this.cacheTime||0,n??(et?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Hs extends is{constructor(n){super(),this.abortSignalConsumed=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.logger=n.logger||an,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||Ts(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(n){this.options={...this.defaultOptions,...n},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(n,t){const s=Bt(this.state.data,n,this.options);return this.dispatch({data:s,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),s}setState(n,t){this.dispatch({type:"setState",state:n,setStateOptions:t})}cancel(n){var t;const s=this.promise;return(t=this.retryer)==null||t.cancel(n),s?s.then(N).catch(N):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(n=>n.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(n=>n.getCurrentResult().isStale)}isStaleByTime(n=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Yn(this.state.dataUpdatedAt,n)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t&&t.refetch({cancelRefetch:!1}),(n=this.retryer)==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t&&t.refetch({cancelRefetch:!1}),(n=this.retryer)==null||n.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(t=>t!==n),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(n,t){var s,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&t!=null&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var r;return(r=this.retryer)==null||r.continueRetry(),this.promise}}if(n&&this.setOptions(n),!this.options.queryFn){const d=this.observers.find(g=>g.options.queryFn);d&&this.setOptions(d.options)}const o=As(),u={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(u);const c=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(u)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),h={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:c};if(l(h),(s=this.options.behavior)==null||s.onFetch(h),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=h.fetchOptions)==null?void 0:i.meta)){var p;this.dispatch({type:"fetch",meta:(p=h.fetchOptions)==null?void 0:p.meta})}const f=d=>{if(gt(d)&&d.silent||this.dispatch({type:"error",error:d}),!gt(d)){var g,v,m,y;(g=(v=this.cache.config).onError)==null||g.call(v,d,this),(m=(y=this.cache.config).onSettled)==null||m.call(y,this.state.data,d,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=ss({fn:h.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:d=>{var g,v,m,y;if(typeof d>"u"){f(new Error(this.queryHash+" data is undefined"));return}this.setData(d),(g=(v=this.cache.config).onSuccess)==null||g.call(v,d,this),(m=(y=this.cache.config).onSettled)==null||m.call(y,d,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(d,g)=>{this.dispatch({type:"failed",failureCount:d,error:g})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(n){const t=s=>{var i,r;switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=n.meta)!=null?i:null,fetchStatus:Rt(this.options.networkMode)?"fetching":"paused",...!s.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:(r=n.dataUpdatedAt)!=null?r:Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=n.error;return gt(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=t(this.state),Q.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate(n)}),this.cache.notify({query:this,type:"updated",action:n})})}}function Ts(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,t=typeof n<"u",s=t?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"loading",fetchStatus:"idle"}}class Gs extends Ne{constructor(n){super(),this.config=n||{},this.queries=[],this.queriesMap={}}build(n,t,s){var i;const r=t.queryKey,o=(i=t.queryHash)!=null?i:un(r,t);let u=this.get(o);return u||(u=new Hs({cache:this,logger:n.getLogger(),queryKey:r,queryHash:o,options:n.defaultQueryOptions(t),state:s,defaultOptions:n.getQueryDefaults(r)}),this.add(u)),u}add(n){this.queriesMap[n.queryHash]||(this.queriesMap[n.queryHash]=n,this.queries.push(n),this.notify({type:"added",query:n}))}remove(n){const t=this.queriesMap[n.queryHash];t&&(n.destroy(),this.queries=this.queries.filter(s=>s!==n),t===n&&delete this.queriesMap[n.queryHash],this.notify({type:"removed",query:n}))}clear(){Q.batch(()=>{this.queries.forEach(n=>{this.remove(n)})})}get(n){return this.queriesMap[n]}getAll(){return this.queries}find(n,t){const[s]=le(n,t);return typeof s.exact>"u"&&(s.exact=!0),this.queries.find(i=>wn(s,i))}findAll(n,t){const[s]=le(n,t);return Object.keys(s).length>0?this.queries.filter(i=>wn(s,i)):this.queries}notify(n){Q.batch(()=>{this.listeners.forEach(({listener:t})=>{t(n)})})}onFocus(){Q.batch(()=>{this.queries.forEach(n=>{n.onFocus()})})}onOnline(){Q.batch(()=>{this.queries.forEach(n=>{n.onOnline()})})}}class Us extends is{constructor(n){super(),this.defaultOptions=n.defaultOptions,this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.logger=n.logger||an,this.observers=[],this.state=n.state||rs(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options={...this.defaultOptions,...n},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(n){this.dispatch({type:"setState",state:n})}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){this.observers=this.observers.filter(t=>t!==n),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var n,t;return(n=(t=this.retryer)==null?void 0:t.continue())!=null?n:this.execute()}async execute(){const n=()=>{var _;return this.retryer=ss({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(b,E)=>{this.dispatch({type:"failed",failureCount:b,error:E})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(_=this.options.retry)!=null?_:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},t=this.state.status==="loading";try{var s,i,r,o,u,l,c,h;if(!t){var p,f,d,g;this.dispatch({type:"loading",variables:this.options.variables}),await((p=(f=this.mutationCache.config).onMutate)==null?void 0:p.call(f,this.state.variables,this));const b=await((d=(g=this.options).onMutate)==null?void 0:d.call(g,this.state.variables));b!==this.state.context&&this.dispatch({type:"loading",context:b,variables:this.state.variables})}const _=await n();return await((s=(i=this.mutationCache.config).onSuccess)==null?void 0:s.call(i,_,this.state.variables,this.state.context,this)),await((r=(o=this.options).onSuccess)==null?void 0:r.call(o,_,this.state.variables,this.state.context)),await((u=(l=this.mutationCache.config).onSettled)==null?void 0:u.call(l,_,null,this.state.variables,this.state.context,this)),await((c=(h=this.options).onSettled)==null?void 0:c.call(h,_,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:_}),_}catch(_){try{var v,m,y,R,S,P,I,F;throw await((v=(m=this.mutationCache.config).onError)==null?void 0:v.call(m,_,this.state.variables,this.state.context,this)),await((y=(R=this.options).onError)==null?void 0:y.call(R,_,this.state.variables,this.state.context)),await((S=(P=this.mutationCache.config).onSettled)==null?void 0:S.call(P,void 0,_,this.state.variables,this.state.context,this)),await((I=(F=this.options).onSettled)==null?void 0:I.call(F,void 0,_,this.state.variables,this.state.context)),_}finally{this.dispatch({type:"error",error:_})}}}dispatch(n){const t=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"loading":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Rt(this.options.networkMode),status:"loading",variables:n.variables};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"};case"setState":return{...s,...n.state}}};this.state=t(this.state),Q.batch(()=>{this.observers.forEach(s=>{s.onMutationUpdate(n)}),this.mutationCache.notify({mutation:this,type:"updated",action:n})})}}function rs(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class zs extends Ne{constructor(n){super(),this.config=n||{},this.mutations=[],this.mutationId=0}build(n,t,s){const i=new Us({mutationCache:this,logger:n.getLogger(),mutationId:++this.mutationId,options:n.defaultMutationOptions(t),state:s,defaultOptions:t.mutationKey?n.getMutationDefaults(t.mutationKey):void 0});return this.add(i),i}add(n){this.mutations.push(n),this.notify({type:"added",mutation:n})}remove(n){this.mutations=this.mutations.filter(t=>t!==n),this.notify({type:"removed",mutation:n})}clear(){Q.batch(()=>{this.mutations.forEach(n=>{this.remove(n)})})}getAll(){return this.mutations}find(n){return typeof n.exact>"u"&&(n.exact=!0),this.mutations.find(t=>Fn(n,t))}findAll(n){return this.mutations.filter(t=>Fn(n,t))}notify(n){Q.batch(()=>{this.listeners.forEach(({listener:t})=>{t(n)})})}resumePausedMutations(){var n;return this.resuming=((n=this.resuming)!=null?n:Promise.resolve()).then(()=>{const t=this.mutations.filter(s=>s.state.isPaused);return Q.batch(()=>t.reduce((s,i)=>s.then(()=>i.continue().catch(N)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function Nt(){return{onFetch:e=>{e.fetchFn=()=>{var n,t,s,i,r,o;const u=(n=e.fetchOptions)==null||(t=n.meta)==null?void 0:t.refetchPage,l=(s=e.fetchOptions)==null||(i=s.meta)==null?void 0:i.fetchMore,c=l==null?void 0:l.pageParam,h=(l==null?void 0:l.direction)==="forward",p=(l==null?void 0:l.direction)==="backward",f=((r=e.state.data)==null?void 0:r.pages)||[],d=((o=e.state.data)==null?void 0:o.pageParams)||[];let g=d,v=!1;const m=F=>{Object.defineProperty(F,"signal",{enumerable:!0,get:()=>{var _;if((_=e.signal)!=null&&_.aborted)v=!0;else{var b;(b=e.signal)==null||b.addEventListener("abort",()=>{v=!0})}return e.signal}})},y=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),R=(F,_,b,E)=>(g=E?[_,...g]:[...g,_],E?[b,...F]:[...F,b]),S=(F,_,b,E)=>{if(v)return Promise.reject("Cancelled");if(typeof b>"u"&&!_&&F.length)return Promise.resolve(F);const A={queryKey:e.queryKey,pageParam:b,meta:e.options.meta};m(A);const V=y(A);return Promise.resolve(V).then(ue=>R(F,b,ue,E))};let P;if(!f.length)P=S([]);else if(h){const F=typeof c<"u",_=F?c:Xt(e.options,f);P=S(f,F,_)}else if(p){const F=typeof c<"u",_=F?c:os(e.options,f);P=S(f,F,_,!0)}else{g=[];const F=typeof e.options.getNextPageParam>"u";P=(u&&f[0]?u(f[0],0,f):!0)?S([],F,d[0]):Promise.resolve(R([],d[0],f[0]));for(let b=1;b<f.length;b++)P=P.then(E=>{if(u&&f[b]?u(f[b],b,f):!0){const V=F?d[b]:Xt(e.options,E);return S(E,F,V)}return Promise.resolve(R(E,d[b],f[b]))})}return P.then(F=>({pages:F,pageParams:g}))}}}}function Xt(e,n){return e.getNextPageParam==null?void 0:e.getNextPageParam(n[n.length-1],n)}function os(e,n){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(n[0],n)}function js(e,n){if(e.getNextPageParam&&Array.isArray(n)){const t=Xt(e,n);return typeof t<"u"&&t!==null&&t!==!1}}function ks(e,n){if(e.getPreviousPageParam&&Array.isArray(n)){const t=os(e,n);return typeof t<"u"&&t!==null&&t!==!1}}class Zi{constructor(n={}){this.queryCache=n.queryCache||new Gs,this.mutationCache=n.mutationCache||new zs,this.logger=n.logger||an,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=St.subscribe(()=>{St.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=Ct.subscribe(()=>{Ct.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var n,t;this.mountCount--,this.mountCount===0&&((n=this.unsubscribeFocus)==null||n.call(this),this.unsubscribeFocus=void 0,(t=this.unsubscribeOnline)==null||t.call(this),this.unsubscribeOnline=void 0)}isFetching(n,t){const[s]=le(n,t);return s.fetchStatus="fetching",this.queryCache.findAll(s).length}isMutating(n){return this.mutationCache.findAll({...n,fetching:!0}).length}getQueryData(n,t){var s;return(s=this.queryCache.find(n,t))==null?void 0:s.state.data}ensureQueryData(n,t,s){const i=lt(n,t,s),r=this.getQueryData(i.queryKey);return r?Promise.resolve(r):this.fetchQuery(i)}getQueriesData(n){return this.getQueryCache().findAll(n).map(({queryKey:t,state:s})=>{const i=s.data;return[t,i]})}setQueryData(n,t,s){const i=this.queryCache.find(n),r=i==null?void 0:i.state.data,o=$s(t,r);if(typeof o>"u")return;const u=lt(n),l=this.defaultQueryOptions(u);return this.queryCache.build(this,l).setData(o,{...s,manual:!0})}setQueriesData(n,t,s){return Q.batch(()=>this.getQueryCache().findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,t,s)]))}getQueryState(n,t){var s;return(s=this.queryCache.find(n,t))==null?void 0:s.state}removeQueries(n,t){const[s]=le(n,t),i=this.queryCache;Q.batch(()=>{i.findAll(s).forEach(r=>{i.remove(r)})})}resetQueries(n,t,s){const[i,r]=le(n,t,s),o=this.queryCache,u={type:"active",...i};return Q.batch(()=>(o.findAll(i).forEach(l=>{l.reset()}),this.refetchQueries(u,r)))}cancelQueries(n,t,s){const[i,r={}]=le(n,t,s);typeof r.revert>"u"&&(r.revert=!0);const o=Q.batch(()=>this.queryCache.findAll(i).map(u=>u.cancel(r)));return Promise.all(o).then(N).catch(N)}invalidateQueries(n,t,s){const[i,r]=le(n,t,s);return Q.batch(()=>{var o,u;if(this.queryCache.findAll(i).forEach(c=>{c.invalidate()}),i.refetchType==="none")return Promise.resolve();const l={...i,type:(o=(u=i.refetchType)!=null?u:i.type)!=null?o:"active"};return this.refetchQueries(l,r)})}refetchQueries(n,t,s){const[i,r]=le(n,t,s),o=Q.batch(()=>this.queryCache.findAll(i).filter(l=>!l.isDisabled()).map(l=>{var c;return l.fetch(void 0,{...r,cancelRefetch:(c=r==null?void 0:r.cancelRefetch)!=null?c:!0,meta:{refetchPage:i.refetchPage}})}));let u=Promise.all(o).then(N);return r!=null&&r.throwOnError||(u=u.catch(N)),u}fetchQuery(n,t,s){const i=lt(n,t,s),r=this.defaultQueryOptions(i);typeof r.retry>"u"&&(r.retry=!1);const o=this.queryCache.build(this,r);return o.isStaleByTime(r.staleTime)?o.fetch(r):Promise.resolve(o.state.data)}prefetchQuery(n,t,s){return this.fetchQuery(n,t,s).then(N).catch(N)}fetchInfiniteQuery(n,t,s){const i=lt(n,t,s);return i.behavior=Nt(),this.fetchQuery(i)}prefetchInfiniteQuery(n,t,s){return this.fetchInfiniteQuery(n,t,s).then(N).catch(N)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(n){this.defaultOptions=n}setQueryDefaults(n,t){const s=this.queryDefaults.find(i=>we(n)===we(i.queryKey));s?s.defaultOptions=t:this.queryDefaults.push({queryKey:n,defaultOptions:t})}getQueryDefaults(n){if(!n)return;const t=this.queryDefaults.find(s=>mt(n,s.queryKey));return t==null?void 0:t.defaultOptions}setMutationDefaults(n,t){const s=this.mutationDefaults.find(i=>we(n)===we(i.mutationKey));s?s.defaultOptions=t:this.mutationDefaults.push({mutationKey:n,defaultOptions:t})}getMutationDefaults(n){if(!n)return;const t=this.mutationDefaults.find(s=>mt(n,s.mutationKey));return t==null?void 0:t.defaultOptions}defaultQueryOptions(n){if(n!=null&&n._defaulted)return n;const t={...this.defaultOptions.queries,...this.getQueryDefaults(n==null?void 0:n.queryKey),...n,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=un(t.queryKey,t)),typeof t.refetchOnReconnect>"u"&&(t.refetchOnReconnect=t.networkMode!=="always"),typeof t.useErrorBoundary>"u"&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...this.defaultOptions.mutations,...this.getMutationDefaults(n==null?void 0:n.mutationKey),...n,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class Ks extends Ne{constructor(n,t){super(),this.client=n,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),_n(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Wt(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Wt(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(n,t){const s=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(n),yt(s,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),this.updateQuery();const r=this.hasListeners();r&&In(this.currentQuery,i,this.options,s)&&this.executeFetch(),this.updateResult(t),r&&(this.currentQuery!==i||this.options.enabled!==s.enabled||this.options.staleTime!==s.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();r&&(this.currentQuery!==i||this.options.enabled!==s.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(n){const t=this.client.getQueryCache().build(this.client,n),s=this.createResult(t,n);return Ns(this,s,n)&&(this.currentResult=s,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),s}getCurrentResult(){return this.currentResult}trackResult(n){const t={};return Object.keys(n).forEach(s=>{Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(s),n[s])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:n,...t}={}){return this.fetch({...t,meta:{refetchPage:n}})}fetchOptimistic(n){const t=this.client.defaultQueryOptions(n),s=this.client.getQueryCache().build(this.client,t);return s.isFetchingOptimistic=!0,s.fetch().then(()=>this.createResult(s,t))}fetch(n){var t;return this.executeFetch({...n,cancelRefetch:(t=n.cancelRefetch)!=null?t:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(n){this.updateQuery();let t=this.currentQuery.fetch(this.options,n);return n!=null&&n.throwOnError||(t=t.catch(N)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),et||this.currentResult.isStale||!kt(this.options.staleTime))return;const t=Yn(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var n;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(n=this.options.refetchInterval)!=null?n:!1}updateRefetchInterval(n){this.clearRefetchInterval(),this.currentRefetchInterval=n,!(et||this.options.enabled===!1||!kt(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||St.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(n,t){const s=this.currentQuery,i=this.options,r=this.currentResult,o=this.currentResultState,u=this.currentResultOptions,l=n!==s,c=l?n.state:this.currentQueryInitialState,h=l?this.currentResult:this.previousQueryResult,{state:p}=n;let{dataUpdatedAt:f,error:d,errorUpdatedAt:g,fetchStatus:v,status:m}=p,y=!1,R=!1,S;if(t._optimisticResults){const b=this.hasListeners(),E=!b&&_n(n,t),A=b&&In(n,s,t,i);(E||A)&&(v=Rt(n.options.networkMode)?"fetching":"paused",f||(m="loading")),t._optimisticResults==="isRestoring"&&(v="idle")}if(t.keepPreviousData&&!p.dataUpdatedAt&&h!=null&&h.isSuccess&&m!=="error")S=h.data,f=h.dataUpdatedAt,m=h.status,y=!0;else if(t.select&&typeof p.data<"u")if(r&&p.data===(o==null?void 0:o.data)&&t.select===this.selectFn)S=this.selectResult;else try{this.selectFn=t.select,S=t.select(p.data),S=Bt(r==null?void 0:r.data,S,t),this.selectResult=S,this.selectError=null}catch(b){this.selectError=b}else S=p.data;if(typeof t.placeholderData<"u"&&typeof S>"u"&&m==="loading"){let b;if(r!=null&&r.isPlaceholderData&&t.placeholderData===(u==null?void 0:u.placeholderData))b=r.data;else if(b=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof b<"u")try{b=t.select(b),this.selectError=null}catch(E){this.selectError=E}typeof b<"u"&&(m="success",S=Bt(r==null?void 0:r.data,b,t),R=!0)}this.selectError&&(d=this.selectError,S=this.selectResult,g=Date.now(),m="error");const P=v==="fetching",I=m==="loading",F=m==="error";return{status:m,fetchStatus:v,isLoading:I,isSuccess:m==="success",isError:F,isInitialLoading:I&&P,data:S,dataUpdatedAt:f,error:d,errorUpdatedAt:g,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>c.dataUpdateCount||p.errorUpdateCount>c.errorUpdateCount,isFetching:P,isRefetching:P&&!I,isLoadingError:F&&p.dataUpdatedAt===0,isPaused:v==="paused",isPlaceholderData:R,isPreviousData:y,isRefetchError:F&&p.dataUpdatedAt!==0,isStale:ln(n,t),refetch:this.refetch,remove:this.remove}}updateResult(n){const t=this.currentResult,s=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,yt(s,t))return;this.currentResult=s;const i={cache:!0},r=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,u=typeof o=="function"?o():o;if(u==="all"||!u&&!this.trackedProps.size)return!0;const l=new Set(u??this.trackedProps);return this.options.useErrorBoundary&&l.add("error"),Object.keys(this.currentResult).some(c=>{const h=c;return this.currentResult[h]!==t[h]&&l.has(h)})};(n==null?void 0:n.listeners)!==!1&&r()&&(i.listeners=!0),this.notify({...i,...n})}updateQuery(){const n=this.client.getQueryCache().build(this.client,this.options);if(n===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=n,this.currentQueryInitialState=n.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),n.addObserver(this))}onQueryUpdate(n){const t={};n.type==="success"?t.onSuccess=!n.manual:n.type==="error"&&!gt(n.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(n){Q.batch(()=>{if(n.onSuccess){var t,s,i,r;(t=(s=this.options).onSuccess)==null||t.call(s,this.currentResult.data),(i=(r=this.options).onSettled)==null||i.call(r,this.currentResult.data,null)}else if(n.onError){var o,u,l,c;(o=(u=this.options).onError)==null||o.call(u,this.currentResult.error),(l=(c=this.options).onSettled)==null||l.call(c,void 0,this.currentResult.error)}n.listeners&&this.listeners.forEach(({listener:h})=>{h(this.currentResult)}),n.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Bs(e,n){return n.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&n.retryOnMount===!1)}function _n(e,n){return Bs(e,n)||e.state.dataUpdatedAt>0&&Wt(e,n,n.refetchOnMount)}function Wt(e,n,t){if(n.enabled!==!1){const s=typeof t=="function"?t(e):t;return s==="always"||s!==!1&&ln(e,n)}return!1}function In(e,n,t,s){return t.enabled!==!1&&(e!==n||s.enabled===!1)&&(!t.suspense||e.state.status!=="error")&&ln(e,t)}function ln(e,n){return e.isStaleByTime(n.staleTime)}function Ns(e,n,t){return t.keepPreviousData?!1:t.placeholderData!==void 0?n.isPlaceholderData:!yt(e.getCurrentResult(),n)}class er extends Ks{constructor(n,t){super(n,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(n,t){super.setOptions({...n,behavior:Nt()},t)}getOptimisticResult(n){return n.behavior=Nt(),super.getOptimisticResult(n)}fetchNextPage({pageParam:n,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"forward",pageParam:n}}})}fetchPreviousPage({pageParam:n,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"backward",pageParam:n}}})}createResult(n,t){var s,i,r,o,u,l;const{state:c}=n,h=super.createResult(n,t),{isFetching:p,isRefetching:f}=h,d=p&&((s=c.fetchMeta)==null||(i=s.fetchMore)==null?void 0:i.direction)==="forward",g=p&&((r=c.fetchMeta)==null||(o=r.fetchMore)==null?void 0:o.direction)==="backward";return{...h,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:js(t,(u=c.data)==null?void 0:u.pages),hasPreviousPage:ks(t,(l=c.data)==null?void 0:l.pages),isFetchingNextPage:d,isFetchingPreviousPage:g,isRefetching:f&&!d&&!g}}}class tr extends Ne{constructor(n,t){super(),this.client=n,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var t;const s=this.options;this.options=this.client.defaultMutationOptions(n),yt(s,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(t=this.currentMutation)==null||t.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var n;(n=this.currentMutation)==null||n.removeObserver(this)}}onMutationUpdate(n){this.updateResult();const t={listeners:!0};n.type==="success"?t.onSuccess=!0:n.type==="error"&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(n,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof n<"u"?n:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const n=this.currentMutation?this.currentMutation.state:rs(),t={...n,isLoading:n.status==="loading",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(n){Q.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(n.onSuccess){var t,s,i,r;(t=(s=this.mutateOptions).onSuccess)==null||t.call(s,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(r=this.mutateOptions).onSettled)==null||i.call(r,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(n.onError){var o,u,l,c;(o=(u=this.mutateOptions).onError)==null||o.call(u,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(l=(c=this.mutateOptions).onSettled)==null||l.call(c,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}n.listeners&&this.listeners.forEach(({listener:h})=>{h(this.currentResult)})})}}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Ce(e,n){return typeof e=="function"?e(n):e}function k(e,n){return t=>{n.setState(s=>({...s,[e]:Ce(t,s[e])}))}}function wt(e){return e instanceof Function}function Xs(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function Ws(e,n){const t=[],s=i=>{i.forEach(r=>{t.push(r);const o=n(r);o!=null&&o.length&&s(o)})};return s(e),t}function M(e,n,t){let s=[],i;return r=>{let o;t.key&&t.debug&&(o=Date.now());const u=e(r);if(!(u.length!==s.length||u.some((h,p)=>s[p]!==h)))return i;s=u;let c;if(t.key&&t.debug&&(c=Date.now()),i=n(...u),t==null||t.onChange==null||t.onChange(i),t.key&&t.debug&&t!=null&&t.debug()){const h=Math.round((Date.now()-o)*100)/100,p=Math.round((Date.now()-c)*100)/100,f=p/16,d=(g,v)=>{for(g=String(g);g.length<v;)g=" "+g;return g};console.info(`%c⏱ ${d(p,5)} /${d(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,t==null?void 0:t.key)}return i}}function O(e,n,t,s){return{debug:()=>{var i;return(i=e==null?void 0:e.debugAll)!=null?i:e[n]},key:!1,onChange:s}}function Js(e,n,t,s){const i=()=>{var o;return(o=r.getValue())!=null?o:e.options.renderFallbackValue},r={id:`${n.id}_${t.id}`,row:n,column:t,getValue:()=>n.getValue(s),renderValue:i,getContext:M(()=>[e,t,n,r],(o,u,l,c)=>({table:o,column:u,row:l,cell:c,getValue:c.getValue,renderValue:c.renderValue}),O(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(r,t,n,e)},{}),r}function Ys(e,n,t,s){var i,r;const u={...e._getDefaultColumnDef(),...n},l=u.accessorKey;let c=(i=(r=u.id)!=null?r:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?i:typeof u.header=="string"?u.header:void 0,h;if(u.accessorFn?h=u.accessorFn:l&&(l.includes(".")?h=f=>{let d=f;for(const v of l.split(".")){var g;d=(g=d)==null?void 0:g[v]}return d}:h=f=>f[u.accessorKey]),!c)throw new Error;let p={id:`${String(c)}`,accessorFn:h,parent:s,depth:t,columnDef:u,columns:[],getFlatColumns:M(()=>[!0],()=>{var f;return[p,...(f=p.columns)==null?void 0:f.flatMap(d=>d.getFlatColumns())]},O(e.options,"debugColumns")),getLeafColumns:M(()=>[e._getOrderColumnsFn()],f=>{var d;if((d=p.columns)!=null&&d.length){let g=p.columns.flatMap(v=>v.getLeafColumns());return f(g)}return[p]},O(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(p,e);return p}const H="debugHeaders";function xn(e,n,t){var s;let r={id:(s=t.id)!=null?s:n.id,column:n,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],u=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(u),o.push(l)};return u(r),o},getContext:()=>({table:e,header:r,column:n})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(r,e)}),r}const Zs={createTable:e=>{e.getHeaderGroups=M(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,s,i)=>{var r,o;const u=(r=s==null?void 0:s.map(p=>t.find(f=>f.id===p)).filter(Boolean))!=null?r:[],l=(o=i==null?void 0:i.map(p=>t.find(f=>f.id===p)).filter(Boolean))!=null?o:[],c=t.filter(p=>!(s!=null&&s.includes(p.id))&&!(i!=null&&i.includes(p.id)));return ct(n,[...u,...c,...l],e)},O(e.options,H)),e.getCenterHeaderGroups=M(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,s,i)=>(t=t.filter(r=>!(s!=null&&s.includes(r.id))&&!(i!=null&&i.includes(r.id))),ct(n,t,e,"center")),O(e.options,H)),e.getLeftHeaderGroups=M(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,t,s)=>{var i;const r=(i=s==null?void 0:s.map(o=>t.find(u=>u.id===o)).filter(Boolean))!=null?i:[];return ct(n,r,e,"left")},O(e.options,H)),e.getRightHeaderGroups=M(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,t,s)=>{var i;const r=(i=s==null?void 0:s.map(o=>t.find(u=>u.id===o)).filter(Boolean))!=null?i:[];return ct(n,r,e,"right")},O(e.options,H)),e.getFooterGroups=M(()=>[e.getHeaderGroups()],n=>[...n].reverse(),O(e.options,H)),e.getLeftFooterGroups=M(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),O(e.options,H)),e.getCenterFooterGroups=M(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),O(e.options,H)),e.getRightFooterGroups=M(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),O(e.options,H)),e.getFlatHeaders=M(()=>[e.getHeaderGroups()],n=>n.map(t=>t.headers).flat(),O(e.options,H)),e.getLeftFlatHeaders=M(()=>[e.getLeftHeaderGroups()],n=>n.map(t=>t.headers).flat(),O(e.options,H)),e.getCenterFlatHeaders=M(()=>[e.getCenterHeaderGroups()],n=>n.map(t=>t.headers).flat(),O(e.options,H)),e.getRightFlatHeaders=M(()=>[e.getRightHeaderGroups()],n=>n.map(t=>t.headers).flat(),O(e.options,H)),e.getCenterLeafHeaders=M(()=>[e.getCenterFlatHeaders()],n=>n.filter(t=>{var s;return!((s=t.subHeaders)!=null&&s.length)}),O(e.options,H)),e.getLeftLeafHeaders=M(()=>[e.getLeftFlatHeaders()],n=>n.filter(t=>{var s;return!((s=t.subHeaders)!=null&&s.length)}),O(e.options,H)),e.getRightLeafHeaders=M(()=>[e.getRightFlatHeaders()],n=>n.filter(t=>{var s;return!((s=t.subHeaders)!=null&&s.length)}),O(e.options,H)),e.getLeafHeaders=M(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,t,s)=>{var i,r,o,u,l,c;return[...(i=(r=n[0])==null?void 0:r.headers)!=null?i:[],...(o=(u=t[0])==null?void 0:u.headers)!=null?o:[],...(l=(c=s[0])==null?void 0:c.headers)!=null?l:[]].map(h=>h.getLeafHeaders()).flat()},O(e.options,H))}};function ct(e,n,t,s){var i,r;let o=0;const u=function(f,d){d===void 0&&(d=1),o=Math.max(o,d),f.filter(g=>g.getIsVisible()).forEach(g=>{var v;(v=g.columns)!=null&&v.length&&u(g.columns,d+1)},0)};u(e);let l=[];const c=(f,d)=>{const g={depth:d,id:[s,`${d}`].filter(Boolean).join("_"),headers:[]},v=[];f.forEach(m=>{const y=[...v].reverse()[0],R=m.column.depth===g.depth;let S,P=!1;if(R&&m.column.parent?S=m.column.parent:(S=m.column,P=!0),y&&(y==null?void 0:y.column)===S)y.subHeaders.push(m);else{const I=xn(t,S,{id:[s,d,S.id,m==null?void 0:m.id].filter(Boolean).join("_"),isPlaceholder:P,placeholderId:P?`${v.filter(F=>F.column===S).length}`:void 0,depth:d,index:v.length});I.subHeaders.push(m),v.push(I)}g.headers.push(m),m.headerGroup=g}),l.push(g),d>0&&c(v,d-1)},h=n.map((f,d)=>xn(t,f,{depth:o,index:d}));c(h,o-1),l.reverse();const p=f=>f.filter(g=>g.column.getIsVisible()).map(g=>{let v=0,m=0,y=[0];g.subHeaders&&g.subHeaders.length?(y=[],p(g.subHeaders).forEach(S=>{let{colSpan:P,rowSpan:I}=S;v+=P,y.push(I)})):v=1;const R=Math.min(...y);return m=m+R,g.colSpan=v,g.rowSpan=m,{colSpan:v,rowSpan:m}});return p((i=(r=l[0])==null?void 0:r.headers)!=null?i:[]),l}const ei=(e,n,t,s,i,r,o)=>{let u={id:n,index:s,original:t,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(u._valuesCache.hasOwnProperty(l))return u._valuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return u._valuesCache[l]=c.accessorFn(u.original,s),u._valuesCache[l]},getUniqueValues:l=>{if(u._uniqueValuesCache.hasOwnProperty(l))return u._uniqueValuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(u._uniqueValuesCache[l]=c.columnDef.getUniqueValues(u.original,s),u._uniqueValuesCache[l]):(u._uniqueValuesCache[l]=[u.getValue(l)],u._uniqueValuesCache[l])},renderValue:l=>{var c;return(c=u.getValue(l))!=null?c:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Ws(u.subRows,l=>l.subRows),getParentRow:()=>u.parentId?e.getRow(u.parentId,!0):void 0,getParentRows:()=>{let l=[],c=u;for(;;){const h=c.getParentRow();if(!h)break;l.push(h),c=h}return l.reverse()},getAllCells:M(()=>[e.getAllLeafColumns()],l=>l.map(c=>Js(e,u,c,c.id)),O(e.options,"debugRows")),_getAllCellsByColumnId:M(()=>[u.getAllCells()],l=>l.reduce((c,h)=>(c[h.column.id]=h,c),{}),O(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const c=e._features[l];c==null||c.createRow==null||c.createRow(u,e)}return u},ti={createColumn:(e,n)=>{e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},us=(e,n,t)=>{var s,i;const r=t==null||(s=t.toString())==null?void 0:s.toLowerCase();return!!(!((i=e.getValue(n))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(r))};us.autoRemove=e=>Y(e);const as=(e,n,t)=>{var s;return!!(!((s=e.getValue(n))==null||(s=s.toString())==null)&&s.includes(t))};as.autoRemove=e=>Y(e);const ls=(e,n,t)=>{var s;return((s=e.getValue(n))==null||(s=s.toString())==null?void 0:s.toLowerCase())===(t==null?void 0:t.toLowerCase())};ls.autoRemove=e=>Y(e);const cs=(e,n,t)=>{var s;return(s=e.getValue(n))==null?void 0:s.includes(t)};cs.autoRemove=e=>Y(e);const ds=(e,n,t)=>!t.some(s=>{var i;return!((i=e.getValue(n))!=null&&i.includes(s))});ds.autoRemove=e=>Y(e)||!(e!=null&&e.length);const hs=(e,n,t)=>t.some(s=>{var i;return(i=e.getValue(n))==null?void 0:i.includes(s)});hs.autoRemove=e=>Y(e)||!(e!=null&&e.length);const fs=(e,n,t)=>e.getValue(n)===t;fs.autoRemove=e=>Y(e);const gs=(e,n,t)=>e.getValue(n)==t;gs.autoRemove=e=>Y(e);const cn=(e,n,t)=>{let[s,i]=t;const r=e.getValue(n);return r>=s&&r<=i};cn.resolveFilterValue=e=>{let[n,t]=e,s=typeof n!="number"?parseFloat(n):n,i=typeof t!="number"?parseFloat(t):t,r=n===null||Number.isNaN(s)?-1/0:s,o=t===null||Number.isNaN(i)?1/0:i;if(r>o){const u=r;r=o,o=u}return[r,o]};cn.autoRemove=e=>Y(e)||Y(e[0])&&Y(e[1]);const se={includesString:us,includesStringSensitive:as,equalsString:ls,arrIncludes:cs,arrIncludesAll:ds,arrIncludesSome:hs,equals:fs,weakEquals:gs,inNumberRange:cn};function Y(e){return e==null||e===""}const ni={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:k("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const t=n.getCoreRowModel().flatRows[0],s=t==null?void 0:t.getValue(e.id);return typeof s=="string"?se.includesString:typeof s=="number"?se.inNumberRange:typeof s=="boolean"||s!==null&&typeof s=="object"?se.equals:Array.isArray(s)?se.arrIncludes:se.weakEquals},e.getFilterFn=()=>{var t,s;return wt(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(t=(s=n.options.filterFns)==null?void 0:s[e.columnDef.filterFn])!=null?t:se[e.columnDef.filterFn]},e.getCanFilter=()=>{var t,s,i;return((t=e.columnDef.enableColumnFilter)!=null?t:!0)&&((s=n.options.enableColumnFilters)!=null?s:!0)&&((i=n.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t;return(t=n.getState().columnFilters)==null||(t=t.find(s=>s.id===e.id))==null?void 0:t.value},e.getFilterIndex=()=>{var t,s;return(t=(s=n.getState().columnFilters)==null?void 0:s.findIndex(i=>i.id===e.id))!=null?t:-1},e.setFilterValue=t=>{n.setColumnFilters(s=>{const i=e.getFilterFn(),r=s==null?void 0:s.find(h=>h.id===e.id),o=Ce(t,r?r.value:void 0);if(Dn(i,o,e)){var u;return(u=s==null?void 0:s.filter(h=>h.id!==e.id))!=null?u:[]}const l={id:e.id,value:o};if(r){var c;return(c=s==null?void 0:s.map(h=>h.id===e.id?l:h))!=null?c:[]}return s!=null&&s.length?[...s,l]:[l]})}},createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=n=>{const t=e.getAllLeafColumns(),s=i=>{var r;return(r=Ce(n,i))==null?void 0:r.filter(o=>{const u=t.find(l=>l.id===o.id);if(u){const l=u.getFilterFn();if(Dn(l,o.value,u))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(s)},e.resetColumnFilters=n=>{var t,s;e.setColumnFilters(n?[]:(t=(s=e.initialState)==null?void 0:s.columnFilters)!=null?t:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Dn(e,n,t){return(e&&e.autoRemove?e.autoRemove(n,t):!1)||typeof n>"u"||typeof n=="string"&&!n}const si=(e,n,t)=>t.reduce((s,i)=>{const r=i.getValue(e);return s+(typeof r=="number"?r:0)},0),ii=(e,n,t)=>{let s;return t.forEach(i=>{const r=i.getValue(e);r!=null&&(s>r||s===void 0&&r>=r)&&(s=r)}),s},ri=(e,n,t)=>{let s;return t.forEach(i=>{const r=i.getValue(e);r!=null&&(s<r||s===void 0&&r>=r)&&(s=r)}),s},oi=(e,n,t)=>{let s,i;return t.forEach(r=>{const o=r.getValue(e);o!=null&&(s===void 0?o>=o&&(s=i=o):(s>o&&(s=o),i<o&&(i=o)))}),[s,i]},ui=(e,n)=>{let t=0,s=0;if(n.forEach(i=>{let r=i.getValue(e);r!=null&&(r=+r)>=r&&(++t,s+=r)}),t)return s/t},ai=(e,n)=>{if(!n.length)return;const t=n.map(r=>r.getValue(e));if(!Xs(t))return;if(t.length===1)return t[0];const s=Math.floor(t.length/2),i=t.sort((r,o)=>r-o);return t.length%2!==0?i[s]:(i[s-1]+i[s])/2},li=(e,n)=>Array.from(new Set(n.map(t=>t.getValue(e))).values()),ci=(e,n)=>new Set(n.map(t=>t.getValue(e))).size,di=(e,n)=>n.length,Mt={sum:si,min:ii,max:ri,extent:oi,mean:ui,median:ai,unique:li,uniqueCount:ci,count:di},hi={getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,t;return(n=(t=e.getValue())==null||t.toString==null?void 0:t.toString())!=null?n:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:k("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(s=>s!==e.id):[...t??[],e.id])},e.getCanGroup=()=>{var t,s;return((t=e.columnDef.enableGrouping)!=null?t:!0)&&((s=n.options.enableGrouping)!=null?s:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=n.getCoreRowModel().flatRows[0],s=t==null?void 0:t.getValue(e.id);if(typeof s=="number")return Mt.sum;if(Object.prototype.toString.call(s)==="[object Date]")return Mt.extent},e.getAggregationFn=()=>{var t,s;if(!e)throw new Error;return wt(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(t=(s=n.options.aggregationFns)==null?void 0:s[e.columnDef.aggregationFn])!=null?t:Mt[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=n=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(n),e.resetGrouping=n=>{var t,s;e.setGrouping(n?[]:(t=(s=e.initialState)==null?void 0:s.grouping)!=null?t:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const s=n.getColumn(t);return s!=null&&s.columnDef.getGroupingValue?(e._groupingValuesCache[t]=s.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},createCell:(e,n,t,s)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=t.subRows)!=null&&i.length)}}};function fi(e,n,t){if(!(n!=null&&n.length)||!t)return e;const s=e.filter(r=>!n.includes(r.id));return t==="remove"?s:[...n.map(r=>e.find(o=>o.id===r)).filter(Boolean),...s]}const gi={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:k("columnOrder",e)}),createColumn:(e,n)=>{e.getIndex=M(t=>[Ye(n,t)],t=>t.findIndex(s=>s.id===e.id),O(n.options,"debugColumns")),e.getIsFirstColumn=t=>{var s;return((s=Ye(n,t)[0])==null?void 0:s.id)===e.id},e.getIsLastColumn=t=>{var s;const i=Ye(n,t);return((s=i[i.length-1])==null?void 0:s.id)===e.id}},createTable:e=>{e.setColumnOrder=n=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(n),e.resetColumnOrder=n=>{var t;e.setColumnOrder(n?[]:(t=e.initialState.columnOrder)!=null?t:[])},e._getOrderColumnsFn=M(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,t,s)=>i=>{let r=[];if(!(n!=null&&n.length))r=i;else{const o=[...n],u=[...i];for(;u.length&&o.length;){const l=o.shift(),c=u.findIndex(h=>h.id===l);c>-1&&r.push(u.splice(c,1)[0])}r=[...r,...u]}return fi(r,t,s)},O(e.options,"debugTable"))}},Ot=()=>({left:[],right:[]}),pi={getInitialState:e=>({columnPinning:Ot(),...e}),getDefaultOptions:e=>({onColumnPinningChange:k("columnPinning",e)}),createColumn:(e,n)=>{e.pin=t=>{const s=e.getLeafColumns().map(i=>i.id).filter(Boolean);n.setColumnPinning(i=>{var r,o;if(t==="right"){var u,l;return{left:((u=i==null?void 0:i.left)!=null?u:[]).filter(p=>!(s!=null&&s.includes(p))),right:[...((l=i==null?void 0:i.right)!=null?l:[]).filter(p=>!(s!=null&&s.includes(p))),...s]}}if(t==="left"){var c,h;return{left:[...((c=i==null?void 0:i.left)!=null?c:[]).filter(p=>!(s!=null&&s.includes(p))),...s],right:((h=i==null?void 0:i.right)!=null?h:[]).filter(p=>!(s!=null&&s.includes(p)))}}return{left:((r=i==null?void 0:i.left)!=null?r:[]).filter(p=>!(s!=null&&s.includes(p))),right:((o=i==null?void 0:i.right)!=null?o:[]).filter(p=>!(s!=null&&s.includes(p)))}})},e.getCanPin=()=>e.getLeafColumns().some(s=>{var i,r,o;return((i=s.columnDef.enablePinning)!=null?i:!0)&&((r=(o=n.options.enableColumnPinning)!=null?o:n.options.enablePinning)!=null?r:!0)}),e.getIsPinned=()=>{const t=e.getLeafColumns().map(u=>u.id),{left:s,right:i}=n.getState().columnPinning,r=t.some(u=>s==null?void 0:s.includes(u)),o=t.some(u=>i==null?void 0:i.includes(u));return r?"left":o?"right":!1},e.getPinnedIndex=()=>{var t,s;const i=e.getIsPinned();return i?(t=(s=n.getState().columnPinning)==null||(s=s[i])==null?void 0:s.indexOf(e.id))!=null?t:-1:0}},createRow:(e,n)=>{e.getCenterVisibleCells=M(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(t,s,i)=>{const r=[...s??[],...i??[]];return t.filter(o=>!r.includes(o.column.id))},O(n.options,"debugRows")),e.getLeftVisibleCells=M(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left],(t,s)=>(s??[]).map(r=>t.find(o=>o.column.id===r)).filter(Boolean).map(r=>({...r,position:"left"})),O(n.options,"debugRows")),e.getRightVisibleCells=M(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(t,s)=>(s??[]).map(r=>t.find(o=>o.column.id===r)).filter(Boolean).map(r=>({...r,position:"right"})),O(n.options,"debugRows"))},createTable:e=>{e.setColumnPinning=n=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(n),e.resetColumnPinning=n=>{var t,s;return e.setColumnPinning(n?Ot():(t=(s=e.initialState)==null?void 0:s.columnPinning)!=null?t:Ot())},e.getIsSomeColumnsPinned=n=>{var t;const s=e.getState().columnPinning;if(!n){var i,r;return!!((i=s.left)!=null&&i.length||(r=s.right)!=null&&r.length)}return!!((t=s[n])!=null&&t.length)},e.getLeftLeafColumns=M(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,t)=>(t??[]).map(s=>n.find(i=>i.id===s)).filter(Boolean),O(e.options,"debugColumns")),e.getRightLeafColumns=M(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,t)=>(t??[]).map(s=>n.find(i=>i.id===s)).filter(Boolean),O(e.options,"debugColumns")),e.getCenterLeafColumns=M(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,s)=>{const i=[...t??[],...s??[]];return n.filter(r=>!i.includes(r.id))},O(e.options,"debugColumns"))}};function vi(e){return e||(typeof document<"u"?document:null)}const dt={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},bt=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),mi={getDefaultColumnDef:()=>dt,getInitialState:e=>({columnSizing:{},columnSizingInfo:bt(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:k("columnSizing",e),onColumnSizingInfoChange:k("columnSizingInfo",e)}),createColumn:(e,n)=>{e.getSize=()=>{var t,s,i;const r=n.getState().columnSizing[e.id];return Math.min(Math.max((t=e.columnDef.minSize)!=null?t:dt.minSize,(s=r??e.columnDef.size)!=null?s:dt.size),(i=e.columnDef.maxSize)!=null?i:dt.maxSize)},e.getStart=M(t=>[t,Ye(n,t),n.getState().columnSizing],(t,s)=>s.slice(0,e.getIndex(t)).reduce((i,r)=>i+r.getSize(),0),O(n.options,"debugColumns")),e.getAfter=M(t=>[t,Ye(n,t),n.getState().columnSizing],(t,s)=>s.slice(e.getIndex(t)+1).reduce((i,r)=>i+r.getSize(),0),O(n.options,"debugColumns")),e.resetSize=()=>{n.setColumnSizing(t=>{let{[e.id]:s,...i}=t;return i})},e.getCanResize=()=>{var t,s;return((t=e.columnDef.enableResizing)!=null?t:!0)&&((s=n.options.enableColumnResizing)!=null?s:!0)},e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,n)=>{e.getSize=()=>{let t=0;const s=i=>{if(i.subHeaders.length)i.subHeaders.forEach(s);else{var r;t+=(r=i.column.getSize())!=null?r:0}};return s(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=t=>{const s=n.getColumn(e.column.id),i=s==null?void 0:s.getCanResize();return r=>{if(!s||!i||(r.persist==null||r.persist(),_t(r)&&r.touches&&r.touches.length>1))return;const o=e.getSize(),u=e?e.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[s.id,s.getSize()]],l=_t(r)?Math.round(r.touches[0].clientX):r.clientX,c={},h=(y,R)=>{typeof R=="number"&&(n.setColumnSizingInfo(S=>{var P,I;const F=n.options.columnResizeDirection==="rtl"?-1:1,_=(R-((P=S==null?void 0:S.startOffset)!=null?P:0))*F,b=Math.max(_/((I=S==null?void 0:S.startSize)!=null?I:0),-.999999);return S.columnSizingStart.forEach(E=>{let[A,V]=E;c[A]=Math.round(Math.max(V+V*b,0)*100)/100}),{...S,deltaOffset:_,deltaPercentage:b}}),(n.options.columnResizeMode==="onChange"||y==="end")&&n.setColumnSizing(S=>({...S,...c})))},p=y=>h("move",y),f=y=>{h("end",y),n.setColumnSizingInfo(R=>({...R,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},d=vi(t),g={moveHandler:y=>p(y.clientX),upHandler:y=>{d==null||d.removeEventListener("mousemove",g.moveHandler),d==null||d.removeEventListener("mouseup",g.upHandler),f(y.clientX)}},v={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),p(y.touches[0].clientX),!1),upHandler:y=>{var R;d==null||d.removeEventListener("touchmove",v.moveHandler),d==null||d.removeEventListener("touchend",v.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),f((R=y.touches[0])==null?void 0:R.clientX)}},m=yi()?{passive:!1}:!1;_t(r)?(d==null||d.addEventListener("touchmove",v.moveHandler,m),d==null||d.addEventListener("touchend",v.upHandler,m)):(d==null||d.addEventListener("mousemove",g.moveHandler,m),d==null||d.addEventListener("mouseup",g.upHandler,m)),n.setColumnSizingInfo(y=>({...y,startOffset:l,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:u,isResizingColumn:s.id}))}}},createTable:e=>{e.setColumnSizing=n=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(n),e.setColumnSizingInfo=n=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(n),e.resetColumnSizing=n=>{var t;e.setColumnSizing(n?{}:(t=e.initialState.columnSizing)!=null?t:{})},e.resetHeaderSizeInfo=n=>{var t;e.setColumnSizingInfo(n?bt():(t=e.initialState.columnSizingInfo)!=null?t:bt())},e.getTotalSize=()=>{var n,t;return(n=(t=e.getHeaderGroups()[0])==null?void 0:t.headers.reduce((s,i)=>s+i.getSize(),0))!=null?n:0},e.getLeftTotalSize=()=>{var n,t;return(n=(t=e.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((s,i)=>s+i.getSize(),0))!=null?n:0},e.getCenterTotalSize=()=>{var n,t;return(n=(t=e.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((s,i)=>s+i.getSize(),0))!=null?n:0},e.getRightTotalSize=()=>{var n,t;return(n=(t=e.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((s,i)=>s+i.getSize(),0))!=null?n:0}}};let ht=null;function yi(){if(typeof ht=="boolean")return ht;let e=!1;try{const n={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,n),window.removeEventListener("test",t)}catch{e=!1}return ht=e,ht}function _t(e){return e.type==="touchstart"}const Si={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:k("columnVisibility",e)}),createColumn:(e,n)=>{e.toggleVisibility=t=>{e.getCanHide()&&n.setColumnVisibility(s=>({...s,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t,s;const i=e.columns;return(t=i.length?i.some(r=>r.getIsVisible()):(s=n.getState().columnVisibility)==null?void 0:s[e.id])!=null?t:!0},e.getCanHide=()=>{var t,s;return((t=e.columnDef.enableHiding)!=null?t:!0)&&((s=n.options.enableHiding)!=null?s:!0)},e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,n)=>{e._getAllVisibleCells=M(()=>[e.getAllCells(),n.getState().columnVisibility],t=>t.filter(s=>s.column.getIsVisible()),O(n.options,"debugRows")),e.getVisibleCells=M(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,s,i)=>[...t,...s,...i],O(n.options,"debugRows"))},createTable:e=>{const n=(t,s)=>M(()=>[s(),s().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(r=>r.getIsVisible==null?void 0:r.getIsVisible()),O(e.options,"debugColumns"));e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var s;e.setColumnVisibility(t?{}:(s=e.initialState.columnVisibility)!=null?s:{})},e.toggleAllColumnsVisible=t=>{var s;t=(s=t)!=null?s:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,r)=>({...i,[r.id]:t||!(r.getCanHide!=null&&r.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var s;e.toggleAllColumnsVisible((s=t.target)==null?void 0:s.checked)}}};function Ye(e,n){return n?n==="center"?e.getCenterVisibleLeafColumns():n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Ci={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Ri={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:k("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var t;const s=(t=e.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[n.id])==null?void 0:t.getValue();return typeof s=="string"||typeof s=="number"}}),createColumn:(e,n)=>{e.getCanGlobalFilter=()=>{var t,s,i,r;return((t=e.columnDef.enableGlobalFilter)!=null?t:!0)&&((s=n.options.enableGlobalFilter)!=null?s:!0)&&((i=n.options.enableFilters)!=null?i:!0)&&((r=n.options.getColumnCanGlobalFilter==null?void 0:n.options.getColumnCanGlobalFilter(e))!=null?r:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>se.includesString,e.getGlobalFilterFn=()=>{var n,t;const{globalFilterFn:s}=e.options;return wt(s)?s:s==="auto"?e.getGlobalAutoFilterFn():(n=(t=e.options.filterFns)==null?void 0:t[s])!=null?n:se[s]},e.setGlobalFilter=n=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)}}},wi={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:k("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let n=!1,t=!1;e._autoResetExpanded=()=>{var s,i;if(!n){e._queue(()=>{n=!0});return}if((s=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?s:!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=s=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(s),e.toggleAllRowsExpanded=s=>{s??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=s=>{var i,r;e.setExpanded(s?{}:(i=(r=e.initialState)==null?void 0:r.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(s=>s.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>s=>{s.persist==null||s.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const s=e.getState().expanded;return s===!0||Object.values(s).some(Boolean)},e.getIsAllRowsExpanded=()=>{const s=e.getState().expanded;return typeof s=="boolean"?s===!0:!(!Object.keys(s).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let s=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(r=>{const o=r.split(".");s=Math.max(s,o.length)}),s},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,n)=>{e.toggleExpanded=t=>{n.setExpanded(s=>{var i;const r=s===!0?!0:!!(s!=null&&s[e.id]);let o={};if(s===!0?Object.keys(n.getRowModel().rowsById).forEach(u=>{o[u]=!0}):o=s,t=(i=t)!=null?i:!r,!r&&t)return{...o,[e.id]:!0};if(r&&!t){const{[e.id]:u,...l}=o;return l}return s})},e.getIsExpanded=()=>{var t;const s=n.getState().expanded;return!!((t=n.options.getIsRowExpanded==null?void 0:n.options.getIsRowExpanded(e))!=null?t:s===!0||s!=null&&s[e.id])},e.getCanExpand=()=>{var t,s,i;return(t=n.options.getRowCanExpand==null?void 0:n.options.getRowCanExpand(e))!=null?t:((s=n.options.enableExpanding)!=null?s:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let t=!0,s=e;for(;t&&s.parentId;)s=n.getRow(s.parentId,!0),t=s.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},Jt=0,Yt=10,It=()=>({pageIndex:Jt,pageSize:Yt}),Fi={getInitialState:e=>({...e,pagination:{...It(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:k("pagination",e)}),createTable:e=>{let n=!1,t=!1;e._autoResetPageIndex=()=>{var s,i;if(!n){e._queue(()=>{n=!0});return}if((s=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?s:!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=s=>{const i=r=>Ce(s,r);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=s=>{var i;e.setPagination(s?It():(i=e.initialState.pagination)!=null?i:It())},e.setPageIndex=s=>{e.setPagination(i=>{let r=Ce(s,i.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return r=Math.max(0,Math.min(r,o)),{...i,pageIndex:r}})},e.resetPageIndex=s=>{var i,r;e.setPageIndex(s?Jt:(i=(r=e.initialState)==null||(r=r.pagination)==null?void 0:r.pageIndex)!=null?i:Jt)},e.resetPageSize=s=>{var i,r;e.setPageSize(s?Yt:(i=(r=e.initialState)==null||(r=r.pagination)==null?void 0:r.pageSize)!=null?i:Yt)},e.setPageSize=s=>{e.setPagination(i=>{const r=Math.max(1,Ce(s,i.pageSize)),o=i.pageSize*i.pageIndex,u=Math.floor(o/r);return{...i,pageIndex:u,pageSize:r}})},e.setPageCount=s=>e.setPagination(i=>{var r;let o=Ce(s,(r=e.options.pageCount)!=null?r:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),e.getPageOptions=M(()=>[e.getPageCount()],s=>{let i=[];return s&&s>0&&(i=[...new Array(s)].fill(null).map((r,o)=>o)),i},O(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:s}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:s<i-1},e.previousPage=()=>e.setPageIndex(s=>s-1),e.nextPage=()=>e.setPageIndex(s=>s+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var s;return(s=e.options.pageCount)!=null?s:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var s;return(s=e.options.rowCount)!=null?s:e.getPrePaginationRowModel().rows.length}}},xt=()=>({top:[],bottom:[]}),Pi={getInitialState:e=>({rowPinning:xt(),...e}),getDefaultOptions:e=>({onRowPinningChange:k("rowPinning",e)}),createRow:(e,n)=>{e.pin=(t,s,i)=>{const r=s?e.getLeafRows().map(l=>{let{id:c}=l;return c}):[],o=i?e.getParentRows().map(l=>{let{id:c}=l;return c}):[],u=new Set([...o,e.id,...r]);n.setRowPinning(l=>{var c,h;if(t==="bottom"){var p,f;return{top:((p=l==null?void 0:l.top)!=null?p:[]).filter(v=>!(u!=null&&u.has(v))),bottom:[...((f=l==null?void 0:l.bottom)!=null?f:[]).filter(v=>!(u!=null&&u.has(v))),...Array.from(u)]}}if(t==="top"){var d,g;return{top:[...((d=l==null?void 0:l.top)!=null?d:[]).filter(v=>!(u!=null&&u.has(v))),...Array.from(u)],bottom:((g=l==null?void 0:l.bottom)!=null?g:[]).filter(v=>!(u!=null&&u.has(v)))}}return{top:((c=l==null?void 0:l.top)!=null?c:[]).filter(v=>!(u!=null&&u.has(v))),bottom:((h=l==null?void 0:l.bottom)!=null?h:[]).filter(v=>!(u!=null&&u.has(v)))}})},e.getCanPin=()=>{var t;const{enableRowPinning:s,enablePinning:i}=n.options;return typeof s=="function"?s(e):(t=s??i)!=null?t:!0},e.getIsPinned=()=>{const t=[e.id],{top:s,bottom:i}=n.getState().rowPinning,r=t.some(u=>s==null?void 0:s.includes(u)),o=t.some(u=>i==null?void 0:i.includes(u));return r?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var t,s;const i=e.getIsPinned();if(!i)return-1;const r=(t=i==="top"?n.getTopRows():n.getBottomRows())==null?void 0:t.map(o=>{let{id:u}=o;return u});return(s=r==null?void 0:r.indexOf(e.id))!=null?s:-1}},createTable:e=>{e.setRowPinning=n=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(n),e.resetRowPinning=n=>{var t,s;return e.setRowPinning(n?xt():(t=(s=e.initialState)==null?void 0:s.rowPinning)!=null?t:xt())},e.getIsSomeRowsPinned=n=>{var t;const s=e.getState().rowPinning;if(!n){var i,r;return!!((i=s.top)!=null&&i.length||(r=s.bottom)!=null&&r.length)}return!!((t=s[n])!=null&&t.length)},e._getPinnedRows=(n,t,s)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(t??[]).map(o=>{const u=e.getRow(o,!0);return u.getIsAllParentsExpanded()?u:null}):(t??[]).map(o=>n.find(u=>u.id===o))).filter(Boolean).map(o=>({...o,position:s}))},e.getTopRows=M(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(n,t)=>e._getPinnedRows(n,t,"top"),O(e.options,"debugRows")),e.getBottomRows=M(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(n,t)=>e._getPinnedRows(n,t,"bottom"),O(e.options,"debugRows")),e.getCenterRows=M(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,t,s)=>{const i=new Set([...t??[],...s??[]]);return n.filter(r=>!i.has(r.id))},O(e.options,"debugRows"))}},Mi={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:k("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=n=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(n),e.resetRowSelection=n=>{var t;return e.setRowSelection(n?{}:(t=e.initialState.rowSelection)!=null?t:{})},e.toggleAllRowsSelected=n=>{e.setRowSelection(t=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const s={...t},i=e.getPreGroupedRowModel().flatRows;return n?i.forEach(r=>{r.getCanSelect()&&(s[r.id]=!0)}):i.forEach(r=>{delete s[r.id]}),s})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(t=>{const s=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),i={...t};return e.getRowModel().rows.forEach(r=>{Zt(i,r.id,s,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=M(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,t)=>Object.keys(n).length?Dt(e,t):{rows:[],flatRows:[],rowsById:{}},O(e.options,"debugTable")),e.getFilteredSelectedRowModel=M(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,t)=>Object.keys(n).length?Dt(e,t):{rows:[],flatRows:[],rowsById:{}},O(e.options,"debugTable")),e.getGroupedSelectedRowModel=M(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,t)=>Object.keys(n).length?Dt(e,t):{rows:[],flatRows:[],rowsById:{}},O(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let s=!!(n.length&&Object.keys(t).length);return s&&n.some(i=>i.getCanSelect()&&!t[i.id])&&(s=!1),s},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:t}=e.getState();let s=!!n.length;return s&&n.some(i=>!t[i.id])&&(s=!1),s},e.getIsSomeRowsSelected=()=>{var n;const t=Object.keys((n=e.getState().rowSelection)!=null?n:{}).length;return t>0&&t<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},createRow:(e,n)=>{e.toggleSelected=(t,s)=>{const i=e.getIsSelected();n.setRowSelection(r=>{var o;if(t=typeof t<"u"?t:!i,e.getCanSelect()&&i===t)return r;const u={...r};return Zt(u,e.id,t,(o=s==null?void 0:s.selectChildren)!=null?o:!0,n),u})},e.getIsSelected=()=>{const{rowSelection:t}=n.getState();return dn(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=n.getState();return en(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=n.getState();return en(e,t)==="all"},e.getCanSelect=()=>{var t;return typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):(t=n.options.enableRowSelection)!=null?t:!0},e.getCanSelectSubRows=()=>{var t;return typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):(t=n.options.enableSubRowSelection)!=null?t:!0},e.getCanMultiSelect=()=>{var t;return typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):(t=n.options.enableMultiRowSelection)!=null?t:!0},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return s=>{var i;t&&e.toggleSelected((i=s.target)==null?void 0:i.checked)}}}},Zt=(e,n,t,s,i)=>{var r;const o=i.getRow(n,!0);t?(o.getCanMultiSelect()||Object.keys(e).forEach(u=>delete e[u]),o.getCanSelect()&&(e[n]=!0)):delete e[n],s&&(r=o.subRows)!=null&&r.length&&o.getCanSelectSubRows()&&o.subRows.forEach(u=>Zt(e,u.id,t,s,i))};function Dt(e,n){const t=e.getState().rowSelection,s=[],i={},r=function(o,u){return o.map(l=>{var c;const h=dn(l,t);if(h&&(s.push(l),i[l.id]=l),(c=l.subRows)!=null&&c.length&&(l={...l,subRows:r(l.subRows)}),h)return l}).filter(Boolean)};return{rows:r(n.rows),flatRows:s,rowsById:i}}function dn(e,n){var t;return(t=n[e.id])!=null?t:!1}function en(e,n,t){var s;if(!((s=e.subRows)!=null&&s.length))return!1;let i=!0,r=!1;return e.subRows.forEach(o=>{if(!(r&&!i)&&(o.getCanSelect()&&(dn(o,n)?r=!0:i=!1),o.subRows&&o.subRows.length)){const u=en(o,n);u==="all"?r=!0:(u==="some"&&(r=!0),i=!1)}}),i?"all":r?"some":!1}const tn=/([0-9]+)/gm,Oi=(e,n,t)=>ps(Re(e.getValue(t)).toLowerCase(),Re(n.getValue(t)).toLowerCase()),bi=(e,n,t)=>ps(Re(e.getValue(t)),Re(n.getValue(t))),_i=(e,n,t)=>hn(Re(e.getValue(t)).toLowerCase(),Re(n.getValue(t)).toLowerCase()),Ii=(e,n,t)=>hn(Re(e.getValue(t)),Re(n.getValue(t))),xi=(e,n,t)=>{const s=e.getValue(t),i=n.getValue(t);return s>i?1:s<i?-1:0},Di=(e,n,t)=>hn(e.getValue(t),n.getValue(t));function hn(e,n){return e===n?0:e>n?1:-1}function Re(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function ps(e,n){const t=e.split(tn).filter(Boolean),s=n.split(tn).filter(Boolean);for(;t.length&&s.length;){const i=t.shift(),r=s.shift(),o=parseInt(i,10),u=parseInt(r,10),l=[o,u].sort();if(isNaN(l[0])){if(i>r)return 1;if(r>i)return-1;continue}if(isNaN(l[1]))return isNaN(o)?-1:1;if(o>u)return 1;if(u>o)return-1}return t.length-s.length}const We={alphanumeric:Oi,alphanumericCaseSensitive:bi,text:_i,textCaseSensitive:Ii,datetime:xi,basic:Di},Ei={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:k("sorting",e),isMultiSortEvent:n=>n.shiftKey}),createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const t=n.getFilteredRowModel().flatRows.slice(10);let s=!1;for(const i of t){const r=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(r)==="[object Date]")return We.datetime;if(typeof r=="string"&&(s=!0,r.split(tn).length>1))return We.alphanumeric}return s?We.text:We.basic},e.getAutoSortDir=()=>{const t=n.getFilteredRowModel().flatRows[0];return typeof(t==null?void 0:t.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var t,s;if(!e)throw new Error;return wt(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(t=(s=n.options.sortingFns)==null?void 0:s[e.columnDef.sortingFn])!=null?t:We[e.columnDef.sortingFn]},e.toggleSorting=(t,s)=>{const i=e.getNextSortingOrder(),r=typeof t<"u"&&t!==null;n.setSorting(o=>{const u=o==null?void 0:o.find(d=>d.id===e.id),l=o==null?void 0:o.findIndex(d=>d.id===e.id);let c=[],h,p=r?t:i==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&s?u?h="toggle":h="add":o!=null&&o.length&&l!==o.length-1?h="replace":u?h="toggle":h="replace",h==="toggle"&&(r||i||(h="remove")),h==="add"){var f;c=[...o,{id:e.id,desc:p}],c.splice(0,c.length-((f=n.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else h==="toggle"?c=o.map(d=>d.id===e.id?{...d,desc:p}:d):h==="remove"?c=o.filter(d=>d.id!==e.id):c=[{id:e.id,desc:p}];return c})},e.getFirstSortDir=()=>{var t,s;return((t=(s=e.columnDef.sortDescFirst)!=null?s:n.options.sortDescFirst)!=null?t:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=t=>{var s,i;const r=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==r&&((s=n.options.enableSortingRemoval)==null||s)&&(!(t&&(i=n.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":r},e.getCanSort=()=>{var t,s;return((t=e.columnDef.enableSorting)!=null?t:!0)&&((s=n.options.enableSorting)!=null?s:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var t,s;return(t=(s=e.columnDef.enableMultiSort)!=null?s:n.options.enableMultiSort)!=null?t:!!e.accessorFn},e.getIsSorted=()=>{var t;const s=(t=n.getState().sorting)==null?void 0:t.find(i=>i.id===e.id);return s?s.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t,s;return(t=(s=n.getState().sorting)==null?void 0:s.findIndex(i=>i.id===e.id))!=null?t:-1},e.clearSorting=()=>{n.setSorting(t=>t!=null&&t.length?t.filter(s=>s.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return s=>{t&&(s.persist==null||s.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?n.options.isMultiSortEvent==null?void 0:n.options.isMultiSortEvent(s):!1))}}},createTable:e=>{e.setSorting=n=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(n),e.resetSorting=n=>{var t,s;e.setSorting(n?[]:(t=(s=e.initialState)==null?void 0:s.sorting)!=null?t:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},$i=[Zs,Si,gi,pi,ti,ni,Ci,Ri,Ei,hi,wi,Fi,Pi,Mi,mi];function nr(e){var n,t;const s=[...$i,...(n=e._features)!=null?n:[]];let i={_features:s};const r=i._features.reduce((f,d)=>Object.assign(f,d.getDefaultOptions==null?void 0:d.getDefaultOptions(i)),{}),o=f=>i.options.mergeOptions?i.options.mergeOptions(r,f):{...r,...f};let l={...{},...(t=e.initialState)!=null?t:{}};i._features.forEach(f=>{var d;l=(d=f.getInitialState==null?void 0:f.getInitialState(l))!=null?d:l});const c=[];let h=!1;const p={_features:s,options:{...r,...e},initialState:l,_queue:f=>{c.push(f),h||(h=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();h=!1}).catch(d=>setTimeout(()=>{throw d})))},reset:()=>{i.setState(i.initialState)},setOptions:f=>{const d=Ce(f,i.options);i.options=o(d)},getState:()=>i.options.state,setState:f=>{i.options.onStateChange==null||i.options.onStateChange(f)},_getRowId:(f,d,g)=>{var v;return(v=i.options.getRowId==null?void 0:i.options.getRowId(f,d,g))!=null?v:`${g?[g.id,d].join("."):d}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(f,d)=>{let g=(d?i.getPrePaginationRowModel():i.getRowModel()).rowsById[f];if(!g&&(g=i.getCoreRowModel().rowsById[f],!g))throw new Error;return g},_getDefaultColumnDef:M(()=>[i.options.defaultColumn],f=>{var d;return f=(d=f)!=null?d:{},{header:g=>{const v=g.header.column.columnDef;return v.accessorKey?v.accessorKey:v.accessorFn?v.id:null},cell:g=>{var v,m;return(v=(m=g.renderValue())==null||m.toString==null?void 0:m.toString())!=null?v:null},...i._features.reduce((g,v)=>Object.assign(g,v.getDefaultColumnDef==null?void 0:v.getDefaultColumnDef()),{}),...f}},O(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:M(()=>[i._getColumnDefs()],f=>{const d=function(g,v,m){return m===void 0&&(m=0),g.map(y=>{const R=Ys(i,y,m,v),S=y;return R.columns=S.columns?d(S.columns,R,m+1):[],R})};return d(f)},O(e,"debugColumns")),getAllFlatColumns:M(()=>[i.getAllColumns()],f=>f.flatMap(d=>d.getFlatColumns()),O(e,"debugColumns")),_getAllFlatColumnsById:M(()=>[i.getAllFlatColumns()],f=>f.reduce((d,g)=>(d[g.id]=g,d),{}),O(e,"debugColumns")),getAllLeafColumns:M(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(f,d)=>{let g=f.flatMap(v=>v.getLeafColumns());return d(g)},O(e,"debugColumns")),getColumn:f=>i._getAllFlatColumnsById()[f]};Object.assign(i,p);for(let f=0;f<i._features.length;f++){const d=i._features[f];d==null||d.createTable==null||d.createTable(i)}return i}function sr(){return e=>M(()=>[e.options.data],n=>{const t={rows:[],flatRows:[],rowsById:{}},s=function(i,r,o){r===void 0&&(r=0);const u=[];for(let c=0;c<i.length;c++){const h=ei(e,e._getRowId(i[c],c,o),i[c],c,r,void 0,o==null?void 0:o.id);if(t.flatRows.push(h),t.rowsById[h.id]=h,u.push(h),e.options.getSubRows){var l;h.originalSubRows=e.options.getSubRows(i[c],c),(l=h.originalSubRows)!=null&&l.length&&(h.subRows=s(h.originalSubRows,r+1,h))}}return u};return t.rows=s(n),t},O(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Ai(e){const n=[],t=s=>{var i;n.push(s),(i=s.subRows)!=null&&i.length&&s.getIsExpanded()&&s.subRows.forEach(t)};return e.rows.forEach(t),{rows:n,flatRows:e.flatRows,rowsById:e.rowsById}}function ir(e){return n=>M(()=>[n.getState().pagination,n.getPrePaginationRowModel(),n.options.paginateExpandedRows?void 0:n.getState().expanded],(t,s)=>{if(!s.rows.length)return s;const{pageSize:i,pageIndex:r}=t;let{rows:o,flatRows:u,rowsById:l}=s;const c=i*r,h=c+i;o=o.slice(c,h);let p;n.options.paginateExpandedRows?p={rows:o,flatRows:u,rowsById:l}:p=Ai({rows:o,flatRows:u,rowsById:l}),p.flatRows=[];const f=d=>{p.flatRows.push(d),d.subRows.length&&d.subRows.forEach(f)};return p.rows.forEach(f),p},O(n.options,"debugTable"))}function rr(){return e=>M(()=>[e.getState().sorting,e.getPreSortedRowModel()],(n,t)=>{if(!t.rows.length||!(n!=null&&n.length))return t;const s=e.getState().sorting,i=[],r=s.filter(l=>{var c;return(c=e.getColumn(l.id))==null?void 0:c.getCanSort()}),o={};r.forEach(l=>{const c=e.getColumn(l.id);c&&(o[l.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});const u=l=>{const c=l.map(h=>({...h}));return c.sort((h,p)=>{for(let d=0;d<r.length;d+=1){var f;const g=r[d],v=o[g.id],m=v.sortUndefined,y=(f=g==null?void 0:g.desc)!=null?f:!1;let R=0;if(m){const S=h.getValue(g.id),P=p.getValue(g.id),I=S===void 0,F=P===void 0;if(I||F){if(m==="first")return I?-1:1;if(m==="last")return I?1:-1;R=I&&F?0:I?m:-m}}if(R===0&&(R=v.sortingFn(h,p,g.id)),R!==0)return y&&(R*=-1),v.invertSorting&&(R*=-1),R}return h.index-p.index}),c.forEach(h=>{var p;i.push(h),(p=h.subRows)!=null&&p.length&&(h.subRows=u(h.subRows))}),c};return{rows:u(t.rows),flatRows:i,rowsById:t.rowsById}},O(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}export{er as I,Wi as M,Zi as Q,B as a,Ni as b,Q as c,Ks as d,Yi as e,tr as f,nr as g,Ki as h,Ke as i,ir as j,rr as k,sr as l,L as n,lt as p,Li as s};
